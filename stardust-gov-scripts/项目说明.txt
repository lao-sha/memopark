================================================================================
                    Memopark 区块链治理与工具脚本集
================================================================================

项目路径: /home/xiaodong/文档/memopark/memopark-gov-scripts

--------------------------------------------------------------------------------
一、项目包含的脚本
--------------------------------------------------------------------------------

✅ governance-cli.js          - 委员会治理交互式CLI（主程序）
   功能: 提案管理、投票、执行、做市商审核
   类型: 交互式终端程序
   使用: node governance-cli.js 或 npm run gov

✅ batch-transfer.js           - 批量转账自动化脚本
   功能: 从一个账户向多个地址批量转账随机金额
   类型: 自动执行脚本
   使用: node batch-transfer.js 或 npm run transfer

📝 测试创建挂单.js             - OTC挂单测试脚本
   功能: 测试创建OTC挂单
   
📝 第二个成员投票.js           - 投票测试脚本
   功能: 测试委员会成员投票

--------------------------------------------------------------------------------
二、配置文件
--------------------------------------------------------------------------------

📦 package.json               - 项目依赖配置
   - @polkadot/api: ^10.9.1
   - @polkadot/util-crypto: ^12.3.2

📋 .gitignore                 - Git忽略文件配置

--------------------------------------------------------------------------------
三、文档文件
--------------------------------------------------------------------------------

📖 README.md                  - 完整项目文档（中文）
   包含: 功能特性、安装、使用方法、配置、故障排除

📖 批量转账使用说明.md         - 批量转账详细说明
   包含: 功能介绍、配置说明、执行流程、错误处理

📖 快速开始.md                - 快速开始指南
   包含: 快速上手、常见问题、配置示例

📖 项目说明.txt               - 本文件，项目总览

--------------------------------------------------------------------------------
四、预配置账户信息
--------------------------------------------------------------------------------

账户 1 (发送账户 - 用于批量转账):
  地址: 5CrDBEVDgXUwctSuV8EvQEBo2m187PcxoY36V7H7PGErHUW4
  助记词: satoshi sure behave certain impulse ski slight track century kitchen clutch story
  角色: Council 主力账户

账户 2:
  地址: 5CSepuULuCiDSBjeRqr9ZburDSdTwTk5ro9BgV5u1SbHiQh9
  助记词: scancel claw pretty almost under pepper volume cabbage warm brave name bullet
  角色: Council 成员

账户 3:
  地址: 5CotZ9gD2mLLBQ6sqL2b8gRS1Vxo6HfmRcQ2iu3T825DFgSq
  助记词: report trend decline harbor hobby holiday hope recycle century end holiday display
  角色: Council/委员会成员

--------------------------------------------------------------------------------
五、批量转账接收地址
--------------------------------------------------------------------------------

1. 5CSepuULuCiDSBjeRqr9ZburDSdTwTk5ro9BgV5u1SbHiQh9
2. 5CotZ9gD2mLLBQ6sqL2b8gRS1Vxo6HfmRcQ2iu3T825DFgSq
3. 5C7RjMrgfCJYyscR5Du1BLP99vFGgRDXjAt3ronftJZe39Qo
4. 5CRubhWmwNmJ3z2Ffqs3nf71XQGHBkfKSc1edNvuHZErqvdL

转账金额: 10,000,000 ~ 100,000,000 (随机生成)

--------------------------------------------------------------------------------
六、快速使用指南
--------------------------------------------------------------------------------

1. 安装依赖:
   $ cd /home/xiaodong/文档/memopark/memopark-gov-scripts
   $ npm install

2. 运行治理脚本:
   $ node governance-cli.js
   或
   $ npm run gov

3. 运行批量转账:
   $ node batch-transfer.js
   或
   $ npm run transfer

4. 自定义节点地址:
   $ MEMOPARK_WS=ws://你的节点地址:9944 node governance-cli.js

--------------------------------------------------------------------------------
七、委员会类型
--------------------------------------------------------------------------------

✓ 主委员会 (Council)
  - 做市商申请审核
  - 提案发起、投票、执行
  - 需要 2/3 成员同意

✓ 技术委员会 (Technical Committee)
  - 技术提案管理
  - 提案投票和执行

✓ 内容委员会 (Content Committee)
  - 内容相关提案管理
  - 提案投票和执行

--------------------------------------------------------------------------------
八、批量转账流程
--------------------------------------------------------------------------------

1. ✅ 账户验证        - 验证发送账户地址
2. 🔌 连接节点        - 连接到区块链节点
3. 💰 余额检查        - 检查余额是否充足
4. 📋 生成转账列表    - 为每个地址生成随机金额
5. 💵 预估手续费      - 计算总手续费
6. ⚙️  批量转账       - 依次执行转账
7. 📊 结果统计        - 显示成功/失败统计

预计时间: 约 1-2 分钟 (4笔转账)

--------------------------------------------------------------------------------
九、环境要求
--------------------------------------------------------------------------------

• Node.js >= 16.0.0
• 运行中的 Memopark 节点 (默认: ws://127.0.0.1:9944)
• 发送账户有足够余额
• 交互式终端 (governance-cli.js)

--------------------------------------------------------------------------------
十、主要特性
--------------------------------------------------------------------------------

[治理脚本]
  ✓ 键盘上下键选择账户登录
  ✓ 自动检测委员会成员身份
  ✓ 余额检查
  ✓ 做市商申请列表和状态查询
  ✓ 提案发起、投票、执行
  ✓ 实时状态显示
  ✓ 交易确认追踪

[批量转账脚本]
  ✓ 自动地址验证
  ✓ 随机金额生成
  ✓ 余额充足性检查
  ✓ 手续费预估
  ✓ 批量自动转账
  ✓ 进度实时显示
  ✓ 错误隔离处理
  ✓ 详细结果统计

--------------------------------------------------------------------------------
十一、安全提示
--------------------------------------------------------------------------------

⚠️  不要将包含真实助记词的脚本分享给他人
⚠️  生产环境请使用环境变量存储敏感信息
⚠️  建议先在测试网络验证功能
⚠️  转账前仔细检查地址和金额
⚠️  区块链操作不可撤销，请谨慎操作

--------------------------------------------------------------------------------
十二、常见问题
--------------------------------------------------------------------------------

Q: 无法连接节点?
A: 检查节点是否运行，确认 WebSocket 地址和端口

Q: 地址验证失败?
A: 确认助记词正确，注意不要有多余空格

Q: 余额不足?
A: 向发送账户充值，或减少转账金额

Q: 不是委员会成员?
A: 使用有权限的账户，或在链上添加成员权限

Q: 转账失败?
A: 检查接收地址有效性，确保余额充足

--------------------------------------------------------------------------------
十三、技术架构
--------------------------------------------------------------------------------

框架: @polkadot/api (Polkadot/Substrate JavaScript API)
加密: @polkadot/util-crypto (加密工具库)
交互: Node.js readline + keypress 事件
签名: SR25519 签名方案
网络: WebSocket 连接

--------------------------------------------------------------------------------
十四、脚本状态
--------------------------------------------------------------------------------

✅ governance-cli.js      - 语法检查通过，可执行
✅ batch-transfer.js      - 语法检查通过，可执行
✅ 测试创建挂单.js        - 已存在
✅ 第二个成员投票.js      - 已存在

--------------------------------------------------------------------------------
十五、文件权限
--------------------------------------------------------------------------------

governance-cli.js         rwxrwxr-x (可执行)
batch-transfer.js         rwxrwxr-x (可执行)
其他 .js 文件            rw-rw-r-- (可读写)
文档文件                 rw-rw-r-- (可读写)

--------------------------------------------------------------------------------
十六、版本信息
--------------------------------------------------------------------------------

项目版本: 1.0.0
许可证: MIT
开发时间: 2024年10月
语言: JavaScript (Node.js)

--------------------------------------------------------------------------------
十七、下一步
--------------------------------------------------------------------------------

1. 安装依赖: npm install
2. 确保节点运行
3. 选择需要的脚本运行
4. 查看相关文档了解详细用法

更多信息请参考:
  • README.md - 完整文档
  • 批量转账使用说明.md - 转账详解
  • 快速开始.md - 快速上手

================================================================================
                              祝您使用愉快！🎉
================================================================================

