# 大额批量转账配置说明

## 当前配置

### 转账金额设置

```javascript
const MIN_AMOUNT = 1_000_000_000_000_000_000_000n; // 1,000,000,000 MEMO
```

### 金额详情

| 项目 | 数值 | 说明 |
|------|------|------|
| 最小值 (MEMO) | 1,000,000,000 | 10亿 MEMO |
| 最大值 (MEMO) | 10,000,000,000 | 100亿 MEMO |
| 最小值 (最小单位) | 1,000,000,000,000,000,000,000 | 10^21 |
| 最大值 (最小单位) | 10,000,000,000,000,000,000,000 | 10^22 |

### 随机范围

脚本会在 **10亿 到 100亿 MEMO** 之间生成随机金额，每笔转账金额不同。

## 数值计算

### MEMO 与最小单位的转换

```
1 MEMO = 1,000,000,000,000 最小单位 (10^12)

计算公式:
最小单位 = MEMO数量 × 10^12

示例:
1,000,000,000 MEMO = 1,000,000,000 × 10^12 = 10^21 最小单位
```

### 当前配置详解

```javascript
// MIN_AMOUNT 设置
MIN_AMOUNT = 1_000_000_000_000_000_000_000n

// 数值拆解
= 1,000,000,000 × 1,000,000,000,000
= 10亿 × 10^12
= 10^21 最小单位

// 生成的随机金额范围
最小: MIN_AMOUNT = 10亿 MEMO
最大: MIN_AMOUNT × 10 = 100亿 MEMO
```

## 使用前准备

### 1. 账户余额检查

确保发送账户有足够余额：

```
所需总余额 = 转账总额 + 手续费

示例计算:
• 4笔转账，平均50亿 MEMO
• 总转账额: 200亿 MEMO
• 手续费: 约 0.0004 MEMO
• 需要总余额: ≥ 200亿 MEMO
```

### 2. 账户余额查询

运行脚本会自动显示账户余额，例如：

```
💰 检查账户余额...
   可用余额: 1000000000000.0 MEMO
```

如果余额不足，会显示：

```
❌ 余额不足！
   可用: 100000000.0 MEMO
   需要: 200000000000.5 MEMO
   差额: 199999900000.5 MEMO
```

## 预期输出

### 转账金额示例

```
📋 生成转账列表...
============================================================
1. 5CSepuULuCiDSBjeRqr9ZburDSdTwTk5ro9BgV5u1SbHiQh9
   金额: 4567890123.4567 MEMO
2. 5CotZ9gD2mLLBQ6sqL2b8gRS1Vxo6HfmRcQ2iu3T825DFgSq
   金额: 8123456789.0123 MEMO
3. 5C7RjMrgfCJYyscR5Du1BLP99vFGgRDXjAt3ronftJZe39Qo
   金额: 2345678901.2345 MEMO
4. 5CRubhWmwNmJ3z2Ffqs3nf71XQGHBkfKSc1edNvuHZErqvdL
   金额: 6789012345.6789 MEMO
============================================================
总转账金额: 21826037159.3824 MEMO
总笔数: 4
预估总手续费: 0.0004 MEMO
需要总额: 21826037159.3828 MEMO
```

## 自定义金额配置

### 修改最小金额

编辑 `batch-transfer.js` 第 31 行：

#### 更小金额配置

```javascript
// 100万 MEMO (1百万)
const MIN_AMOUNT = 1_000_000_000_000_000_000n;

// 1000万 MEMO (1千万)
const MIN_AMOUNT = 10_000_000_000_000_000_000n;

// 1亿 MEMO
const MIN_AMOUNT = 100_000_000_000_000_000_000n;
```

#### 更大金额配置

```javascript
// 100亿 MEMO (当前是10亿)
const MIN_AMOUNT = 100_000_000_000_000_000_000_000n;

// 1000亿 MEMO (1千亿)
const MIN_AMOUNT = 1_000_000_000_000_000_000_000_000n;

// 1万亿 MEMO
const MIN_AMOUNT = 1_000_000_000_000_000_000_000_000_000n;
```

### 快速换算表

| MEMO 数量 | 最小单位 (BigInt) |
|----------|------------------|
| 1 | 1_000_000_000_000n |
| 100 | 100_000_000_000_000n |
| 10,000 | 10_000_000_000_000_000n |
| 1,000,000 | 1_000_000_000_000_000_000n |
| 100,000,000 | 100_000_000_000_000_000_000n |
| 1,000,000,000 | 1_000_000_000_000_000_000_000n |
| 10,000,000,000 | 10_000_000_000_000_000_000_000n |

## 注意事项

### ⚠️ 重要警告

1. **超大金额转账**
   - 当前配置为10亿-100亿 MEMO
   - 这是非常大的金额，请谨慎使用
   - 建议在测试网络先验证

2. **账户余额**
   - 确保发送账户有足够余额
   - 4笔转账总额可能达到 200亿+ MEMO
   - 余额不足会导致转账失败

3. **不可撤销**
   - 区块链转账不可撤销
   - 请仔细确认接收地址
   - 转账前多次检查金额

4. **网络状态**
   - 大额转账建议在网络稳定时进行
   - 避免高峰期执行
   - 确保节点连接正常

### 💡 使用建议

1. **测试流程**
   ```bash
   # 1. 先用小金额测试（如 1 MEMO）
   const MIN_AMOUNT = 1_000_000_000_000n;
   
   # 2. 测试成功后再改为目标金额
   const MIN_AMOUNT = 1_000_000_000_000_000_000_000n;
   ```

2. **分批执行**
   - 如果转账数量多，建议分批执行
   - 每批不超过10笔
   - 批次间隔几分钟

3. **备份记录**
   - 脚本会显示每笔转账的区块哈希
   - 建议保存输出日志
   - 记录所有交易详情

## 运行脚本

### 标准运行

```bash
# 方式 1
node batch-transfer.js

# 方式 2
npm run transfer
```

### 指定节点运行

```bash
STARDUST_WS=ws://192.168.1.100:9944 node batch-transfer.js
```

## 验证结果

### 成功输出示例

```
============================================================
📊 批量转账完成
============================================================
✅ 成功: 4 笔
❌ 失败: 0 笔
📝 总计: 4 笔

💰 最终余额查询...
   初始余额: 1000000000000.0 MEMO
   最终余额: 978173962840.6172 MEMO
   实际花费: 21826037159.3828 MEMO
```

### 失败处理

如果出现失败，检查：
1. 余额是否充足
2. 网络是否稳定
3. 接收地址是否正确
4. 节点是否正常运行

## 技术支持

- 主文档: `README.md`
- 批量转账说明: `批量转账使用说明.md`
- 快速开始: `快速开始.md`

---

**配置版本**: 大额转账 (10亿-100亿 MEMO)  
**更新日期**: 2024年10月17日  
**状态**: ✅ 已配置完成

