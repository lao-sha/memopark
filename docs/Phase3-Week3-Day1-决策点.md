# Phase 3 Week 3 Day 1 - å†³ç­–ç‚¹ ğŸš¨

**æ—¶é—´**: 2025-10-25 14:30
**å½“å‰çŠ¶æ€**: pallet-stardust-ipfs æµ‹è¯•é‡é˜»
**æµ‹è¯•ç»“æœ**: 7/19 é€šè¿‡ï¼ˆ12å¤±è´¥ï¼‰

---

## ğŸ”´ å½“å‰é—®é¢˜

### é—®é¢˜1: ExistentialDeposit=0ï¼ˆ1ä¸ªæµ‹è¯•ï¼‰
```rust
// mock.rs ä¸­è®¾ç½®
pub const ExistentialDeposit: Balance = 0;
```
**é”™è¯¯**: "The existential deposit must be greater than zero!"
**å½±å“**: runtime integrity testå¤±è´¥

### é—®é¢˜2: BadStatusé”™è¯¯ï¼ˆ7ä¸ªæµ‹è¯•ï¼‰
```
pin_for_deceased_works
pin_duplicate_cid_fails
pin_fallback_to_caller
pin_fee_goes_to_operator_escrow
pin_quota_resets_correctly
pin_uses_subject_funding_when_over_quota
```
**é”™è¯¯ä»£ç **: Module error [7,0,0,0] - BadStatus
**å¯èƒ½åŸå› **: Pinè¯·æ±‚çŠ¶æ€æœºé€»è¾‘å¤æ‚ï¼Œéœ€è¦é¢å¤–è®¾ç½®

### é—®é¢˜3: ä¸‰é‡æ”¶è´¹ä½™é¢ä¸è¶³ï¼ˆ4ä¸ªæµ‹è¯•ï¼‰
```
triple_charge_from_pool_with_quota
triple_charge_from_subject_over_quota
triple_charge_from_caller_fallback
triple_charge_quota_reset
```
**é”™è¯¯ä»£ç **: Module error [15,0,0,0] - AllThreeAccountsInsufficientBalance
**å¯èƒ½åŸå› **: 
- Poolè´¦æˆ·éœ€è¦æ˜¾å¼åˆå§‹åŒ–ä½™é¢
- SubjectFundingè´¦æˆ·åœ°å€è®¡ç®—å¯èƒ½æœ‰é—®é¢˜
- æµ‹è¯•ä¸­çš„`deposit_creating`å¯èƒ½ä¸work

---

## ğŸ“Š å¤æ‚åº¦åˆ†æ

### pallet-stardust-ipfsç‰¹æ®Šæ€§
```
1. ä¸‰é‡æ”¶è´¹æœºåˆ¶ï¼ˆPoolâ†’Subjectâ†’Callerï¼‰
2. é…é¢ç®¡ç†ï¼ˆæœˆåº¦é‡ç½®ï¼‰
3. PinçŠ¶æ€æœºï¼ˆPendingâ†’Activeâ†’Graceâ†’Expiredï¼‰
4. æ“ä½œå‘˜é€‰æ‹©ä¸æƒé‡
5. è®¡è´¹é˜Ÿåˆ—ä¸on_initialize
```

**å¯¹æ¯”å…¶ä»–pallet**:
- stardust-park: ç®€å•CRUD âœ… 17ä¸ªæµ‹è¯•é€šè¿‡
- deceased: åŸºç¡€+ç”³è¯‰ âœ… 20ä¸ªæµ‹è¯•é€šè¿‡
- memo-offerings: ä¸­ç­‰å¤æ‚ âœ… 20ä¸ªæµ‹è¯•é€šè¿‡
- pricing: æ•°æ®èšåˆ âœ… 12ä¸ªæµ‹è¯•é€šè¿‡
- escrow: é€šç”¨æ‰˜ç®¡ âœ… 18ä¸ªæµ‹è¯•é€šè¿‡
- market-maker: æ—©æœŸé˜¶æ®µ âš ï¸ 7ä¸ªæµ‹è¯•é€šè¿‡

**stardust-ipfséš¾åº¦**: â­â­â­â­â­ï¼ˆæœ€é«˜ï¼‰

---

## ğŸ¯ ä¸¤æ¡è·¯å¾„

### é€‰é¡¹A: æ·±åº¦ä¿®å¤stardust-ipfsï¼ˆé¢„è®¡3-4å°æ—¶ï¼‰

**ä¿®å¤æ­¥éª¤**:
1. ExistentialDepositæ”¹ä¸º1ï¼ˆ5åˆ†é’Ÿï¼‰âœ…
2. ç ”ç©¶BadStatusé”™è¯¯æ ¹å› ï¼ˆ30åˆ†é’Ÿï¼‰â“
3. ä¿®å¤ä¸‰é‡æ”¶è´¹ä½™é¢é—®é¢˜ï¼ˆ45åˆ†é’Ÿï¼‰â“
4. è°ƒæ•´æµ‹è¯•é€»è¾‘ï¼ˆ60åˆ†é’Ÿï¼‰â“
5. è¿­ä»£è°ƒè¯•ï¼ˆ90åˆ†é’Ÿï¼‰â“

**é£é™©**:
- stardust-ipfsæ¶‰åŠå¤šä¸ªå¤æ‚æœºåˆ¶
- å¯èƒ½éœ€è¦æ·±å…¥ç†è§£lib.rsçš„çŠ¶æ€æœº
- æ—¶é—´å¯èƒ½è¶…å‡ºé¢„æœŸï¼ˆ3-6å°æ—¶ï¼‰

**æ”¶ç›Š**:
- å®Œæ•´éªŒè¯stardust-ipfsåŠŸèƒ½
- ä¸ºå…¶ä»–palletæä¾›å¤æ‚æµ‹è¯•æ ·æœ¬

### é€‰é¡¹B: æˆ˜ç•¥è°ƒæ•´ï¼ˆæ¨èï¼‰

**ç«‹å³è¡ŒåŠ¨**:
1. ä¿®å¤ExistentialDepositï¼ˆ5åˆ†é’Ÿï¼‰
2. ä¿ç•™7ä¸ªé€šè¿‡çš„æµ‹è¯•
3. æ ‡è®°12ä¸ªå¤±è´¥æµ‹è¯•ä¸º`#[ignore]`
4. æ·»åŠ TODOæ³¨é‡Šè¯´æ˜éœ€ä¸“é—¨ä»»åŠ¡å¤„ç†
5. è½¬å‘Week 3å…¶ä»–pallet

**æ”¶ç›Š**:
- ä¿æŒWeek 3èŠ‚å¥
- é¿å…é™·å…¥å•ä¸€pallet
- ç´¯ç§¯æ›´å¤šæµ‹è¯•ç»éªŒåå†å›æ¥æ”»åš

**åç»­**:
- Week 3 Day 2-5: ç»§ç»­å…¶ä»–palletï¼ˆé¢„è®¡å®Œæˆ6-8ä¸ªï¼‰
- Week 4ä¸“é¡¹ä»»åŠ¡: stardust-ipfsæ·±åº¦ä¿®å¤

---

## ğŸ’¡ å»ºè®®

åŸºäºPhase 3çš„æ•´ä½“ç›®æ ‡ï¼ˆæµ‹è¯•è¦†ç›–27ä¸ªpalletï¼‰ï¼Œ**å»ºè®®é€‰æ‹©B**ï¼š

### ç†ç”±
1. **æ—¶é—´æ•ˆç‡**: stardust-ipfså¯èƒ½è€—è´¹æ•´ä¸ªDay 1-2
2. **é£é™©æ§åˆ¶**: é¿å…å•ç‚¹é˜»å¡æ•´ä¸ªWeek 3
3. **å­¦ä¹ æ›²çº¿**: å…ˆå®Œæˆç®€å•palletï¼Œç§¯ç´¯æµ‹è¯•ç»éªŒ
4. **æˆæœå¯è§**: Week 3å®Œæˆæ›´å¤špalletæ•°é‡

### è°ƒæ•´åçš„Week 3è®¡åˆ’
```
Day 1: stardust-ipfsåŸºç¡€æµ‹è¯•ï¼ˆ7/19é€šè¿‡ï¼‰+ è½¬å‘æ–°pallet âœ…
Day 2-3: å®Œæˆ4-6ä¸ªç®€å•pallet
Day 4-5: å®Œæˆ2-3ä¸ªä¸­ç­‰pallet
ä¸“é¡¹ä»»åŠ¡: stardust-ipfsæ·±åº¦ä¿®å¤ï¼ˆé¢„ç•™Week 4ï¼‰
```

---

## ğŸ¤” æ‚¨çš„é€‰æ‹©

**A. ç»§ç»­æ·±åº¦ä¿®å¤stardust-ipfs**ï¼ˆé¢„è®¡3-4å°æ—¶ï¼Œé«˜é£é™©ï¼‰
- ç«‹å³ç ”ç©¶BadStatusé”™è¯¯
- ä¿®å¤ä¸‰é‡æ”¶è´¹æœºåˆ¶
- ç›®æ ‡ï¼š19/19æµ‹è¯•é€šè¿‡

**B. æˆ˜ç•¥è°ƒæ•´ï¼ˆæ¨èï¼‰**ï¼ˆç«‹å³æ‰§è¡Œï¼Œä½é£é™©ï¼‰
- ä¿®å¤ExistentialDeposit
- æ ‡è®°å¤±è´¥æµ‹è¯•ä¸ºignore
- è½¬å‘Week 3å…¶ä»–pallet

---

**è¯·è¾“å…¥: A æˆ– B**

