# 移动端首页设计说明

> **创建日期**: 2025-11-07  
> **版本**: 1.0.0  
> **设计风格**: 内嵌浏览器移动端专用  

---

## 📱 设计概述

全新的移动端首页采用内嵌浏览器风格设计，专为移动设备优化，提供流畅的触控体验和清晰的信息层次。

### 核心特点

- ✅ **移动端优先**: 专为移动设备设计，不考虑PC端适配
- ✅ **内嵌浏览器风格**: 适合APP内嵌网页使用
- ✅ **卡片式布局**: 清晰的信息分层，易于浏览
- ✅ **触控优化**: 所有交互元素都经过触控优化
- ✅ **默认头像**: 统一使用默认头像，保持一致性
- ✅ **主题色统一**: 遵循项目色彩规范

---

## 🎨 设计规范

### 色彩方案

| 颜色类型 | 色值 | 用途 |
|---------|------|------|
| **主色** | `#B8860B` | 顶部导航、主要按钮、强调元素 |
| **辅色** | `#2F4F4F` | 标题文字、图标、辅助按钮 |
| **强调色** | `#DC143C` | 供奉相关、重要提示 |
| **背景色** | `#F5F5DC` | 页面背景 |

### 渐变配色

```css
/* 顶部导航渐变 */
linear-gradient(135deg, #B8860B 0%, #2F4F4F 100%)

/* 欢迎横幅渐变 */
linear-gradient(135deg, #2F4F4F 0%, #B8860B 50%, #DC143C 100%)

/* 统计图标渐变 */
linear-gradient(135deg, #B8860B, #DAA520)
linear-gradient(135deg, #DC143C, #F08080)
linear-gradient(135deg, #2F4F4F, #5F9EA0)
linear-gradient(135deg, #4682B4, #87CEEB)
```

### 尺寸规范

- **页面最大宽度**: 480px（大屏居中显示）
- **内边距**: 16px（标准）、12px（紧凑）
- **卡片圆角**: 12px
- **图标圆角**: 10px、50%（圆形）
- **间距**: 12px、16px、20px、24px

### 字体规范

- **标题**: 15-20px, font-weight: 600
- **正文**: 13-14px, font-weight: 400
- **辅助文字**: 12px, color: secondary
- **数值**: 18px, font-weight: 600

---

## 📐 页面结构

### 1. 顶部用户区域（Header）

**功能**: 显示用户信息和钱包连接状态

**组成元素**:
- 用户头像（默认 Avatar，48px）
- 用户昵称（显示钱包名称或"访客"）
- 连接状态（"已连接"/"未连接钱包"）
- 钱包按钮（右上角）

**技术要点**:
```tsx
<Avatar 
  size={48} 
  icon={<UserOutlined />} 
  style={{ 
    backgroundColor: '#B8860B',
    border: '2px solid #fff',
    boxShadow: '0 2px 8px rgba(0,0,0,0.15)'
  }} 
/>
```

**设计特色**:
- 渐变背景（深金色→墨绿色）
- 固定顶部（sticky）
- 白色边框头像

---

### 2. 欢迎横幅（Welcome Banner）

**功能**: 品牌展示和欢迎信息

**组成元素**:
- 主标题："星尘纪念 · Stardust"
- 副标题："让爱延续，让记忆永存"

**技术要点**:
```tsx
<div className="welcome-banner">
  <div className="banner-content">
    <Title level={3} style={{ color: '#fff', margin: 0, fontSize: 20 }}>
      星尘纪念 · Stardust
    </Title>
    <Text style={{ color: 'rgba(255,255,255,0.9)', fontSize: 14 }}>
      让爱延续，让记忆永存
    </Text>
  </div>
</div>
```

**设计特色**:
- 三色渐变背景（墨绿→深金→朱红）
- 径向渐变装饰
- 白色文字 + 阴影效果
- 向上偏移统计卡片（-20px）

---

### 3. 统计数据卡片（Stats）

**功能**: 展示平台核心数据

**数据项**:
1. **纪念馆**: 总数量，深金色图标
2. **供奉次数**: 累计供奉，朱红色图标
3. **活跃用户**: 用户数量，墨绿色图标
4. **珍贵记忆**: 记忆条目，蓝色图标

**布局**: 2x2 网格，每个卡片包含：
- 渐变图标（48px）
- 数值（18px，粗体）
- 标签（12px，灰色）

**技术要点**:
```tsx
<div className="stat-item">
  <div className="stat-icon" style={{ background: 'linear-gradient(135deg, #B8860B, #DAA520)' }}>
    <EnvironmentOutlined style={{ fontSize: 20, color: '#fff' }} />
  </div>
  <div className="stat-info">
    <Text strong style={{ fontSize: 18, color: '#2F4F4F' }}>
      {stats.totalGraves.toLocaleString()}
    </Text>
    <Text type="secondary" style={{ fontSize: 12 }}>纪念馆</Text>
  </div>
</div>
```

**设计特色**:
- 向上偏移与横幅重叠（transform: translateY(-20px)）
- 卡片阴影 + 边框
- 点击反馈（:active 缩放）
- 错峰淡入动画

---

### 4. 快捷操作区域（Quick Actions）

**功能**: 四个核心功能快速入口

**操作项**:
1. **创建纪念馆** → `#/grave/create`
   - 图标: PlusOutlined
   - 颜色: 深金色 #B8860B
   
2. **我要供奉** → `#/offerings/timeline`
   - 图标: GiftOutlined
   - 颜色: 朱红色 #DC143C
   
3. **探索纪念馆** → `#/grave/list`
   - 图标: SearchOutlined
   - 颜色: 墨绿色 #2F4F4F
   
4. **我的创建** → `#/grave/my`
   - 图标: HeartOutlined
   - 颜色: 蓝色 #4682B4

**布局**: 2x2 网格，每个卡片包含：
- 彩色图标（56px，10% 透明度背景）
- 标题（15px，粗体）
- 描述（12px，灰色）

**技术要点**:
```tsx
<div className="action-item" onClick={() => window.location.hash = action.route}>
  <div className="action-icon-wrapper" style={{ backgroundColor: action.bgColor }}>
    <div style={{ color: action.color }}>
      {action.icon}
    </div>
  </div>
  <Text strong style={{ fontSize: 15, color: '#2F4F4F', marginTop: 8 }}>
    {action.label}
  </Text>
  <Text type="secondary" style={{ fontSize: 12 }}>
    {action.description}
  </Text>
</div>
```

**设计特色**:
- 最小高度 140px
- 点击反馈（:active 缩放 0.95）
- 图标放大效果
- 错峰淡入动画

---

### 5. 平台特色（Features）

**功能**: 展示平台四大核心优势

**特色项**:
1. **区块链认证** - SafetyOutlined - 深金色
2. **IPFS存储** - CloudOutlined - 朱红色
3. **亲友共建** - TeamOutlined - 墨绿色
4. **虚拟供奉** - FireOutlined - 蓝色

**布局**: 列表形式，每项包含：
- 彩色图标（48px，15% 透明度背景）
- 标题（15px，粗体）
- 描述（13px，灰色）

**技术要点**:
```tsx
<List
  dataSource={features}
  renderItem={(item) => (
    <List.Item style={{ padding: '12px 0', border: 'none' }}>
      <List.Item.Meta
        avatar={
          <div 
            className="feature-icon"
            style={{ 
              backgroundColor: `${item.color}15`,
              color: item.color
            }}
          >
            {React.cloneElement(item.icon as React.ReactElement, { style: { fontSize: 24 } })}
          </div>
        }
        title={<Text strong>{item.title}</Text>}
        description={<Text type="secondary">{item.description}</Text>}
      />
    </List.Item>
  )}
/>
```

**设计特色**:
- 白色卡片容器
- 无边框列表
- 淡入动画

---

### 6. 热门纪念馆（Hot Graves）

**功能**: 展示平台最受欢迎的纪念馆

**展示内容**:
- 排名徽章（金、银、铜）
- 纪念馆名称
- 访问次数
- 供奉次数
- 右箭头（可点击）

**布局**: 列表形式，3个热门纪念馆

**技术要点**:
```tsx
<List.Item 
  style={{ padding: '12px 0', border: 'none' }}
  onClick={() => window.location.hash = `#/grave/detail?id=${item.id}`}
>
  <List.Item.Meta
    avatar={
      <Badge 
        count={index + 1} 
        style={{ 
          backgroundColor: index === 0 ? '#B8860B' : index === 1 ? '#C0C0C0' : '#CD7F32'
        }}
      >
        <Avatar 
          size={48} 
          icon={<EnvironmentOutlined />}
          style={{ 
            backgroundColor: '#F5F5DC',
            color: '#B8860B'
          }}
        />
      </Badge>
    }
    title={<Text strong>{item.name}</Text>}
    description={
      <Space size={16} style={{ fontSize: 12 }}>
        <Text type="secondary">
          <ClockCircleOutlined /> {item.visits} 访问
        </Text>
        <Text type="secondary">
          <GiftOutlined /> {item.offerings} 供奉
        </Text>
      </Space>
    }
  />
  <RightOutlined style={{ color: '#999' }} />
</List.Item>
```

**设计特色**:
- 排名徽章（金#B8860B、银#C0C0C0、铜#CD7F32）
- 默认头像（48px）
- 点击反馈
- "查看更多"链接

---

### 7. 底部信息（Footer）

**功能**: 版权信息和连接状态

**展示内容**:
- 版权声明
- 技术说明
- 区块链连接状态

**技术要点**:
```tsx
<Space direction="vertical" align="center" size={4} style={{ width: '100%' }}>
  <Text type="secondary" style={{ fontSize: 13 }}>
    © 2025 Stardust 星尘纪念平台
  </Text>
  <Text type="secondary" style={{ fontSize: 12 }}>
    基于区块链与IPFS技术 · 永久保存
  </Text>
  <Space size={8} style={{ marginTop: 8 }}>
    <Badge status="success" text={isConnected ? '区块链已连接' : '区块链未连接'} />
  </Space>
</Space>
```

**设计特色**:
- 居中对齐
- 分割线装饰
- 状态徽章

---

## 🎯 交互设计

### 触控反馈

所有可点击元素都有明确的触控反馈：

```css
.action-item:active {
  transform: scale(0.95);
  box-shadow: 0 4px 12px rgba(47, 79, 79, 0.2);
  border-color: rgba(184, 134, 11, 0.3);
}
```

### 动画效果

1. **页面进入动画**:
   - 整体淡入（0.4s）
   
2. **元素淡入动画**:
   - 从下方 20px 淡入
   - 错峰延迟（0.1s-0.6s）
   
3. **点击反馈**:
   - 缩放至 0.95-0.98
   - 阴影增强

### 路由导航

```tsx
// 快捷操作点击
onClick={() => window.location.hash = action.route}

// 纪念馆详情
onClick={() => window.location.hash = `#/grave/detail?id=${item.id}`}
```

---

## 📱 屏幕适配

### 标准屏幕（375px - 480px）

默认设计尺寸，最佳体验。

### 小屏幕（< 360px）

自动优化：
- 减小内边距（16px → 12px）
- 缩小图标（56px → 48px）
- 缩小卡片高度（140px → 130px）

### 大屏幕（> 768px）

自动限制：
- 最大宽度 480px
- 居中显示
- 添加阴影效果

```css
@media (min-width: 768px) {
  .mobile-home-page {
    max-width: 480px;
    margin: 0 auto;
    box-shadow: 0 0 24px rgba(0, 0, 0, 0.1);
  }
}
```

---

## 🔧 技术实现

### 技术栈

- **框架**: React 18 + TypeScript
- **UI库**: Ant Design 5
- **样式**: CSS Modules
- **状态**: React Hooks
- **路由**: Hash Router

### 关键组件

```tsx
// Ant Design 组件
import { 
  Card,        // 卡片容器
  Typography,  // 文字排版
  Button,      // 按钮
  Space,       // 间距
  Avatar,      // 头像
  Divider,     // 分割线
  Badge,       // 徽章
  List         // 列表
} from 'antd'

// 图标组件
import {
  PlusOutlined,      // 创建
  GiftOutlined,      // 供奉
  SearchOutlined,    // 搜索
  HeartOutlined,     // 喜欢
  // ...更多图标
} from '@ant-design/icons'
```

### 状态管理

```tsx
// 钱包状态
const { isConnected, selectedAccount } = useWallet()

// 统计数据状态
const [stats, setStats] = useState({
  totalGraves: 0,
  totalOfferings: 0,
  activeUsers: 0,
  totalMemories: 0
})

// 加载统计数据
useEffect(() => {
  const loadStats = async () => {
    const api = await getApi()
    // 从链上查询数据
    // ...
  }
  loadStats()
  
  // 定时刷新（每30秒）
  const interval = setInterval(loadStats, 30000)
  return () => clearInterval(interval)
}, [])
```

### 默认头像处理

统一使用 Ant Design 的 Avatar 组件 + UserOutlined 图标：

```tsx
<Avatar 
  size={48} 
  icon={<UserOutlined />} 
  style={{ 
    backgroundColor: '#B8860B',  // 深金色
    border: '2px solid #fff',    // 白色边框
    boxShadow: '0 2px 8px rgba(0,0,0,0.15)'  // 阴影
  }} 
/>
```

---

## 📊 数据接口

### 统计数据

```typescript
interface Stats {
  totalGraves: number      // 纪念馆总数
  totalOfferings: number   // 供奉次数
  activeUsers: number      // 活跃用户
  totalMemories: number    // 珍贵记忆
}
```

### 热门纪念馆

```typescript
interface HotGrave {
  id: number          // 纪念馆ID
  name: string        // 纪念馆名称
  visits: number      // 访问次数
  offerings: number   // 供奉次数
}
```

### TODO: 链上数据查询

目前使用模拟数据，后续需要对接链上 pallet：

```typescript
// 待实现
const gravesCount = await api.query.memoGrave.gravesCount()
const offeringsCount = await api.query.memoOffering.offeringsCount()
const activeUsersCount = await api.query.credit.activeUsers()
```

---

## 🎨 设计亮点

### 1. 内嵌浏览器风格

- 固定宽度布局（max-width: 480px）
- 垂直滚动，无横向滚动
- 顶部固定导航（sticky header）
- 适合 APP 内嵌使用

### 2. 触控优化

- 所有按钮最小尺寸 48x48px
- 点击区域足够大
- 明确的 :active 反馈
- 防止误触

### 3. 视觉层次

- 清晰的卡片分层
- 统一的圆角（12px）
- 一致的间距（12px/16px）
- 优雅的阴影效果

### 4. 色彩运用

- 遵循项目色彩规范
- 渐变增强视觉效果
- 10%-15% 透明度背景
- 金、银、铜排名徽章

### 5. 动画细节

- 错峰淡入动画
- 缩放点击反馈
- 页面整体淡入
- 流畅的过渡效果

### 6. 统一头像

- 使用默认 Avatar 组件
- 深金色背景
- 白色边框
- 阴影增强立体感

---

## 📝 使用说明

### 访问首页

```
#/home 或 #/
```

### 快捷操作

- **创建纪念馆**: 点击左上角"创建纪念馆"卡片
- **我要供奉**: 点击右上角"我要供奉"卡片
- **探索纪念馆**: 点击左下角"探索纪念馆"卡片
- **我的创建**: 点击右下角"我的创建"卡片

### 查看详情

- **纪念馆详情**: 点击热门纪念馆列表中的任意项
- **查看更多**: 点击"热门纪念馆"标题右侧的"查看更多"

### 钱包操作

- 点击右上角钱包图标进入钱包管理

---

## ⚠️ 注意事项

### 设计约束

1. ✅ **仅移动端**: 不考虑PC端适配
2. ✅ **固定宽度**: 最大宽度 480px
3. ✅ **默认头像**: 统一使用 Avatar + Icon
4. ✅ **触控优先**: 所有交互针对触控优化

### 开发规范

1. 所有代码必须有详细的中文注释
2. 遵循项目色彩规范
3. 保持组件化设计
4. 优化加载性能

### 后续优化

1. [ ] 对接真实链上数据
2. [ ] 实现轮播图功能
3. [ ] 添加下拉刷新
4. [ ] 添加骨架屏加载
5. [ ] 优化图片懒加载
6. [ ] 添加暗色模式

---

## 📚 相关文档

- `项目索引.md` - 项目完整信息
- `.cursorrules` - 项目开发规范
- `stardust-dapp/README.md` - 前端项目说明

---

## 👨‍💻 维护信息

- **创建日期**: 2025-11-07
- **维护团队**: Stardust 开发团队
- **文件路径**: `/home/xiaodong/文档/stardust/stardust-dapp/src/features/home/`
  - `ModernHomePage.tsx` - 组件代码
  - `ModernHomePage.css` - 样式代码

---

**让记忆永存，让爱延续** ✨

