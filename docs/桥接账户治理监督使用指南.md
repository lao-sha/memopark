# DUST æ¡¥æ¥è´¦æˆ·æ²»ç†ç›‘ç£ä½¿ç”¨æŒ‡å—

## ğŸ“‹ ç›®å½•

- [æ–¹æ¡ˆæ¦‚è¿°](#æ–¹æ¡ˆæ¦‚è¿°)
- [æ ¸å¿ƒæœºåˆ¶](#æ ¸å¿ƒæœºåˆ¶)
- [æ²»ç†æµç¨‹](#æ²»ç†æµç¨‹)
- [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)
- [å®‰å…¨åˆ†æ](#å®‰å…¨åˆ†æ)
- [å¯¹æ¯”å…¶ä»–æ–¹æ¡ˆ](#å¯¹æ¯”å…¶ä»–æ–¹æ¡ˆ)

---

## æ–¹æ¡ˆæ¦‚è¿°

**æ–¹æ¡ˆ 5ï¼šæ²»ç†ç›‘ç£ + ç¤¾åŒºæŠ•ç¥¨æ²»ç†** æ˜¯ä¸€ä¸ªåŸºäºå»ä¸­å¿ƒåŒ–æ²»ç†çš„æ¡¥æ¥è´¦æˆ·å®‰å…¨æ–¹æ¡ˆï¼Œé€šè¿‡ç¤¾åŒºæŠ•ç¥¨æ¥å†³å®šæ‰€æœ‰æ¡¥æ¥è´¦æˆ·çš„å…³é”®æ“ä½œã€‚

### æ ¸å¿ƒç‰¹ç‚¹

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| âœ… **å»ä¸­å¿ƒåŒ–** | æ— éœ€ä¿¡ä»»å•ä¸€å®ä½“ |
| âœ… **é€æ˜** | æ‰€æœ‰æ“ä½œé“¾ä¸Šå¯æŸ¥ |
| âœ… **æ°‘ä¸»** | æŒå¸ç”¨æˆ·æŒ‰æƒé‡æŠ•ç¥¨ |
| âœ… **å¯å®¡è®¡** | å®Œæ•´å®¡è®¡æ—¥å¿— |
| âœ… **çµæ´»** | å¯æ ¹æ®ç¤¾åŒºéœ€æ±‚è°ƒæ•´å‚æ•° |

### æ²»ç†å‚æ•°ï¼ˆå¯è°ƒæ•´ï¼‰

```rust
pub struct GovernanceConfig {
    /// ææ¡ˆæŠ•ç¥¨æœŸé™ï¼ˆåŒºå—æ•°ï¼‰
    pub voting_period: u32,                    // é»˜è®¤ï¼š7å¤© = 100,800åŒºå—
    
    /// ææ¡ˆé€šè¿‡é˜ˆå€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰
    pub approval_threshold: u16,               // é»˜è®¤ï¼š66.67%
    
    /// æœ€å°æŠ•ç¥¨ç‡è¦æ±‚ï¼ˆç™¾åˆ†æ¯”ï¼‰
    pub min_turnout: u16,                      // é»˜è®¤ï¼š30%
    
    /// ææ¡ˆæŠ¼é‡‘
    pub proposal_deposit: u128,                // é»˜è®¤ï¼š10,000 DUST
    
    /// æ˜¯å¦éœ€è¦ç†äº‹ä¼šé¢„æ‰¹å‡†
    pub require_council_approval: bool,        // é»˜è®¤ï¼štrue
}
```

---

## æ ¸å¿ƒæœºåˆ¶

### 1. ææ¡ˆç±»å‹

```rust
pub enum ProposalType {
    /// è®¾ç½®æ¡¥æ¥è´¦æˆ·
    SetBridgeAccount,
    
    /// ç´§æ€¥æš‚åœæ¡¥æ¥
    EmergencyPause,
    
    /// æ¢å¤æ¡¥æ¥
    ResumeBridge,
    
    /// è°ƒæ•´é‡‘é¢é™åˆ¶
    AdjustLimits,
    
    /// æå–èµ„é‡‘ï¼ˆéœ€è¦æœ€é«˜æƒé™ï¼‰
    WithdrawFunds,
}
```

### 2. ææ¡ˆç”Ÿå‘½å‘¨æœŸ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ææ¡ˆç”Ÿå‘½å‘¨æœŸçŠ¶æ€æœº                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   [ç”¨æˆ·åˆ›å»ºææ¡ˆ] â”€â”€â”€â”€â–º Pendingï¼ˆå¾…å®¡æ ¸ï¼‰
                            â”‚
            ï¼ˆç†äº‹ä¼šæ‰¹å‡†ï¼‰    â”‚
                            â–¼
                       Activeï¼ˆæŠ•ç¥¨ä¸­ï¼‰
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                       â”‚
    [æŠ•ç¥¨æœŸç»“æŸ]                            [æŠ•ç¥¨æœŸç»“æŸ]
        â”‚                                       â”‚
        â–¼                                       â–¼
    Approvedï¼ˆé€šè¿‡ï¼‰                        Rejectedï¼ˆæ‹’ç»ï¼‰
        â”‚
    [æ‰§è¡Œææ¡ˆ]
        â”‚
        â–¼
    Executedï¼ˆå·²æ‰§è¡Œï¼‰
```

### 3. æŠ•ç¥¨æƒé‡æœºåˆ¶

```
æŠ•ç¥¨æƒé‡ = ç”¨æˆ·æŒæœ‰çš„ DUST æ•°é‡

æœ€ç»ˆç»“æœè®¡ç®—ï¼š
- èµæˆç‡ = èµæˆç¥¨æ•° / æ€»ç¥¨æ•°
- æŠ•ç¥¨ç‡ = æ€»ç¥¨æ•° / DUST æ€»ä¾›åº”é‡
- é€šè¿‡æ¡ä»¶ = (èµæˆç‡ >= 66.67%) AND (æŠ•ç¥¨ç‡ >= 30%)
```

### 4. å®¡è®¡æ—¥å¿—

æ¯ä¸ªæ¡¥æ¥ç›¸å…³æ“ä½œéƒ½ä¼šè¢«è®°å½•ï¼š

```rust
pub struct AuditRecord {
    /// å®¡è®¡ ID
    pub audit_id: u64,
    
    /// æ“ä½œç±»å‹ï¼ˆå¦‚ "bridge_to_arbitrum"ï¼‰
    pub operation: String,
    
    /// æ“ä½œè€…
    pub operator: AccountId,
    
    /// é‡‘é¢ï¼ˆå¦‚æœé€‚ç”¨ï¼‰
    pub amount: Option<Balance>,
    
    /// æ“ä½œæ—¶é—´
    pub timestamp: BlockNumber,
    
    /// å…³è”ææ¡ˆ IDï¼ˆå¦‚æœé€‚ç”¨ï¼‰
    pub proposal_id: Option<u64>,
    
    /// æ“ä½œç»“æœ
    pub success: bool,
    
    /// å¤‡æ³¨
    pub notes: String,
}
```

---

## æ²»ç†æµç¨‹

### åœºæ™¯ 1ï¼šè®¾ç½®æ¡¥æ¥è´¦æˆ·

#### æ­¥éª¤ 1ï¼šåˆ›å»ºææ¡ˆ

```javascript
// å‰ç«¯ä»£ç 
import { ApiPromise, WsProvider } from '@polkadot/api';
import { Keyring } from '@polkadot/keyring';

const api = await ApiPromise.create({
  provider: new WsProvider('ws://127.0.0.1:9944'),
});

const keyring = new Keyring({ type: 'sr25519' });
const proposer = keyring.addFromUri('//Alice');

// 1. å‡†å¤‡ææ¡ˆå‚æ•°
const newBridgeAccount = '5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY';
const proposalType = api.createType('ProposalType', 'SetBridgeAccount');
const descriptionCid = 'QmXXXXXXXXXXXXXXXXXXX'; // IPFS CID
const params = api.createType('AccountId', newBridgeAccount).toU8a();

// 2. åˆ›å»ºææ¡ˆ
const tx = api.tx.dustBridge.createProposal(
  proposalType,
  descriptionCid,
  params
);

// 3. ç­¾åå¹¶å‘é€
await tx.signAndSend(proposer, ({ status, events }) => {
  if (status.isInBlock) {
    console.log('âœ… ææ¡ˆå·²åˆ›å»º');
    
    // æŸ¥æ‰¾ ProposalCreated äº‹ä»¶
    events.forEach(({ event }) => {
      if (api.events.dustBridge.ProposalCreated.is(event)) {
        const [proposalId, proposer, proposalType] = event.data;
        console.log(`ææ¡ˆ ID: ${proposalId}`);
      }
    });
  }
});
```

#### æ­¥éª¤ 2ï¼šç¤¾åŒºæŠ•ç¥¨

```javascript
// ä»»ä½•æŒå¸ç”¨æˆ·éƒ½å¯ä»¥æŠ•ç¥¨
const voter = keyring.addFromUri('//Bob');
const proposalId = 1;
const vote = api.createType('VoteOption', 'Aye'); // èµæˆ

const tx = api.tx.dustBridge.vote(proposalId, vote);

await tx.signAndSend(voter, ({ status, events }) => {
  if (status.isInBlock) {
    console.log('âœ… æŠ•ç¥¨æˆåŠŸ');
    
    events.forEach(({ event }) => {
      if (api.events.dustBridge.Voted.is(event)) {
        const [proposalId, voter, vote, weight] = event.data;
        console.log(`æŠ•ç¥¨æƒé‡: ${weight.toString()} DUST`);
      }
    });
  }
});
```

#### æ­¥éª¤ 3ï¼šæŸ¥è¯¢æŠ•ç¥¨ç»“æœ

```javascript
// æŸ¥è¯¢ææ¡ˆè¯¦æƒ…
const proposal = await api.query.dustBridge.proposals(proposalId);
console.log('ææ¡ˆè¯¦æƒ…:', proposal.toHuman());

// è¾“å‡ºç¤ºä¾‹ï¼š
// {
//   proposalId: 1,
//   proposer: '5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY',
//   proposalType: 'SetBridgeAccount',
//   status: 'Active',
//   ayeVotes: '1,500,000 DUST',
//   nayVotes: '200,000 DUST',
//   abstainVotes: '50,000 DUST',
//   votingDeadline: 150000
// }
```

#### æ­¥éª¤ 4ï¼šæ‰§è¡Œææ¡ˆ

```javascript
// æŠ•ç¥¨æœŸç»“æŸåï¼Œä»»ä½•äººéƒ½å¯ä»¥è§¦å‘æ‰§è¡Œ
const executor = keyring.addFromUri('//Charlie');

const tx = api.tx.dustBridge.executeProposal(proposalId);

await tx.signAndSend(executor, ({ status, events }) => {
  if (status.isInBlock) {
    console.log('âœ… ææ¡ˆå·²æ‰§è¡Œ');
    
    events.forEach(({ event }) => {
      if (api.events.dustBridge.ProposalExecuted.is(event)) {
        const [proposalId] = event.data;
        console.log(`ææ¡ˆ ${proposalId} æ‰§è¡ŒæˆåŠŸ`);
      }
      
      if (api.events.dustBridge.BridgeLockAccountSet.is(event)) {
        const [account] = event.data;
        console.log(`æ–°çš„æ¡¥æ¥è´¦æˆ·: ${account.toString()}`);
      }
    });
  }
});
```

### åœºæ™¯ 2ï¼šç´§æ€¥æš‚åœæ¡¥æ¥

#### å½“å‘ç°å®‰å…¨é—®é¢˜æ—¶

```javascript
// 1. åˆ›å»ºç´§æ€¥æš‚åœææ¡ˆ
const proposalType = api.createType('ProposalType', 'EmergencyPause');
const descriptionCid = 'QmYYYYYYYYYYYYYYYYY'; // æè¿°å®‰å…¨é—®é¢˜çš„ IPFS CID
const params = new Uint8Array(); // æ— éœ€å‚æ•°

const tx = api.tx.dustBridge.createProposal(
  proposalType,
  descriptionCid,
  params
);

await tx.signAndSend(proposer);

// 2. åŠ æ€¥æŠ•ç¥¨ï¼ˆå¯è®¾ç½®è¾ƒçŸ­çš„æŠ•ç¥¨æœŸï¼‰
// 3. æ‰§è¡Œåï¼Œæ‰€æœ‰æ¡¥æ¥æ“ä½œè¢«æš‚åœ
```

#### éªŒè¯æ¡¥æ¥æ˜¯å¦æš‚åœ

```javascript
const isPaused = await api.query.dustBridge.bridgePaused();
console.log('æ¡¥æ¥æ˜¯å¦æš‚åœ:', isPaused.toHuman()); // true
```

### åœºæ™¯ 3ï¼šè°ƒæ•´é‡‘é¢é™åˆ¶

```javascript
// 1. å‡†å¤‡å‚æ•°
const newMinAmount = '1000000000000'; // 1 DUST
const newMaxAmount = '10000000000000000000'; // 10,000,000 DUST

const params = api.createType('(Balance, Balance)', [newMinAmount, newMaxAmount]).toU8a();

// 2. åˆ›å»ºææ¡ˆ
const proposalType = api.createType('ProposalType', 'AdjustLimits');
const descriptionCid = 'QmZZZZZZZZZZZZZZZZZ';

const tx = api.tx.dustBridge.createProposal(
  proposalType,
  descriptionCid,
  params
);

await tx.signAndSend(proposer);
```

### åœºæ™¯ 4ï¼šæŸ¥è¯¢å®¡è®¡æ—¥å¿—

```javascript
// æŸ¥è¯¢æ‰€æœ‰å®¡è®¡æ—¥å¿—
const auditId = 1;
const auditLog = await api.query.dustBridge.auditLogs(auditId);
console.log('å®¡è®¡æ—¥å¿—:', auditLog.toHuman());

// è¾“å‡ºç¤ºä¾‹ï¼š
// {
//   auditId: 1,
//   operation: 'bridge_to_arbitrum',
//   operator: '5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY',
//   amount: '1000 DUST',
//   timestamp: 12345,
//   proposalId: null,
//   success: true,
//   notes: 'User bridged DUST to Arbitrum'
// }
```

---

## å®‰å…¨åˆ†æ

### ä¼˜åŠ¿

#### 1. å»ä¸­å¿ƒåŒ–å†³ç­–

| å¯¹æ¯”ç»´åº¦ | 5/3 å¤šç­¾ | æ²»ç†æŠ•ç¥¨ |
|---------|----------|----------|
| **å†³ç­–æƒ** | 5ä¸ªæŒ‡å®šæˆå‘˜ | å…¨ä½“æŒå¸è€… |
| **é€æ˜åº¦** | ä»…æˆå‘˜å¯è§ | å®Œå…¨å…¬å¼€ |
| **æŠ—å®¡æŸ¥** | ä¸­ | é«˜ |
| **åŠ¨æ€è°ƒæ•´** | éš¾ | æ˜“ï¼ˆé€šè¿‡ææ¡ˆï¼‰ |

#### 2. èµ„é‡‘åŠ¨ç”¨éš¾åº¦å¯¹æ¯”

| æ“ä½œ | 5/3 å¤šç­¾ | 11/7 å¤šç­¾ | æ²»ç†æŠ•ç¥¨ |
|------|----------|-----------|----------|
| **æœ€å°‘ç­¾åæ•°** | 3äºº | 7äºº | 66.67%æŒå¸è€… |
| **æ”»å‡»æˆæœ¬** | è´¿èµ‚3äºº | è´¿èµ‚7äºº | è·å–33.34%+çš„DUST |
| **æ—¶é—´æˆæœ¬** | åˆ†é’Ÿçº§ | å°æ—¶çº§ | 7å¤©æŠ•ç¥¨æœŸ |
| **å¯è§æ€§** | ä½ | ä¸­ | **é«˜ï¼ˆå®Œå…¨å…¬å¼€ï¼‰** |

#### 3. é˜²å¾¡å„ç±»æ”»å‡»

| æ”»å‡»ç±»å‹ | 5/3 å¤šç­¾ | æ²»ç†æŠ•ç¥¨ | è¯´æ˜ |
|---------|----------|----------|------|
| **å†…éƒ¨æ”»å‡»** | âš ï¸ æ˜“å—å½±å“ï¼ˆ3/5ï¼‰ | âœ… æŠ—æ€§å¼º | éœ€è¦å¤§é‡èµ„é‡‘è´­ä¹°DUST |
| **å¤–éƒ¨é»‘å®¢** | âŒ æ”»ç ´3ä¸ªå¯†é’¥ | âœ… æ— æ³•æ”»å‡» | æ— ç§é’¥å¯ç›— |
| **ç¤¾ä¼šå·¥ç¨‹** | âš ï¸ å¯èƒ½å½±å“3äºº | âœ… éš¾ä»¥å½±å“å¤šæ•° | éœ€æ“çºµå¤§é‡æŒå¸è€… |
| **å¥³å·«æ”»å‡»** | N/A | âœ… æ— æ•ˆ | æŒ‰æŒå¸é‡æŠ•ç¥¨ |
| **é—ªç”µè´·æ”»å‡»** | N/A | âš ï¸ éœ€é˜²å¾¡ | **éœ€æ·»åŠ æŠ•ç¥¨å¿«ç…§æœºåˆ¶** |

### å®‰å…¨å¢å¼ºæªæ–½

#### æªæ–½ 1ï¼šæŠ•ç¥¨å¿«ç…§æœºåˆ¶

```rust
// åœ¨ææ¡ˆåˆ›å»ºæ—¶è®°å½•æŒå¸å¿«ç…§
pub struct ProposalSnapshot {
    pub block_number: BlockNumber,
    pub total_supply: Balance,
}

// æŠ•ç¥¨æƒé‡ä»¥å¿«ç…§æ—¶çš„æŒå¸é‡ä¸ºå‡†
// é˜²æ­¢é—ªç”µè´·æ”»å‡»
```

#### æªæ–½ 2ï¼šæ—¶é—´é”

```rust
// ææ¡ˆæ‰§è¡Œéœ€è¦ç­‰å¾…é¢å¤–çš„24å°æ—¶
pub const TIMELOCK_PERIOD: BlockNumber = 14400; // 24å°æ—¶

// æ‰§è¡Œæµç¨‹ï¼š
// 1. æŠ•ç¥¨é€šè¿‡ â†’ Approved
// 2. ç­‰å¾… 24 å°æ—¶ â†’ TimeLocked
// 3. æ‰§è¡Œ â†’ Executed
```

#### æªæ–½ 3ï¼šç†äº‹ä¼šå¦å†³æƒ

```rust
// ç†äº‹ä¼šå¯ä»¥å¦å†³æ˜æ˜¾æ¶æ„çš„ææ¡ˆ
// å³ä½¿æŠ•ç¥¨é€šè¿‡
impl Pallet<T> {
    pub fn council_veto(
        origin: OriginFor<T>,
        proposal_id: u64,
    ) -> DispatchResult {
        T::CouncilOrigin::ensure_origin(origin)?;
        // å¦å†³ææ¡ˆ
        Proposals::<T>::mutate(proposal_id, |proposal| {
            proposal.status = ProposalStatus::Vetoed;
        });
        Ok(())
    }
}
```

#### æªæ–½ 4ï¼šåˆ†çº§æƒé™

| ææ¡ˆç±»å‹ | é€šè¿‡é˜ˆå€¼ | æŠ•ç¥¨ç‡è¦æ±‚ | æ—¶é—´é” |
|---------|----------|-----------|--------|
| **è®¾ç½®æ¡¥æ¥è´¦æˆ·** | 66.67% | 30% | 24å°æ—¶ |
| **ç´§æ€¥æš‚åœ** | 51% | 20% | æ—  |
| **æ¢å¤æ¡¥æ¥** | 66.67% | 30% | 12å°æ—¶ |
| **è°ƒæ•´é™åˆ¶** | 60% | 25% | 12å°æ—¶ |
| **æå–èµ„é‡‘** | **80%** | **50%** | **48å°æ—¶** |

---

## å¯¹æ¯”å…¶ä»–æ–¹æ¡ˆ

### ç»¼åˆå¯¹æ¯”è¡¨

| æ–¹æ¡ˆ | å»ä¸­å¿ƒåŒ– | å®‰å…¨æ€§ | æˆæœ¬ | å¤æ‚åº¦ | é€‚ç”¨åœºæ™¯ |
|------|---------|-------|------|--------|---------|
| **5/3 å¤šç­¾** | â­â­ | â­â­â­ | â­â­â­â­â­ | â­â­ | å°è§„æ¨¡ã€å›¢é˜Ÿä¿¡ä»» |
| **11/7 å¤šç­¾** | â­â­â­ | â­â­â­â­ | â­â­â­â­ | â­â­â­ | ä¸­è§„æ¨¡ã€å¤šæ–¹åä½œ |
| **MPC æ‰˜ç®¡** | â­â­ | â­â­â­â­ | â­â­ | â­â­â­â­ | ä¼ä¸šçº§ã€é«˜é¢‘äº¤æ˜“ |
| **FROST é˜ˆå€¼ç­¾å** | â­â­â­â­ | â­â­â­â­â­ | â­â­ | â­â­â­â­â­ | é«˜å®‰å…¨ã€æŠ—é‡å­ |
| **æ²»ç†æŠ•ç¥¨** âœ… | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­ | **å»ä¸­å¿ƒåŒ–é¡¹ç›®** |

### æˆæœ¬å¯¹æ¯”

| æˆæœ¬é¡¹ | 5/3 å¤šç­¾ | æ²»ç†æŠ•ç¥¨ | å·®å¼‚ |
|--------|----------|----------|------|
| **åŸºç¡€è®¾æ–½** | $500/æœˆ | $0 | -100% |
| **å¼€å‘æˆæœ¬** | ä¸­ | ä¸­ | ç›¸å½“ |
| **è¿ç»´æˆæœ¬** | ä¸­ï¼ˆç®¡ç†5ä¸ªå¯†é’¥ï¼‰ | ä½ï¼ˆé“¾ä¸Šè‡ªåŠ¨åŒ–ï¼‰ | -50% |
| **Gasè´¹ç”¨** | çº¦$5/æ“ä½œ | çº¦$0.001/æ“ä½œ | -99.98% |

---

## å®æ–½å»ºè®®

### é˜¶æ®µ 1ï¼šåˆæœŸï¼ˆä¸»ç½‘ä¸Šçº¿å‰ 3ä¸ªæœˆï¼‰

**ä½¿ç”¨ 5/3 å¤šç­¾**

- ç†ç”±ï¼šçµæ´»å¿«é€Ÿï¼Œé€‚åˆå¿«é€Ÿå“åº”
- æˆå‘˜ï¼š3ä¸ªæ ¸å¿ƒå›¢é˜Ÿ + 2ä¸ªæŠ•èµ„æ–¹

### é˜¶æ®µ 2ï¼šè¿‡æ¸¡æœŸï¼ˆä¸»ç½‘ä¸Šçº¿å 3-6ä¸ªæœˆï¼‰

**æ··åˆæ¨¡å¼ï¼š5/3 å¤šç­¾ + æ²»ç†ç›‘ç£**

- 5/3 å¤šç­¾è´Ÿè´£æ—¥å¸¸æ“ä½œ
- é‡å¤§æ“ä½œï¼ˆå¦‚è°ƒæ•´é™åˆ¶ï¼‰éœ€è¦æ²»ç†æŠ•ç¥¨
- ç¤¾åŒºé€æ­¥ç†Ÿæ‚‰æ²»ç†æµç¨‹

### é˜¶æ®µ 3ï¼šæˆç†ŸæœŸï¼ˆä¸»ç½‘ä¸Šçº¿å 6ä¸ªæœˆ+ï¼‰

**å®Œå…¨æ²»ç†æŠ•ç¥¨** âœ…

- æ‰€æœ‰æ“ä½œé€šè¿‡æ²»ç†ææ¡ˆ
- 5/3 å¤šç­¾ä»…ä½œä¸ºç´§æ€¥å¤‡ä»½
- ç¤¾åŒºå®Œå…¨æŒæ§

---

## å‰ç«¯é›†æˆç¤ºä¾‹

### React ç»„ä»¶ï¼šåˆ›å»ºææ¡ˆ

```typescript
// CreateProposal.tsx
import React, { useState } from 'react';
import { Button, Form, Input, Select, message } from 'antd';
import { web3FromAddress } from '@polkadot/extension-dapp';
import { useApi, useAccount } from '@/hooks';

export const CreateProposal: React.FC = () => {
  const { api } = useApi();
  const { account } = useAccount();
  const [loading, setLoading] = useState(false);

  const onFinish = async (values: any) => {
    if (!api || !account) return;

    setLoading(true);
    try {
      const injector = await web3FromAddress(account.address);

      const tx = api.tx.dustBridge.createProposal(
        values.proposalType,
        values.descriptionCid,
        values.params
      );

      await tx.signAndSend(
        account.address,
        { signer: injector.signer },
        ({ status, events }) => {
          if (status.isInBlock) {
            message.success('âœ… ææ¡ˆå·²åˆ›å»º');
          }
        }
      );
    } catch (error) {
      message.error('åˆ›å»ºææ¡ˆå¤±è´¥');
      console.error(error);
    } finally {
      setLoading(false);
    }
  };

  return (
    <Form onFinish={onFinish} layout="vertical">
      <Form.Item
        label="ææ¡ˆç±»å‹"
        name="proposalType"
        rules={[{ required: true }]}
      >
        <Select>
          <Select.Option value="SetBridgeAccount">è®¾ç½®æ¡¥æ¥è´¦æˆ·</Select.Option>
          <Select.Option value="EmergencyPause">ç´§æ€¥æš‚åœ</Select.Option>
          <Select.Option value="ResumeBridge">æ¢å¤æ¡¥æ¥</Select.Option>
          <Select.Option value="AdjustLimits">è°ƒæ•´é™åˆ¶</Select.Option>
          <Select.Option value="WithdrawFunds">æå–èµ„é‡‘</Select.Option>
        </Select>
      </Form.Item>

      <Form.Item
        label="ææ¡ˆæè¿° CID"
        name="descriptionCid"
        rules={[{ required: true }]}
      >
        <Input placeholder="QmXXXXXXXXXXXXXXXXXXX" />
      </Form.Item>

      <Form.Item
        label="ææ¡ˆå‚æ•°"
        name="params"
        rules={[{ required: true }]}
      >
        <Input.TextArea placeholder="ç¼–ç åçš„å‚æ•°" />
      </Form.Item>

      <Form.Item>
        <Button type="primary" htmlType="submit" loading={loading}>
          åˆ›å»ºææ¡ˆ
        </Button>
      </Form.Item>
    </Form>
  );
};
```

### React ç»„ä»¶ï¼šæŠ•ç¥¨

```typescript
// VoteOnProposal.tsx
import React, { useState } from 'react';
import { Button, Radio, Card, Statistic, Row, Col, message } from 'antd';
import { useApi, useAccount, useProposal } from '@/hooks';

export const VoteOnProposal: React.FC<{ proposalId: number }> = ({
  proposalId,
}) => {
  const { api } = useApi();
  const { account } = useAccount();
  const { proposal } = useProposal(proposalId);
  const [vote, setVote] = useState<'Aye' | 'Nay' | 'Abstain'>('Aye');
  const [loading, setLoading] = useState(false);

  const handleVote = async () => {
    if (!api || !account) return;

    setLoading(true);
    try {
      const injector = await web3FromAddress(account.address);

      const tx = api.tx.dustBridge.vote(proposalId, vote);

      await tx.signAndSend(
        account.address,
        { signer: injector.signer },
        ({ status }) => {
          if (status.isInBlock) {
            message.success('âœ… æŠ•ç¥¨æˆåŠŸ');
          }
        }
      );
    } catch (error) {
      message.error('æŠ•ç¥¨å¤±è´¥');
      console.error(error);
    } finally {
      setLoading(false);
    }
  };

  return (
    <Card title={`ææ¡ˆ #${proposalId}`}>
      <Row gutter={16}>
        <Col span={8}>
          <Statistic title="èµæˆç¥¨" value={proposal?.ayeVotes} suffix="DUST" />
        </Col>
        <Col span={8}>
          <Statistic title="åå¯¹ç¥¨" value={proposal?.nayVotes} suffix="DUST" />
        </Col>
        <Col span={8}>
          <Statistic title="å¼ƒæƒç¥¨" value={proposal?.abstainVotes} suffix="DUST" />
        </Col>
      </Row>

      <Radio.Group value={vote} onChange={(e) => setVote(e.target.value)} style={{ marginTop: 20 }}>
        <Radio value="Aye">èµæˆ</Radio>
        <Radio value="Nay">åå¯¹</Radio>
        <Radio value="Abstain">å¼ƒæƒ</Radio>
      </Radio.Group>

      <Button
        type="primary"
        onClick={handleVote}
        loading={loading}
        style={{ marginTop: 20 }}
      >
        æŠ•ç¥¨
      </Button>
    </Card>
  );
};
```

---

## æ€»ç»“

**æ–¹æ¡ˆ 5ï¼šæ²»ç†ç›‘ç£ + ç¤¾åŒºæŠ•ç¥¨æ²»ç†** æ˜¯æœ€ç¬¦åˆå»ä¸­å¿ƒåŒ–ç†å¿µçš„æ¡¥æ¥è´¦æˆ·å®‰å…¨æ–¹æ¡ˆã€‚è™½ç„¶å†³ç­–é€Ÿåº¦è¾ƒæ…¢ï¼ˆ7å¤©æŠ•ç¥¨æœŸï¼‰ï¼Œä½†æä¾›äº†æœ€é«˜çš„é€æ˜åº¦å’Œç¤¾åŒºå‚ä¸åº¦ã€‚

### é€‚ç”¨åœºæ™¯

âœ… **å¼ºçƒˆæ¨èç”¨äº**ï¼š
- å»ä¸­å¿ƒåŒ–é¡¹ç›®
- ç¤¾åŒºé©±åŠ¨é¡¹ç›®
- é•¿æœŸè¿è¥çš„é¡¹ç›®

âŒ **ä¸é€‚ç”¨äº**ï¼š
- éœ€è¦å¿«é€Ÿå†³ç­–çš„åœºæ™¯
- åˆæœŸæµ‹è¯•é˜¶æ®µ
- ä¸­å¿ƒåŒ–ç®¡ç†çš„é¡¹ç›®

### æœ€ç»ˆå»ºè®®

é‡‡ç”¨**åˆ†é˜¶æ®µè¿‡æ¸¡ç­–ç•¥**ï¼š

1. **åˆæœŸï¼ˆ0-3ä¸ªæœˆï¼‰**ï¼š5/3 å¤šç­¾
2. **è¿‡æ¸¡æœŸï¼ˆ3-6ä¸ªæœˆï¼‰**ï¼š5/3 å¤šç­¾ + æ²»ç†ç›‘ç£
3. **æˆç†ŸæœŸï¼ˆ6ä¸ªæœˆ+ï¼‰**ï¼šå®Œå…¨æ²»ç†æŠ•ç¥¨ âœ…

è¿™æ ·æ—¢èƒ½ä¿è¯é¡¹ç›®åˆæœŸçš„çµæ´»æ€§ï¼Œåˆèƒ½é€æ­¥å®ç°å»ä¸­å¿ƒåŒ–ç›®æ ‡ã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-11-05  
**ä½œè€…**: Stardust AI å›¢é˜Ÿ

