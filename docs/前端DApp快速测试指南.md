# Stardust DApp 前端快速测试指南

## 🎯 目标

使用自定义前端页面快速测试 DeepSeek AI 策略功能。

---

## 📋 前提条件

### ✅ 环境检查

1. **Stardust 节点运行中**
   ```bash
   # 检查节点进程
   ps aux | grep stardust-node
   ```
   应该看到节点在 `ws://127.0.0.1:9944` 运行

2. **前端服务运行**
   ```bash
   # 在 stardust-dapp 目录
   cd /home/xiaodong/文档/stardust-dapp
   npm start
   ```
   浏览器自动打开 `http://localhost:3000`

---

## 🚀 快速开始

### 第一步：连接到链

打开浏览器访问 `http://localhost:3000`，页面自动显示：

**链连接状态卡片**：
- ✅ 已连接（绿色标识）
- 📦 当前区块高度
- ⛓️ 链名称：Development
- 🔧 节点版本

如果显示"未连接"，请确认节点正在运行。

---

### 第二步：导入测试账户

在"👤 账户管理"卡片中：

1. 点击 **"使用测试账户"** 按钮
   - 自动填充助记词：`satoshi sure behave certain impulse ski slight track century kitchen clutch story`

2. 点击 **"导入账户"** 按钮

3. 等待导入成功提示

**预期结果**：
- ✅ 显示账户地址：`5CrDBEVDgXUwctSuV8EvQEBo2m187PcxoY36V7H7PGErHUW4`
- ✅ 显示账户余额

---

### 第三步：创建 DeepSeek 策略（所有字段已预填）

在"🤖 创建 AI 交易策略"卡片中，**所有字段已经预填默认值**，无需手动输入！

#### 📋 基本信息（已预填）
- **策略名称**: `BTC-DeepSeek-Trend-Test`
- **Hyperliquid 地址**: `0x1234567890123456789012345678901234567890`
- **交易对符号**: `BTC-USD`
- **策略类型**: `趋势跟踪`

#### 🧠 AI 模型配置（已预填）
- **AI 模型类型**: `DeepSeek ⭐`
- **模型 CID**: `QmTestModelCID1234567890abcdefghijk`
- **推理服务端点**: `https://api.deepseek.com`
- **置信度阈值**: `75%`
- **更新频率**: `10` 区块

#### ⚙️ 策略参数（已预填）
- **止损百分比**: `5%`
- **止盈百分比**: `15%`
- **仓位大小**: `1000`
- **入场阈值**: `70`
- **出场阈值**: `30`

#### 🛡️ 风控限制（已预填）
- **最大仓位大小**: `10000`
- **最大日亏损**: `1000`
- **最大杠杆倍数**: `10x`
- **最大回撤**: `20%`

#### 🔧 执行配置（已预填）
- **自动执行**: `关闭` ⚠️（测试时建议关闭）
- **滑点容忍度**: `1%`
- **重试次数**: `3`

---

### 第四步：提交策略

1. 检查所有预填值是否正确
2. 点击 **"创建策略"** 按钮
3. 等待交易处理

**预期结果**：
- ⏳ 按钮显示"加载中..."
- 📦 交易被打包进区块
- ✅ 弹出成功提示："策略创建成功！"
- 🔄 策略列表自动刷新

---

### 第五步：查看策略列表

在"📊 策略列表"卡片中：

**列表显示**：
- ID: `0`
- 策略名称: `BTC-DeepSeek-Trend-Test`
- 交易对: `BTC-USD`
- AI 模型: `DeepSeek`（蓝色标签）
- 策略类型: `趋势`
- 状态: `活跃`（绿色标签）

**查看详情**：
1. 点击 **"查看详情"** 按钮
2. 弹窗显示完整信息：
   - 📈 性能指标
   - 基本信息
   - AI 配置
   - 风控限制

---

### 第六步：监控实时事件

在"📡 实时事件监控"卡片中：

**自动显示事件**：
- ✨ 策略创建事件（紫色标签）
- 🤖 AI 信号生成事件（蓝色标签）
- 💰 交易执行事件（绿色标签）
- 🔄 策略更新事件（橙色标签）

**事件信息**：
- 事件类型
- 区块高度
- 时间戳
- 详细数据

---

## 🎨 界面预览

### 页面布局

```
┌─────────────────────────────────────────┐
│  ⭐ Stardust DApp - DeepSeek AI 测试平台 │
├─────────────────────────────────────────┤
│  🔗 链连接状态                           │
│  [已连接] 📦 区块#441 ⛓️ Development     │
├─────────────────────────────────────────┤
│  👤 账户管理                             │
│  [使用测试账户] [导入账户]               │
├─────────────────────────────────────────┤
│  ────── 策略管理 ──────                  │
├─────────────────────────────────────────┤
│  🤖 创建 AI 交易策略                     │
│  📋 基本信息 ▼                           │
│  🧠 AI 模型配置 ▼                        │
│  ⚙️ 策略参数 ▼                          │
│  🛡️ 风控限制 ▼                          │
│  🔧 执行配置 ▼                           │
│  [创建策略] [重置]                       │
├─────────────────────────────────────────┤
│  📊 策略列表                             │
│  ID | 名称 | 交易对 | AI模型 | 状态      │
│  0  | BTC  | BTC-USD| DeepSeek| 活跃    │
├─────────────────────────────────────────┤
│  📡 实时事件监控                         │
│  [AI信号:0] [交易:0] [更新:0]            │
│  ✨ 策略创建 - 区块#441 - 21:37:00       │
└─────────────────────────────────────────┘
```

---

## ⚡ 快速测试流程（1分钟完成）

**极速测试步骤**：

1. ✅ 打开 `http://localhost:3000`（链自动连接）
2. ✅ 点击"使用测试账户" → "导入账户"
3. ✅ 向下滚动到"创建策略"卡片
4. ✅ 直接点击"创建策略"按钮（所有字段已预填！）
5. ✅ 等待成功提示
6. ✅ 查看策略列表和事件监控

**总耗时**：约 1 分钟

---

## 🔍 验证要点

### ✅ 成功标志

1. **链连接正常**
   - 状态显示"已连接"（绿色）
   - 区块高度持续增长

2. **账户导入成功**
   - 显示账户地址
   - 显示余额（应该 > 0）

3. **策略创建成功**
   - 弹出成功提示
   - 策略列表中出现新策略
   - 事件监控显示"策略创建"事件

4. **数据查询正常**
   - 点击"查看详情"能打开弹窗
   - 详情数据完整显示

### ❌ 常见问题

**问题 1：链连接失败**
- 检查节点是否运行：`ps aux | grep stardust-node`
- 检查端口：节点应在 `9944` 端口

**问题 2：账户余额为 0**
- 测试账户在 `--dev` 模式下应该有预分配余额
- 重启节点使用 `--dev` 模式

**问题 3：创建策略失败**
- 检查浏览器控制台错误信息
- 确认账户已导入
- 确认所有必填字段已填写

**问题 4：策略列表为空**
- 等待几秒钟让链处理交易
- 刷新页面
- 检查事件监控是否有事件

---

## 🎯 测试场景

### 场景 1：基础功能测试（默认值）
**目标**：验证创建策略基本流程

**步骤**：
1. 使用所有默认值
2. 直接创建策略
3. 验证策略出现在列表中

**预期**：✅ 策略创建成功

---

### 场景 2：修改参数测试
**目标**：测试不同策略类型

**步骤**：
1. 修改"策略类型"为"均值回归"
2. 修改"止损"为 `10%`
3. 创建策略

**预期**：✅ 策略以新参数创建

---

### 场景 3：多策略测试
**目标**：创建多个策略

**步骤**：
1. 修改"策略名称"为 `ETH-DeepSeek-Test`
2. 修改"交易对"为 `ETH-USD`
3. 创建第二个策略

**预期**：✅ 列表显示 2 个策略

---

## 📊 性能指标说明

策略详情中的性能指标：

| 指标 | 说明 | 初始值 |
|------|------|--------|
| **总交易次数** | 执行的交易总数 | 0 |
| **胜率** | 盈利交易占比 | 0% |
| **总盈亏** | 累计盈亏金额 | 0 |
| **夏普比率** | 风险调整后收益率 | 0.00 |
| **最大回撤** | 最大亏损幅度 | 0% |

*注：新创建的策略所有指标为 0，需要 OCW 执行交易后才会更新。*

---

## 🔧 高级功能

### 自动执行模式

如果启用"自动执行"：
- ⚠️ **警告**：策略会自动在 Hyperliquid 执行真实交易
- 建议：测试时保持关闭状态
- 开启后：OCW 会根据 AI 信号自动下单

### 实时监控

事件监控自动刷新：
- 每个新区块自动获取事件
- 最多保留 50 条最新事件
- 可查看详细事件数据

---

## 📝 默认测试数据说明

所有预填的默认值都是**测试数据**：

- ✅ Hyperliquid 地址：测试地址（不是真实地址）
- ✅ 模型 CID：测试 CID（不是真实 IPFS CID）
- ✅ 仓位大小：小额测试值
- ✅ 杠杆倍数：安全范围（10x）

**实际部署时请替换为真实值！**

---

## 🎉 测试完成检查单

- [ ] 链连接成功，区块高度增长
- [ ] 账户导入成功，显示余额
- [ ] 策略创建成功，列表显示
- [ ] 策略详情查看正常
- [ ] 事件监控显示创建事件
- [ ] 可创建多个策略
- [ ] 页面响应流畅，无错误

**全部勾选完成** = 🎉 测试成功！

---

## 📞 问题反馈

如遇到问题，请提供：
1. 浏览器控制台错误信息（F12 打开）
2. 节点日志输出
3. 操作步骤截图
4. 预期行为 vs 实际行为

---

*Stardust DApp 前端快速测试指南 - 2025-11-04*
*所有字段已预填默认值，1分钟完成测试！*

