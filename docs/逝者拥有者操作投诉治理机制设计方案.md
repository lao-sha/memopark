# é€è€…æ‹¥æœ‰è€…æ“ä½œæŠ•è¯‰æ²»ç†æœºåˆ¶è®¾è®¡æ–¹æ¡ˆï¼ˆæ°¸ä¹…è´¨æŠ¼æŠ¼é‡‘æ¨¡å¼ï¼‰

## æ‰§è¡Œæ‘˜è¦

æœ¬æ–¹æ¡ˆä¸“é—¨é’ˆå¯¹**é€è€…æ‹¥æœ‰è€…å¯¹è‡ªæœ‰é€è€…è¿›è¡Œå¢åˆ æ”¹æ“ä½œçš„æŠ•è¯‰æ²»ç†æœºåˆ¶**è¿›è¡Œè®¾è®¡ã€‚è¯¥æœºåˆ¶é‡‡ç”¨**åˆ›å»ºæ—¶ä¸€æ¬¡æ€§æ°¸ä¹…è´¨æŠ¼æŠ¼é‡‘**çš„æ¨¡å¼ï¼Œæ‹¥æœ‰è€…åœ¨åˆ›å»ºé€è€…æ—¶é”å®šæŠ¼é‡‘ï¼ŒæŠ¼é‡‘ä¸è¶³æ—¶éœ€è¦è¡¥é½æ‰èƒ½ç»§ç»­æ“ä½œï¼Œç›´åˆ°è½¬è®©æ‹¥æœ‰æƒæ—¶é‡Šæ”¾æŠ¼é‡‘ã€‚æ—¥å¸¸å¢åˆ æ”¹æ“ä½œæ— éœ€é¢å¤–æŠ¼é‡‘ï¼Œé€šè¿‡è´¨æŠ¼æŠ¼é‡‘æ± æ‰¿æ‹…æŠ•è¯‰é£é™©ã€‚

### ğŸ¯ æ ¸å¿ƒç‰¹ç‚¹

- **ä¸€æ¬¡æ€§æ°¸ä¹…è´¨æŠ¼**ï¼šåˆ›å»ºé€è€…æ—¶é”å®šæŠ¼é‡‘ï¼Œç›´åˆ°è½¬è®©æ‹¥æœ‰æƒæ‰é‡Šæ”¾
- **USDTè®¡ä»·ç³»ç»Ÿ**ï¼šé¿å…DUSTä»·æ ¼æ³¢åŠ¨å¯¹æ²»ç†çš„å½±å“
- **æŠ¼é‡‘æ± æ¨¡å¼**ï¼šæŠ•è¯‰æˆåŠŸä»è´¨æŠ¼æŠ¼é‡‘æ± æ‰£é™¤ï¼Œæ— éœ€æ¯æ¬¡æ“ä½œé”å®š
- **æŠ¼é‡‘ä¸è¶³é™åˆ¶**ï¼šæŠ¼é‡‘ä¸è¶³æ—¶é™åˆ¶æ“ä½œæƒé™ï¼Œå¿…é¡»è¡¥é½
- **æœ€å°æŠ•è¯‰æŠ¼é‡‘**ï¼š5 USDTæœ€å°æŠ•è¯‰æŠ¼é‡‘ï¼Œç¡®ä¿æŠ•è¯‰è´¨é‡

### ğŸ’¡ è®¾è®¡åˆ›æ–°

1. **æ°¸ä¹…è´¨æŠ¼æœºåˆ¶**ï¼šåˆ›å»ºæ—¶é”å®šï¼Œè½¬è®©æ—¶é‡Šæ”¾ï¼Œç®€åŒ–æ“ä½œæµç¨‹
2. **æŠ¼é‡‘æ± æ‰¿è´£**ï¼šè´¨æŠ¼æŠ¼é‡‘ä½œä¸ºè´£ä»»ä¿è¯é‡‘ï¼Œè¦†ç›–æ‰€æœ‰æ“ä½œ
3. **æŠ¼é‡‘è¡¥å……æœºåˆ¶**ï¼šæŠ¼é‡‘ä¸è¶³è‡ªåŠ¨é”å®šæƒé™ï¼Œè¡¥é½åæ¢å¤
4. **æ— æ“ä½œæˆæœ¬**ï¼šæ—¥å¸¸å¢åˆ æ”¹ä¸éœ€è¦é¢å¤–æŠ¼é‡‘ï¼Œé™ä½ä½¿ç”¨é—¨æ§›

---

## 1. ä¸šåŠ¡åœºæ™¯åˆ†æ

### 1.1 æ ¸å¿ƒåœºæ™¯

**åœºæ™¯ä¸€ï¼šåˆ›å»ºé€è€…å¹¶é”å®šæŠ¼é‡‘**
```
ç”¨æˆ·åˆ›å»ºé€è€…
â†’ è®¡ç®—æ‰€éœ€æŠ¼é‡‘ï¼ˆUSDTè®¡ä»·ï¼‰
â†’ é”å®šDUSTæŠ¼é‡‘ï¼ˆæ°¸ä¹…è´¨æŠ¼ï¼‰
â†’ è·å¾—å®Œæ•´æ“ä½œæƒé™
```

**åœºæ™¯äºŒï¼šæ­£å¸¸å¢åˆ æ”¹æ“ä½œ**
```
æ‹¥æœ‰è€…æ“ä½œå†…å®¹
â†’ æ£€æŸ¥æŠ¼é‡‘æ˜¯å¦å……è¶³
â†’ å……è¶³ï¼šå…è®¸æ“ä½œï¼ˆæ— éœ€é¢å¤–æŠ¼é‡‘ï¼‰
â†’ ä¸è¶³ï¼šæ‹’ç»æ“ä½œï¼Œæç¤ºè¡¥å……æŠ¼é‡‘
```

**åœºæ™¯ä¸‰ï¼šæŠ•è¯‰å¤„ç†**
```
å…¬ä¼—æŠ•è¯‰æ“ä½œ
â†’ é”å®šæŠ•è¯‰æŠ¼é‡‘
â†’ å§”å‘˜ä¼šå®¡æ ¸
â†’ æŠ•è¯‰æˆåŠŸï¼šä»æ‹¥æœ‰è€…è´¨æŠ¼æŠ¼é‡‘æ‰£é™¤ â†’ 80%ç»™æŠ•è¯‰äººï¼Œ20%ç»™å§”å‘˜ä¼š
â†’ æŠ•è¯‰å¤±è´¥ï¼šç½šæ²¡æŠ•è¯‰äººæŠ¼é‡‘ â†’ 80%ç»™æ‹¥æœ‰è€…ï¼Œ20%ç»™å§”å‘˜ä¼š
```

**åœºæ™¯å››ï¼šæŠ¼é‡‘ä¸è¶³è¡¥å……**
```
æŠ¼é‡‘ä½™é¢ä½äºè¦æ±‚
â†’ é™åˆ¶æ“ä½œæƒé™
â†’ æ‹¥æœ‰è€…è¡¥å……æŠ¼é‡‘
â†’ æŠ¼é‡‘å……è¶³åæ¢å¤æƒé™
```

**åœºæ™¯äº”ï¼šè½¬è®©æ‹¥æœ‰æƒ**
```
æ‹¥æœ‰è€…è½¬è®©é€è€…
â†’ é‡Šæ”¾åŸæ‹¥æœ‰è€…è´¨æŠ¼æŠ¼é‡‘
â†’ æ–°æ‹¥æœ‰è€…é”å®šæ–°çš„è´¨æŠ¼æŠ¼é‡‘
â†’ å®Œæˆæ‹¥æœ‰æƒè½¬ç§»
```

### 1.2 æŠ¼é‡‘æ¨¡å¼å¯¹æ¯”

| å¯¹æ¯”ç»´åº¦ | ä¼ ç»Ÿæ¨¡å¼ï¼ˆæ¯æ¬¡æ“ä½œé”æŠ¼é‡‘ï¼‰ | ğŸ†• æ°¸ä¹…è´¨æŠ¼æ¨¡å¼ |
|---------|------------------------|-----------------|
| **æŠ¼é‡‘é”å®šæ—¶æœº** | æ¯æ¬¡æ“ä½œæ—¶ | åˆ›å»ºé€è€…æ—¶ä¸€æ¬¡æ€§ |
| **æŠ¼é‡‘é‡Šæ”¾æ—¶æœº** | æ“ä½œå®Œæˆæˆ–æŠ•è¯‰æœŸç»“æŸ | è½¬è®©æ‹¥æœ‰æƒæ—¶ |
| **æ“ä½œæˆæœ¬** | æ¯æ¬¡éœ€è¦é”å®šæŠ¼é‡‘ | âœ… æ— é¢å¤–æŠ¼é‡‘ |
| **èµ„é‡‘å ç”¨** | ä¸´æ—¶é”å®š | âœ… é•¿æœŸè´¨æŠ¼ |
| **ç”¨æˆ·ä½“éªŒ** | ç¹çï¼Œéœ€é¢‘ç¹å‡†å¤‡æŠ¼é‡‘ | âœ… ä¸€æ¬¡é”å®šï¼Œè‡ªç”±æ“ä½œ |
| **é£é™©è¦†ç›–** | å•æ¬¡æ“ä½œé£é™© | âœ… æ‰€æœ‰æ“ä½œé£é™© |

### 1.3 æŠ¼é‡‘è®¡ç®—é€»è¾‘

```rust
/// æ°¸ä¹…è´¨æŠ¼æŠ¼é‡‘è®¡ç®—å…¬å¼
è´¨æŠ¼æŠ¼é‡‘ = åŸºç¡€æŠ¼é‡‘ Ã— å†…å®¹è§„æ¨¡ç³»æ•° Ã— å†å²ä¿¡èª‰ç³»æ•°

/// åŸºç¡€æŠ¼é‡‘æ ‡å‡†ï¼ˆUSDTï¼‰
åŸºç¡€æŠ¼é‡‘ = 100 USDTï¼ˆå›ºå®šï¼‰

/// å†…å®¹è§„æ¨¡ç³»æ•°ï¼ˆé¢„æœŸå†…å®¹æ•°é‡ï¼‰
å†…å®¹è§„æ¨¡ç³»æ•° = {
    å°è§„æ¨¡ï¼ˆ<10æ¡ï¼‰: 1.0x
    ä¸­è§„æ¨¡ï¼ˆ10-50æ¡ï¼‰: 1.5x
    å¤§è§„æ¨¡ï¼ˆ>50æ¡ï¼‰: 2.0x
}

/// å†å²ä¿¡èª‰ç³»æ•°ï¼ˆç”¨æˆ·å†å²è®°å½•ï¼‰
å†å²ä¿¡èª‰ç³»æ•° = {
    æ–°ç”¨æˆ·: 1.0x
    è‰¯å¥½è®°å½•: 0.8x
    ä¼˜ç§€è®°å½•: 0.6x
    ä¸è‰¯è®°å½•: 1.5x
}
```

**ç¤ºä¾‹è®¡ç®—**ï¼š
- æ–°ç”¨æˆ·åˆ›å»ºä¸­è§„æ¨¡é€è€…ï¼š100 USDT Ã— 1.5 Ã— 1.0 = **150 USDT**
- ä¼˜ç§€ç”¨æˆ·åˆ›å»ºå°è§„æ¨¡é€è€…ï¼š100 USDT Ã— 1.0 Ã— 0.6 = **60 USDT**

---

## 2. USDTè®¡ä»·æ°¸ä¹…è´¨æŠ¼æŠ¼é‡‘æœºåˆ¶

### 2.1 åˆ›å»ºæ—¶æŠ¼é‡‘é”å®š

#### æŠ¼é‡‘æ ‡å‡†è¡¨

| é€è€…è§„æ¨¡ | é¢„æœŸå†…å®¹é‡ | åŸºç¡€æŠ¼é‡‘ | è§„æ¨¡ç³»æ•° | æœ€ç»ˆæŠ¼é‡‘èŒƒå›´ |
|---------|-----------|---------|---------|-------------|
| **å°è§„æ¨¡** | <10æ¡å†…å®¹ | 100 USDT | 1.0x | 60-150 USDT |
| **ä¸­è§„æ¨¡** | 10-50æ¡å†…å®¹ | 100 USDT | 1.5x | 90-225 USDT |
| **å¤§è§„æ¨¡** | >50æ¡å†…å®¹ | 100 USDT | 2.0x | 120-300 USDT |

#### åˆ›å»ºé€è€…æ¥å£

```rust
/// åˆ›å»ºé€è€…å¹¶é”å®šæ°¸ä¹…è´¨æŠ¼æŠ¼é‡‘
#[pallet::call_index(0)]
#[pallet::weight(T::WeightInfo::create_deceased_with_deposit())]
pub fn create_deceased_with_deposit(
    origin: OriginFor<T>,
    /// é€è€…åŸºæœ¬ä¿¡æ¯
    deceased_info: DeceasedInfo,
    /// é¢„æœŸå†…å®¹è§„æ¨¡
    expected_scale: ContentScale,
) -> DispatchResult {
    let owner = ensure_signed(origin)?;
    let now = <frame_system::Pallet<T>>::block_number();

    // 1. è®¡ç®—æ‰€éœ€æŠ¼é‡‘ï¼ˆUSDTï¼‰
    let deposit_usdt = Self::calculate_creation_deposit_usdt(
        &owner,
        expected_scale,
    )?;

    // 2. è½¬æ¢ä¸ºDUSTé‡‘é¢
    let deposit_dust = Self::convert_usdt_to_dust(deposit_usdt)?;

    // 3. é”å®šæŠ¼é‡‘ï¼ˆæ°¸ä¹…è´¨æŠ¼ï¼‰
    T::Fungible::hold(
        &T::RuntimeHoldReason::from(HoldReason::DeceasedOwnerDeposit),
        &owner,
        deposit_dust,
    )?;

    // 4. åˆ›å»ºé€è€…è®°å½•
    let deceased_id = Self::do_create_deceased(&owner, deceased_info)?;

    // 5. è®°å½•æŠ¼é‡‘ä¿¡æ¯
    let deposit_record = OwnerDepositRecord {
        owner: owner.clone(),
        deceased_id,
        total_deposited_usdt: deposit_usdt,
        total_deposited_dust: deposit_dust,
        available_usdt: deposit_usdt,
        available_dust: deposit_dust,
        deducted_usdt: 0,
        deducted_dust: BalanceOf::<T>::zero(),
        locked_at: now,
        exchange_rate: Self::get_current_exchange_rate()?,
        status: DepositStatus::Active,
    };

    OwnerDepositRecords::<T>::insert(deceased_id, deposit_record.clone());
    OwnerDepositsByOwner::<T>::insert(&owner, deceased_id, ());

    Self::deposit_event(Event::DeceasedCreatedWithDeposit {
        deceased_id,
        owner,
        deposit_usdt,
        deposit_dust,
    });

    Ok(())
}

/// è®¡ç®—åˆ›å»ºæŠ¼é‡‘ï¼ˆUSDTï¼‰
fn calculate_creation_deposit_usdt(
    owner: &T::AccountId,
    scale: ContentScale,
) -> Result<u32, Error<T>> {
    let base_deposit = T::BaseCreationDepositUsdt::get(); // 100 USDT

    // è§„æ¨¡ç³»æ•°
    let scale_multiplier = match scale {
        ContentScale::Small => Perbill::from_percent(100),  // 1.0x
        ContentScale::Medium => Perbill::from_percent(150), // 1.5x
        ContentScale::Large => Perbill::from_percent(200),  // 2.0x
    };

    // å†å²ä¿¡èª‰ç³»æ•°
    let reputation_multiplier = Self::get_owner_reputation_multiplier(owner)?;

    // ç»¼åˆè®¡ç®—
    let final_deposit = (base_deposit as u128)
        .saturating_mul(scale_multiplier.mul_floor(100) as u128)
        .div(100)
        .saturating_mul(reputation_multiplier.mul_floor(100) as u128)
        .div(100);

    Ok(final_deposit as u32)
}
```

### 2.2 æŠ¼é‡‘ä½™é¢ç®¡ç†

#### æŠ¼é‡‘è®°å½•ç»“æ„

```rust
/// æ‹¥æœ‰è€…æŠ¼é‡‘è®°å½•
#[derive(Encode, Decode, Clone, PartialEq, Eq, TypeInfo, MaxEncodedLen)]
pub struct OwnerDepositRecord<T: Config> {
    /// æ‹¥æœ‰è€…è´¦æˆ·
    pub owner: T::AccountId,
    /// é€è€…ID
    pub deceased_id: u64,

    /// æ€»é”å®šæŠ¼é‡‘ï¼ˆUSDTï¼‰
    pub total_deposited_usdt: u32,
    /// æ€»é”å®šæŠ¼é‡‘ï¼ˆDUSTï¼‰
    pub total_deposited_dust: BalanceOf<T>,

    /// å¯ç”¨æŠ¼é‡‘ï¼ˆUSDTï¼‰- æ‰£é™¤æŠ•è¯‰ç½šæ¬¾åçš„ä½™é¢
    pub available_usdt: u32,
    /// å¯ç”¨æŠ¼é‡‘ï¼ˆDUSTï¼‰
    pub available_dust: BalanceOf<T>,

    /// å·²æ‰£é™¤æŠ¼é‡‘ï¼ˆUSDTï¼‰- æŠ•è¯‰ç½šæ¬¾ç´¯è®¡
    pub deducted_usdt: u32,
    /// å·²æ‰£é™¤æŠ¼é‡‘ï¼ˆDUSTï¼‰
    pub deducted_dust: BalanceOf<T>,

    /// é”å®šæ—¶é—´
    pub locked_at: BlockNumberFor<T>,
    /// é”å®šæ—¶æ±‡ç‡
    pub exchange_rate: ExchangeRate,
    /// æŠ¼é‡‘çŠ¶æ€
    pub status: DepositStatus,
}

/// æŠ¼é‡‘çŠ¶æ€
#[derive(Encode, Decode, Clone, PartialEq, Eq, TypeInfo, MaxEncodedLen)]
pub enum DepositStatus {
    /// æ´»è·ƒçŠ¶æ€ï¼ˆæŠ¼é‡‘å……è¶³ï¼‰
    Active,
    /// æŠ¼é‡‘ä¸è¶³ï¼ˆéœ€è¦è¡¥å……ï¼‰
    Insufficient,
    /// å·²å†»ç»“ï¼ˆç­‰å¾…è½¬è®©æˆ–å…¶ä»–å¤„ç†ï¼‰
    Frozen,
    /// å·²é‡Šæ”¾
    Released,
}
```

#### æŠ¼é‡‘å……è¶³æ€§æ£€æŸ¥

```rust
impl<T: Config> Pallet<T> {
    /// æ£€æŸ¥æŠ¼é‡‘æ˜¯å¦å……è¶³
    pub fn is_deposit_sufficient(deceased_id: u64) -> Result<bool, Error<T>> {
        let deposit_record = OwnerDepositRecords::<T>::get(deceased_id)
            .ok_or(Error::<T>::DepositRecordNotFound)?;

        // æœ€ä½è¦æ±‚ï¼š50 USDT
        let min_required_usdt = T::MinimumDepositUsdt::get();

        Ok(deposit_record.available_usdt >= min_required_usdt)
    }

    /// ç¡®ä¿æŠ¼é‡‘å……è¶³ï¼Œå¦åˆ™æ‹’ç»æ“ä½œ
    pub fn ensure_sufficient_deposit(deceased_id: u64) -> DispatchResult {
        ensure!(
            Self::is_deposit_sufficient(deceased_id)?,
            Error::<T>::InsufficientDeposit
        );
        Ok(())
    }

    /// è·å–æŠ¼é‡‘çŠ¶æ€ä¿¡æ¯
    pub fn get_deposit_status(deceased_id: u64) -> Result<DepositStatusInfo, Error<T>> {
        let deposit_record = OwnerDepositRecords::<T>::get(deceased_id)
            .ok_or(Error::<T>::DepositRecordNotFound)?;

        let min_required_usdt = T::MinimumDepositUsdt::get();
        let shortage_usdt = if deposit_record.available_usdt < min_required_usdt {
            min_required_usdt - deposit_record.available_usdt
        } else {
            0
        };

        Ok(DepositStatusInfo {
            total_deposited_usdt: deposit_record.total_deposited_usdt,
            available_usdt: deposit_record.available_usdt,
            deducted_usdt: deposit_record.deducted_usdt,
            min_required_usdt,
            shortage_usdt,
            is_sufficient: shortage_usdt == 0,
            can_operate: shortage_usdt == 0,
        })
    }
}

/// æŠ¼é‡‘çŠ¶æ€ä¿¡æ¯
#[derive(Encode, Decode, Clone, PartialEq, Eq, TypeInfo)]
pub struct DepositStatusInfo {
    /// æ€»æŠ¼é‡‘
    pub total_deposited_usdt: u32,
    /// å¯ç”¨æŠ¼é‡‘
    pub available_usdt: u32,
    /// å·²æ‰£é™¤
    pub deducted_usdt: u32,
    /// æœ€ä½è¦æ±‚
    pub min_required_usdt: u32,
    /// ç¼ºå£
    pub shortage_usdt: u32,
    /// æ˜¯å¦å……è¶³
    pub is_sufficient: bool,
    /// æ˜¯å¦å¯ä»¥æ“ä½œ
    pub can_operate: bool,
}
```

### 2.3 æŠ¼é‡‘è¡¥å……æœºåˆ¶

```rust
/// è¡¥å……æŠ¼é‡‘
#[pallet::call_index(1)]
#[pallet::weight(T::WeightInfo::top_up_deposit())]
pub fn top_up_deposit(
    origin: OriginFor<T>,
    /// é€è€…ID
    deceased_id: u64,
    /// è¡¥å……é‡‘é¢ï¼ˆUSDTï¼‰
    top_up_usdt: u32,
) -> DispatchResult {
    let owner = ensure_signed(origin)?;

    // 1. éªŒè¯æ‹¥æœ‰æƒ
    Self::ensure_is_owner(&owner, deceased_id)?;

    // 2. è·å–æŠ¼é‡‘è®°å½•
    let mut deposit_record = OwnerDepositRecords::<T>::get(deceased_id)
        .ok_or(Error::<T>::DepositRecordNotFound)?;

    ensure!(
        deposit_record.owner == owner,
        Error::<T>::NotOwner
    );

    // 3. è½¬æ¢ä¸ºDUSTé‡‘é¢
    let top_up_dust = Self::convert_usdt_to_dust(top_up_usdt)?;

    // 4. é”å®šè¡¥å……æŠ¼é‡‘
    T::Fungible::hold(
        &T::RuntimeHoldReason::from(HoldReason::DeceasedOwnerDeposit),
        &owner,
        top_up_dust,
    )?;

    // 5. æ›´æ–°æŠ¼é‡‘è®°å½•
    deposit_record.total_deposited_usdt = deposit_record.total_deposited_usdt
        .saturating_add(top_up_usdt);
    deposit_record.total_deposited_dust = deposit_record.total_deposited_dust
        .saturating_add(top_up_dust);
    deposit_record.available_usdt = deposit_record.available_usdt
        .saturating_add(top_up_usdt);
    deposit_record.available_dust = deposit_record.available_dust
        .saturating_add(top_up_dust);

    // 6. æ›´æ–°çŠ¶æ€
    if deposit_record.available_usdt >= T::MinimumDepositUsdt::get() {
        deposit_record.status = DepositStatus::Active;
    }

    OwnerDepositRecords::<T>::insert(deceased_id, deposit_record.clone());

    Self::deposit_event(Event::DepositToppedUp {
        deceased_id,
        owner,
        top_up_usdt,
        top_up_dust,
        new_available_usdt: deposit_record.available_usdt,
    });

    Ok(())
}
```

---

## 3. æ‹¥æœ‰è€…æ“ä½œæµç¨‹ï¼ˆæ— éœ€é¢å¤–æŠ¼é‡‘ï¼‰

### 3.1 æ“ä½œæƒé™æ£€æŸ¥æµç¨‹

```mermaid
graph TD
    A[æ‹¥æœ‰è€…å‘èµ·æ“ä½œ] --> B[éªŒè¯æ‹¥æœ‰æƒ]
    B --> C{æ˜¯å¦æ‹¥æœ‰è€…?}
    C -->|å¦| Z[æ“ä½œè¢«æ‹’ç»]
    C -->|æ˜¯| D[æ£€æŸ¥æŠ¼é‡‘ä½™é¢]

    D --> E{æŠ¼é‡‘æ˜¯å¦å……è¶³?}
    E -->|å¦| F[æ‹’ç»æ“ä½œ<br/>æç¤ºè¡¥å……æŠ¼é‡‘]
    E -->|æ˜¯| G[æ‰§è¡Œæ“ä½œ]

    G --> H[æ“ä½œç«‹å³ç”Ÿæ•ˆ]
    H --> I[è¿›å…¥30å¤©æŠ•è¯‰æœŸ]

    I --> J{æ”¶åˆ°æŠ•è¯‰?}
    J -->|å¦| K[æŠ•è¯‰æœŸç»“æŸ<br/>æ— äº‹å‘ç”Ÿ]
    J -->|æ˜¯| L[æŠ•è¯‰å¤„ç†æµç¨‹]

    L --> M[ä¸“å®¶å§”å‘˜ä¼šå®¡æ ¸]
    M --> N{æŠ•è¯‰æ˜¯å¦æˆç«‹?}
    N -->|å¦| O[æŠ•è¯‰å¤±è´¥<br/>ç½šæ²¡æŠ•è¯‰äººæŠ¼é‡‘]
    N -->|æ˜¯| P[æŠ•è¯‰æˆåŠŸ<br/>æ‰£é™¤æ‹¥æœ‰è€…æŠ¼é‡‘]

    P --> Q[80%ç»™æŠ•è¯‰äºº<br/>20%ç»™å§”å‘˜ä¼š]
    Q --> R[æ’¤é”€æ“ä½œæ¢å¤åŸçŠ¶]
    R --> S[æ£€æŸ¥æŠ¼é‡‘ä½™é¢]
    S --> T{æŠ¼é‡‘æ˜¯å¦å……è¶³?}
    T -->|å¦| U[é”å®šæ“ä½œæƒé™]
    T -->|æ˜¯| V[ç»§ç»­å…è®¸æ“ä½œ]
```

### 3.2 æ‹¥æœ‰è€…æ“ä½œæ¥å£

```rust
/// æ‹¥æœ‰è€…æ‰§è¡Œæ“ä½œï¼ˆæ— éœ€é¢å¤–æŠ¼é‡‘ï¼‰
#[pallet::call_index(10)]
#[pallet::weight(T::WeightInfo::owner_execute_operation())]
pub fn owner_execute_operation(
    origin: OriginFor<T>,
    /// é€è€…ID
    deceased_id: u64,
    /// æ“ä½œç±»å‹
    operation: OperationType,
    /// å†…å®¹ç±»å‹
    content_type: ContentType,
    /// å†…å®¹IDï¼ˆä¿®æ”¹/åˆ é™¤æ—¶ï¼‰
    content_id: Option<u64>,
    /// æ–°å†…å®¹CIDï¼ˆæ–°å¢/ä¿®æ”¹æ—¶ï¼‰
    new_content_cid: Option<BoundedVec<u8, ConstU32<128>>>,
    /// æ“ä½œç†ç”±
    reason: BoundedVec<u8, ConstU32<512>>,
) -> DispatchResult {
    let owner = ensure_signed(origin)?;
    let now = <frame_system::Pallet<T>>::block_number();

    // 1. éªŒè¯æ‹¥æœ‰æƒ
    Self::ensure_is_owner(&owner, deceased_id)?;

    // 2. æ£€æŸ¥æŠ¼é‡‘æ˜¯å¦å……è¶³
    Self::ensure_sufficient_deposit(deceased_id)?;

    // 3. éªŒè¯æ“ä½œå‚æ•°
    Self::validate_operation_params(
        operation,
        content_type,
        content_id,
        &new_content_cid
    )?;

    // 4. æ‰§è¡Œæ“ä½œï¼ˆæ— éœ€é”å®šæŠ¼é‡‘ï¼‰
    let operation_id = Self::execute_content_operation(
        &owner,
        deceased_id,
        operation,
        content_type,
        content_id,
        new_content_cid.clone(),
    )?;

    // 5. è®°å½•æ“ä½œ
    let owner_operation = OwnerOperation {
        operation_id,
        owner: owner.clone(),
        deceased_id,
        operation,
        content_type,
        content_id,
        new_content_cid,
        reason,
        executed_at: now,
        complaint_window_end: now + T::OwnerOperationComplaintPeriod::get(),
        status: OwnerOperationStatus::Active,
        complaint_count: 0,
    };

    OwnerOperations::<T>::insert(operation_id, owner_operation.clone());

    Self::deposit_event(Event::OwnerOperationExecuted {
        operation_id,
        owner,
        deceased_id,
        operation,
        complaint_window_end: owner_operation.complaint_window_end,
    });

    Ok(())
}
```

---

## 4. æŠ•è¯‰å¤„ç†ä¸æŠ¼é‡‘æ‰£é™¤

### 4.1 æŠ•è¯‰æŠ¼é‡‘æ ‡å‡†

**å›ºå®šæŠ•è¯‰æŠ¼é‡‘**ï¼š
- **æœ€å°æŠ¼é‡‘**ï¼š5 USDT
- **æ ‡å‡†æŠ¼é‡‘**ï¼š10 USDT
- **é«˜é£é™©æŠ•è¯‰**ï¼š20 USDTï¼ˆé’ˆå¯¹ä¸¥é‡è¿è§„ï¼‰

```rust
/// æŠ•è¯‰æŠ¼é‡‘è®¡ç®—
pub fn calculate_complaint_deposit(
    operation: &OwnerOperation<T>,
) -> Result<u32, Error<T>> {
    // æ ¹æ®æ“ä½œç±»å‹å’Œå†…å®¹ç±»å‹å†³å®šæŠ•è¯‰æŠ¼é‡‘
    let deposit_usdt = match (operation.operation, operation.content_type) {
        // åˆ é™¤æ“ä½œæŠ•è¯‰æŠ¼é‡‘è¾ƒé«˜
        (OperationType::Delete, ContentType::Works) => 20,
        (OperationType::Delete, ContentType::Media) => 15,
        (OperationType::Delete, _) => 10,

        // ä¿®æ”¹æ“ä½œ
        (OperationType::Modify, ContentType::Works) => 15,
        (OperationType::Modify, _) => 10,

        // æ–°å¢æ“ä½œæŠ•è¯‰æŠ¼é‡‘è¾ƒä½
        (OperationType::Add, _) => 5,
    };

    Ok(deposit_usdt.max(T::MinComplaintDepositUsdt::get()))
}
```

### 4.2 æŠ•è¯‰æäº¤æ¥å£

```rust
/// æŠ•è¯‰æ‹¥æœ‰è€…æ“ä½œ
#[pallet::call_index(11)]
#[pallet::weight(T::WeightInfo::complain_owner_operation())]
pub fn complain_owner_operation(
    origin: OriginFor<T>,
    /// æ“ä½œID
    operation_id: u64,
    /// æŠ•è¯‰ç±»å‹
    complaint_type: ComplaintType,
    /// æŠ•è¯‰ç†ç”±
    reason: BoundedVec<u8, ConstU32<1024>>,
    /// è¯æ®CIDåˆ—è¡¨
    evidence_cids: BoundedVec<BoundedVec<u8, ConstU32<128>>, ConstU32<10>>,
) -> DispatchResult {
    let complainant = ensure_signed(origin)?;
    let now = <frame_system::Pallet<T>>::block_number();

    // 1. è·å–æ“ä½œè®°å½•
    let operation = OwnerOperations::<T>::get(operation_id)
        .ok_or(Error::<T>::OperationNotFound)?;

    // 2. éªŒè¯æŠ•è¯‰çª—å£
    ensure!(
        operation.status == OwnerOperationStatus::Active,
        Error::<T>::OperationNotActive
    );
    ensure!(
        now <= operation.complaint_window_end,
        Error::<T>::ComplaintWindowExpired
    );

    // 3. ä¸èƒ½æŠ•è¯‰è‡ªå·±çš„æ“ä½œ
    ensure!(
        operation.owner != complainant,
        Error::<T>::CannotComplainOwnOperation
    );

    // 4. è®¡ç®—æŠ•è¯‰æŠ¼é‡‘
    let complaint_deposit_usdt = Self::calculate_complaint_deposit(&operation)?;
    let complaint_deposit_dust = Self::convert_usdt_to_dust(complaint_deposit_usdt)?;

    // 5. é”å®šæŠ•è¯‰æŠ¼é‡‘
    T::Fungible::hold(
        &T::RuntimeHoldReason::from(HoldReason::ComplaintDeposit),
        &complainant,
        complaint_deposit_dust,
    )?;

    // 6. åˆ›å»ºæŠ•è¯‰è®°å½•
    let complaint_id = NextComplaintId::<T>::mutate(|id| {
        let current = *id;
        *id = id.saturating_add(1);
        current
    });

    let complaint = OwnerOperationComplaint {
        complaint_id,
        complainant: complainant.clone(),
        operation_id,
        complaint_type,
        reason,
        evidence_cids,
        deposit_usdt: complaint_deposit_usdt,
        deposit_dust: complaint_deposit_dust,
        status: ComplaintStatus::Submitted,
        submitted_at: now,
        reviewed_at: None,
    };

    OwnerOperationComplaints::<T>::insert(complaint_id, complaint);
    ComplaintsByOperation::<T>::insert(operation_id, complaint_id, ());

    // 7. æ›´æ–°æ“ä½œè®°å½•
    OwnerOperations::<T>::mutate(operation_id, |op| {
        if let Some(operation) = op {
            operation.complaint_count += 1;
        }
    });

    Self::deposit_event(Event::OperationComplained {
        complaint_id,
        operation_id,
        complainant,
        deposit_usdt: complaint_deposit_usdt,
        deposit_dust: complaint_deposit_dust,
    });

    Ok(())
}
```

### 4.3 æŠ•è¯‰å®¡æ ¸ä¸æŠ¼é‡‘æ‰£é™¤

```rust
/// ä¸“å®¶å§”å‘˜ä¼šå®¡æ ¸æŠ•è¯‰
#[pallet::call_index(12)]
#[pallet::weight(T::WeightInfo::review_complaint())]
pub fn review_owner_complaint(
    origin: OriginFor<T>,
    /// æŠ•è¯‰ID
    complaint_id: u64,
    /// å®¡æ ¸å†³å®š
    decision: ExpertDecision,
    /// å®¡æ ¸æ„è§
    reasoning: BoundedVec<u8, ConstU32<1024>>,
) -> DispatchResult {
    T::ExpertCommitteeOrigin::ensure_origin(origin)?;

    let now = <frame_system::Pallet<T>>::block_number();

    // 1. è·å–æŠ•è¯‰è®°å½•
    let mut complaint = OwnerOperationComplaints::<T>::get(complaint_id)
        .ok_or(Error::<T>::ComplaintNotFound)?;

    ensure!(
        complaint.status == ComplaintStatus::Submitted,
        Error::<T>::ComplaintAlreadyReviewed
    );

    // 2. è·å–æ“ä½œè®°å½•
    let mut operation = OwnerOperations::<T>::get(complaint.operation_id)
        .ok_or(Error::<T>::OperationNotFound)?;

    // 3. å¤„ç†å®¡æ ¸ç»“æœ
    match decision {
        ExpertDecision::ComplaintValid => {
            // æŠ•è¯‰æˆåŠŸ - ä»æ‹¥æœ‰è€…è´¨æŠ¼æŠ¼é‡‘æ‰£é™¤
            Self::handle_complaint_success(
                &operation,
                &complaint,
                now,
            )?;
            complaint.status = ComplaintStatus::Upheld;
            operation.status = OwnerOperationStatus::Revoked;
        },
        ExpertDecision::ComplaintInvalid => {
            // æŠ•è¯‰å¤±è´¥ - ç½šæ²¡æŠ•è¯‰äººæŠ¼é‡‘
            Self::handle_complaint_failure(
                &operation,
                &complaint,
                now,
            )?;
            complaint.status = ComplaintStatus::Rejected;
        },
        ExpertDecision::RequireMoreEvidence => {
            complaint.status = ComplaintStatus::PendingEvidence;
            Self::request_additional_evidence(complaint_id)?;
            return Ok(());
        },
    }

    complaint.reviewed_at = Some(now);

    // 4. æ›´æ–°å­˜å‚¨
    OwnerOperationComplaints::<T>::insert(complaint_id, complaint);
    OwnerOperations::<T>::insert(complaint.operation_id, operation);

    Self::deposit_event(Event::ComplaintReviewed {
        complaint_id,
        operation_id: complaint.operation_id,
        decision,
    });

    Ok(())
}

/// å¤„ç†æŠ•è¯‰æˆåŠŸ - ä»è´¨æŠ¼æŠ¼é‡‘æ‰£é™¤
fn handle_complaint_success(
    operation: &OwnerOperation<T>,
    complaint: &OwnerOperationComplaint<T>,
    now: BlockNumberFor<T>,
) -> DispatchResult {
    // 1. è·å–æ‹¥æœ‰è€…æŠ¼é‡‘è®°å½•
    let mut deposit_record = OwnerDepositRecords::<T>::get(operation.deceased_id)
        .ok_or(Error::<T>::DepositRecordNotFound)?;

    // 2. è®¡ç®—ç½šæ¬¾é‡‘é¢ï¼ˆéœ€è¦ä»è´¨æŠ¼æŠ¼é‡‘æ‰£é™¤çš„é‡‘é¢ï¼‰
    // ç½šæ¬¾ = æŠ•è¯‰æŠ¼é‡‘ Ã— 2 (æŠ•è¯‰äººæ‹¿80%ï¼Œå§”å‘˜ä¼šæ‹¿20%)
    let penalty_usdt = complaint.deposit_usdt * 2;
    let penalty_dust = complaint.deposit_dust.saturating_mul(2u32.into());

    // 3. æ£€æŸ¥è´¨æŠ¼æŠ¼é‡‘æ˜¯å¦å……è¶³
    ensure!(
        deposit_record.available_usdt >= penalty_usdt,
        Error::<T>::InsufficientDepositForPenalty
    );
    ensure!(
        deposit_record.available_dust >= penalty_dust,
        Error::<T>::InsufficientDepositForPenalty
    );

    // 4. ä»è´¨æŠ¼æŠ¼é‡‘æ‰£é™¤
    deposit_record.available_usdt = deposit_record.available_usdt
        .saturating_sub(penalty_usdt);
    deposit_record.available_dust = deposit_record.available_dust
        .saturating_sub(penalty_dust);
    deposit_record.deducted_usdt = deposit_record.deducted_usdt
        .saturating_add(penalty_usdt);
    deposit_record.deducted_dust = deposit_record.deducted_dust
        .saturating_add(penalty_dust);

    // 5. æ£€æŸ¥æŠ¼é‡‘æ˜¯å¦ä½äºæœ€ä½è¦æ±‚
    if deposit_record.available_usdt < T::MinimumDepositUsdt::get() {
        deposit_record.status = DepositStatus::Insufficient;
    }

    OwnerDepositRecords::<T>::insert(operation.deceased_id, deposit_record);

    // 6. åˆ†é…ç½šæ¬¾ï¼š80%ç»™æŠ•è¯‰äººï¼Œ20%ç»™å§”å‘˜ä¼š
    let complainant_reward = Perbill::from_percent(80).mul_floor(penalty_dust);
    let committee_reward = penalty_dust.saturating_sub(complainant_reward);

    // 7. ä»æ‹¥æœ‰è€…è´¨æŠ¼ä¸­è½¬ç»™æŠ•è¯‰äºº
    T::Fungible::transfer_on_hold(
        &T::RuntimeHoldReason::from(HoldReason::DeceasedOwnerDeposit),
        &operation.owner,
        &complaint.complainant,
        complainant_reward,
        Precision::BestEffort,
        Restriction::Free,
        Fortitude::Force,
    )?;

    // 8. ä»æ‹¥æœ‰è€…è´¨æŠ¼ä¸­è½¬ç»™å§”å‘˜ä¼š
    Self::distribute_committee_reward_from_hold(
        &operation.owner,
        committee_reward,
        complaint.complaint_id,
    )?;

    // 9. é‡Šæ”¾æŠ•è¯‰äººæŠ¼é‡‘
    T::Fungible::release(
        &T::RuntimeHoldReason::from(HoldReason::ComplaintDeposit),
        &complaint.complainant,
        complaint.deposit_dust,
        Precision::Exact,
    )?;

    // 10. æ’¤é”€æ“ä½œ
    Self::revert_owner_operation(operation)?;

    Self::deposit_event(Event::ComplaintSuccessDepositDeducted {
        complaint_id: complaint.complaint_id,
        operation_id: operation.operation_id,
        deceased_id: operation.deceased_id,
        deducted_usdt: penalty_usdt,
        deducted_dust: penalty_dust,
        complainant_reward,
        committee_reward,
        remaining_deposit_usdt: deposit_record.available_usdt,
    });

    Ok(())
}

/// å¤„ç†æŠ•è¯‰å¤±è´¥ - ç½šæ²¡æŠ•è¯‰äººæŠ¼é‡‘
fn handle_complaint_failure(
    operation: &OwnerOperation<T>,
    complaint: &OwnerOperationComplaint<T>,
    now: BlockNumberFor<T>,
) -> DispatchResult {
    let complaint_deposit = complaint.deposit_dust;

    // 1. åˆ†é…ï¼š80%ç»™æ‹¥æœ‰è€…ï¼Œ20%ç»™å§”å‘˜ä¼š
    let owner_compensation = Perbill::from_percent(80).mul_floor(complaint_deposit);
    let committee_reward = complaint_deposit.saturating_sub(owner_compensation);

    // 2. è½¬ç»™æ‹¥æœ‰è€…ï¼ˆå¢åŠ åˆ°å…¶è´¦æˆ·ä½™é¢ï¼Œä¸æ˜¯è´¨æŠ¼æŠ¼é‡‘ï¼‰
    T::Fungible::transfer_on_hold(
        &T::RuntimeHoldReason::from(HoldReason::ComplaintDeposit),
        &complaint.complainant,
        &operation.owner,
        owner_compensation,
        Precision::BestEffort,
        Restriction::Free,
        Fortitude::Force,
    )?;

    // 3. è½¬ç»™å§”å‘˜ä¼š
    Self::distribute_committee_reward_from_hold(
        &complaint.complainant,
        committee_reward,
        complaint.complaint_id,
    )?;

    Self::deposit_event(Event::ComplaintRejectedDepositForfeited {
        complaint_id: complaint.complaint_id,
        operation_id: operation.operation_id,
        complainant: complaint.complainant.clone(),
        owner_compensation,
        committee_reward,
    });

    Ok(())
}
```

---

## 5. æ‹¥æœ‰æƒè½¬è®©ä¸æŠ¼é‡‘é‡Šæ”¾

### 5.1 è½¬è®©æµç¨‹

```mermaid
graph TD
    A[åŸæ‹¥æœ‰è€…å‘èµ·è½¬è®©] --> B[éªŒè¯æ–°æ‹¥æœ‰è€…]
    B --> C[æ–°æ‹¥æœ‰è€…é”å®šæŠ¼é‡‘]
    C --> D{æ–°æŠ¼é‡‘é”å®šæˆåŠŸ?}
    D -->|å¦| Z[è½¬è®©å¤±è´¥]
    D -->|æ˜¯| E[é‡Šæ”¾åŸæ‹¥æœ‰è€…æŠ¼é‡‘]

    E --> F[è½¬ç§»æ‹¥æœ‰æƒ]
    F --> G[æ›´æ–°æŠ¼é‡‘è®°å½•]
    G --> H[è½¬è®©å®Œæˆ]
```

### 5.2 è½¬è®©æ¥å£

```rust
/// è½¬è®©é€è€…æ‹¥æœ‰æƒ
#[pallet::call_index(20)]
#[pallet::weight(T::WeightInfo::transfer_ownership())]
pub fn transfer_deceased_ownership(
    origin: OriginFor<T>,
    /// é€è€…ID
    deceased_id: u64,
    /// æ–°æ‹¥æœ‰è€…
    new_owner: T::AccountId,
    /// æ–°æ‹¥æœ‰è€…é¢„æœŸè§„æ¨¡
    new_owner_expected_scale: ContentScale,
) -> DispatchResult {
    let old_owner = ensure_signed(origin)?;

    // 1. éªŒè¯å½“å‰æ‹¥æœ‰æƒ
    Self::ensure_is_owner(&old_owner, deceased_id)?;

    // 2. è·å–å½“å‰æŠ¼é‡‘è®°å½•
    let old_deposit_record = OwnerDepositRecords::<T>::get(deceased_id)
        .ok_or(Error::<T>::DepositRecordNotFound)?;

    ensure!(
        old_deposit_record.status == DepositStatus::Active ||
        old_deposit_record.status == DepositStatus::Insufficient,
        Error::<T>::DepositNotTransferable
    );

    // 3. è®¡ç®—æ–°æ‹¥æœ‰è€…æ‰€éœ€æŠ¼é‡‘
    let new_deposit_usdt = Self::calculate_creation_deposit_usdt(
        &new_owner,
        new_owner_expected_scale,
    )?;
    let new_deposit_dust = Self::convert_usdt_to_dust(new_deposit_usdt)?;

    // 4. é”å®šæ–°æ‹¥æœ‰è€…æŠ¼é‡‘
    T::Fungible::hold(
        &T::RuntimeHoldReason::from(HoldReason::DeceasedOwnerDeposit),
        &new_owner,
        new_deposit_dust,
    )?;

    // 5. é‡Šæ”¾åŸæ‹¥æœ‰è€…æŠ¼é‡‘
    T::Fungible::release(
        &T::RuntimeHoldReason::from(HoldReason::DeceasedOwnerDeposit),
        &old_owner,
        old_deposit_record.available_dust,
        Precision::Exact,
    )?;

    // 6. æ›´æ–°é€è€…æ‹¥æœ‰æƒ
    Self::do_transfer_ownership(deceased_id, &old_owner, &new_owner)?;

    // 7. åˆ›å»ºæ–°æŠ¼é‡‘è®°å½•
    let new_deposit_record = OwnerDepositRecord {
        owner: new_owner.clone(),
        deceased_id,
        total_deposited_usdt: new_deposit_usdt,
        total_deposited_dust: new_deposit_dust,
        available_usdt: new_deposit_usdt,
        available_dust: new_deposit_dust,
        deducted_usdt: 0,
        deducted_dust: BalanceOf::<T>::zero(),
        locked_at: <frame_system::Pallet<T>>::block_number(),
        exchange_rate: Self::get_current_exchange_rate()?,
        status: DepositStatus::Active,
    };

    // 8. æ›´æ–°å­˜å‚¨
    OwnerDepositRecords::<T>::insert(deceased_id, new_deposit_record);
    OwnerDepositsByOwner::<T>::remove(&old_owner, deceased_id);
    OwnerDepositsByOwner::<T>::insert(&new_owner, deceased_id, ());

    Self::deposit_event(Event::OwnershipTransferredWithDeposit {
        deceased_id,
        old_owner: old_owner.clone(),
        new_owner: new_owner.clone(),
        old_deposit_released_usdt: old_deposit_record.available_usdt,
        old_deposit_released_dust: old_deposit_record.available_dust,
        new_deposit_locked_usdt: new_deposit_usdt,
        new_deposit_locked_dust: new_deposit_dust,
    });

    Ok(())
}
```

---

## 6. å‰ç«¯ç”¨æˆ·ç•Œé¢è®¾è®¡

### 6.1 åˆ›å»ºé€è€…ç•Œé¢ï¼ˆé”å®šæŠ¼é‡‘ï¼‰

```typescript
// åˆ›å»ºé€è€…é¡µé¢
const CreateDeceasedWithDepositPage: React.FC = () => {
  const [deceasedInfo, setDeceasedInfo] = useState<DeceasedInfo>();
  const [expectedScale, setExpectedScale] = useState<ContentScale>('medium');
  const [depositEstimate, setDepositEstimate] = useState<DepositEstimate>();
  const [exchangeRate, setExchangeRate] = useState<ExchangeRate>();

  // å®æ—¶è®¡ç®—æŠ¼é‡‘
  useEffect(() => {
    const calculateDeposit = async () => {
      const estimate = await api.calculateCreationDeposit({
        owner: currentUser.address,
        expectedScale,
      });
      setDepositEstimate(estimate);
    };

    calculateDeposit();
  }, [expectedScale]);

  return (
    <div className=\"max-w-md mx-auto p-4 space-y-6\">
      <PageHeader
        title=\"åˆ›å»ºé€è€…æ¡£æ¡ˆ\"
        subtitle=\"åˆ›å»ºæ—¶éœ€é”å®šæ°¸ä¹…è´¨æŠ¼æŠ¼é‡‘\"
      />

      {/* é€è€…åŸºæœ¬ä¿¡æ¯ */}
      <DeceasedInfoForm
        value={deceasedInfo}
        onChange={setDeceasedInfo}
      />

      {/* é¢„æœŸå†…å®¹è§„æ¨¡é€‰æ‹© */}
      <ContentScaleSelector
        value={expectedScale}
        onChange={setExpectedScale}
        options={[
          {
            value: 'small',
            label: 'å°è§„æ¨¡',
            description: 'å°‘äº10æ¡å†…å®¹ï¼ˆç…§ç‰‡ã€ä½œå“ç­‰ï¼‰',
            deposit: '60-150 USDT',
            recommended: 'ä¸ªäººçºªå¿µ'
          },
          {
            value: 'medium',
            label: 'ä¸­è§„æ¨¡',
            description: '10-50æ¡å†…å®¹',
            deposit: '90-225 USDT',
            recommended: 'æ ‡å‡†æ¡£æ¡ˆ'
          },
          {
            value: 'large',
            label: 'å¤§è§„æ¨¡',
            description: 'è¶…è¿‡50æ¡å†…å®¹',
            deposit: '120-300 USDT',
            recommended: 'å®Œæ•´ä¼ è®°'
          },
        ]}
      />

      {/* æ°¸ä¹…è´¨æŠ¼æŠ¼é‡‘è¯´æ˜ */}
      <PermanentDepositCard>
        <div className=\"bg-gradient-to-r from-purple-50 to-indigo-50 p-5 rounded-lg\">
          <div className=\"flex items-center mb-3\">
            <LockIcon className=\"w-5 h-5 text-purple-600 mr-2\" />
            <h3 className=\"font-semibold text-purple-900\">æ°¸ä¹…è´¨æŠ¼æŠ¼é‡‘</h3>
          </div>

          <div className=\"text-center mb-4\">
            <div className=\"text-4xl font-bold text-purple-600\">
              ${depositEstimate?.usdt || '0'}
            </div>
            <div className=\"text-sm text-gray-600 mt-1\">USDT ç­‰å€¼</div>
            <div className=\"text-lg text-gray-700 mt-2\">
              â‰ˆ {depositEstimate?.dust || '0'} DUST
            </div>
          </div>

          <ExchangeRateDisplay rate={exchangeRate} />

          <div className=\"mt-4 space-y-2\">
            <DepositBreakdown
              baseDeposit={100}
              scaleMultiplier={expectedScale === 'small' ? 1.0 : expectedScale === 'medium' ? 1.5 : 2.0}
              reputationMultiplier={depositEstimate?.reputationMultiplier || 1.0}
            />
          </div>

          {/* æŠ¼é‡‘ç”¨é€”è¯´æ˜ */}
          <div className=\"mt-4 p-3 bg-white rounded-lg border border-purple-200\">
            <div className=\"text-xs font-medium text-purple-800 mb-2\">
              ğŸ’¡ æŠ¼é‡‘ç”¨é€”è¯´æ˜
            </div>
            <ul className=\"text-xs text-gray-700 space-y-1\">
              <li>âœ… ä¸€æ¬¡æ€§é”å®šï¼Œæ— éœ€æ¯æ¬¡æ“ä½œæ”¯ä»˜æŠ¼é‡‘</li>
              <li>âœ… ä½œä¸ºæ‰€æœ‰æ“ä½œçš„è´£ä»»ä¿è¯é‡‘</li>
              <li>âœ… æŠ•è¯‰æˆåŠŸæ—¶ä»æ­¤æ‰£é™¤ç½šæ¬¾</li>
              <li>âœ… è½¬è®©æ‹¥æœ‰æƒæ—¶å…¨é¢é‡Šæ”¾</li>
              <li>âœ… æŠ¼é‡‘ä¸è¶³æ—¶éœ€è¡¥å……æ‰èƒ½ç»§ç»­æ“ä½œ</li>
            </ul>
          </div>
        </div>
      </PermanentDepositCard>

      {/* é£é™©æç¤º */}
      <RiskWarningCard>
        <div className=\"p-4 bg-amber-50 border-l-4 border-amber-400 rounded\">
          <div className=\"flex items-center mb-2\">
            <AlertTriangleIcon className=\"w-4 h-4 text-amber-600 mr-2\" />
            <span className=\"font-medium text-amber-800\">é‡è¦æç¤º</span>
          </div>
          <ul className=\"text-xs text-amber-700 space-y-1\">
            <li>â€¢ æŠ¼é‡‘å°†è¢«æ°¸ä¹…é”å®šï¼Œç›´åˆ°è½¬è®©æ‹¥æœ‰æƒ</li>
            <li>â€¢ æ“ä½œè¢«æŠ•è¯‰æˆåŠŸä¼šä»æŠ¼é‡‘ä¸­æ‰£é™¤ç½šæ¬¾</li>
            <li>â€¢ æŠ¼é‡‘ä¸è¶³æ—¶å°†æ— æ³•è¿›è¡Œå¢åˆ æ”¹æ“ä½œ</li>
            <li>â€¢ è¯·ç¡®ä¿æœ‰è¶³å¤Ÿèµ„é‡‘å¹¶ç†è§£è´£ä»»</li>
          </ul>
        </div>
      </RiskWarningCard>

      {/* åˆ›å»ºæŒ‰é’® */}
      <CreateButton
        disabled={!isFormValid}
        depositAmount={depositEstimate?.dust}
        onClick={handleCreate}
        loading={creating}
      >
        é”å®šæŠ¼é‡‘å¹¶åˆ›å»ºé€è€…æ¡£æ¡ˆ
      </CreateButton>
    </div>
  );
};
```

### 6.2 æŠ¼é‡‘çŠ¶æ€ç›‘æ§ç•Œé¢

```typescript
// æŠ¼é‡‘çŠ¶æ€å¡ç‰‡
const DepositStatusCard: React.FC<{ deceasedId: string }> = ({ deceasedId }) => {
  const { depositStatus, loading } = useDepositStatus(deceasedId);

  if (loading) return <LoadingSkeleton />;

  const isInsufficient = !depositStatus.is_sufficient;
  const shortage = depositStatus.shortage_usdt;

  return (
    <div className=\"bg-white rounded-lg shadow-md p-4\">
      {/* çŠ¶æ€æŒ‡ç¤ºå™¨ */}
      <div className=\"flex items-center justify-between mb-4\">
        <h3 className=\"font-semibold text-gray-900\">æŠ¼é‡‘çŠ¶æ€</h3>
        <StatusBadge
          status={isInsufficient ? 'insufficient' : 'active'}
          label={isInsufficient ? 'æŠ¼é‡‘ä¸è¶³' : 'æŠ¼é‡‘å……è¶³'}
        />
      </div>

      {/* æŠ¼é‡‘ä½™é¢ */}
      <div className=\"grid grid-cols-2 gap-4 mb-4\">
        <div className=\"text-center p-3 bg-gray-50 rounded-lg\">
          <div className=\"text-2xl font-bold text-gray-900\">
            ${depositStatus.available_usdt}
          </div>
          <div className=\"text-xs text-gray-600 mt-1\">å¯ç”¨æŠ¼é‡‘</div>
        </div>

        <div className=\"text-center p-3 bg-gray-50 rounded-lg\">
          <div className=\"text-2xl font-bold text-gray-900\">
            ${depositStatus.total_deposited_usdt}
          </div>
          <div className=\"text-xs text-gray-600 mt-1\">æ€»è´¨æŠ¼</div>
        </div>
      </div>

      {/* æŠ¼é‡‘è¯¦æƒ… */}
      <div className=\"space-y-2 text-sm\">
        <div className=\"flex justify-between\">
          <span className=\"text-gray-600\">æœ€ä½è¦æ±‚</span>
          <span className=\"font-medium\">${depositStatus.min_required_usdt}</span>
        </div>
        <div className=\"flex justify-between\">
          <span className=\"text-gray-600\">å·²æ‰£é™¤</span>
          <span className=\"font-medium text-red-600\">
            ${depositStatus.deducted_usdt}
          </span>
        </div>
        {isInsufficient && (
          <div className=\"flex justify-between\">
            <span className=\"text-gray-600\">éœ€è¦è¡¥å……</span>
            <span className=\"font-bold text-orange-600\">
              ${shortage}
            </span>
          </div>
        )}
      </div>

      {/* æ“ä½œæƒé™æç¤º */}
      <div className=\"mt-4 p-3 rounded-lg\" style={{
        backgroundColor: isInsufficient ? '#FEF3C7' : '#D1FAE5',
        borderColor: isInsufficient ? '#F59E0B' : '#10B981',
        borderWidth: 1
      }}>
        <div className=\"flex items-center\">
          {isInsufficient ? (
            <>
              <XCircleIcon className=\"w-4 h-4 text-orange-600 mr-2\" />
              <span className=\"text-xs text-orange-800\">
                æŠ¼é‡‘ä¸è¶³ï¼Œå·²é™åˆ¶æ“ä½œæƒé™
              </span>
            </>
          ) : (
            <>
              <CheckCircleIcon className=\"w-4 h-4 text-green-600 mr-2\" />
              <span className=\"text-xs text-green-800\">
                æŠ¼é‡‘å……è¶³ï¼Œå¯æ­£å¸¸æ“ä½œ
              </span>
            </>
          )}
        </div>
      </div>

      {/* è¡¥å……æŠ¼é‡‘æŒ‰é’® */}
      {isInsufficient && (
        <div className=\"mt-4\">
          <Button
            variant=\"primary\"
            size=\"lg\"
            fullWidth
            onClick={() => router.push(`/deceased/${deceasedId}/top-up`)}
          >
            ç«‹å³è¡¥å……æŠ¼é‡‘ (${shortage})
          </Button>
        </div>
      )}

      {/* æŠ¼é‡‘å†å² */}
      <div className=\"mt-4\">
        <button
          className=\"text-sm text-blue-600 hover:text-blue-800\"
          onClick={() => setShowHistory(true)}
        >
          æŸ¥çœ‹æŠ¼é‡‘å˜åŠ¨å†å² â†’
        </button>
      </div>
    </div>
  );
};

// è¡¥å……æŠ¼é‡‘é¡µé¢
const TopUpDepositPage: React.FC<{ deceasedId: string }> = ({ deceasedId }) => {
  const { depositStatus } = useDepositStatus(deceasedId);
  const [topUpAmount, setTopUpAmount] = useState<number>(depositStatus.shortage_usdt);
  const [topUpDust, setTopUpDust] = useState<string>('0');

  useEffect(() => {
    const calculateDust = async () => {
      const dust = await api.convertUsdtToDust(topUpAmount);
      setTopUpDust(dust);
    };

    if (topUpAmount > 0) {
      calculateDust();
    }
  }, [topUpAmount]);

  return (
    <div className=\"max-w-md mx-auto p-4 space-y-6\">
      <PageHeader
        title=\"è¡¥å……æŠ¼é‡‘\"
        subtitle=\"æ¢å¤æ“ä½œæƒé™\"
        backUrl={`/deceased/${deceasedId}`}
      />

      {/* å½“å‰çŠ¶æ€ */}
      <CurrentDepositStatus status={depositStatus} />

      {/* è¡¥å……é‡‘é¢è¾“å…¥ */}
      <div className=\"space-y-3\">
        <label className=\"block text-sm font-medium text-gray-700\">
          è¡¥å……é‡‘é¢ (USDT)
        </label>

        <div className=\"flex items-center space-x-2\">
          <input
            type=\"number\"
            min={depositStatus.shortage_usdt}
            value={topUpAmount}
            onChange={(e) => setTopUpAmount(Number(e.target.value))}
            className=\"flex-1 px-4 py-3 border rounded-lg\"
            placeholder=\"è¾“å…¥è¡¥å……é‡‘é¢\"
          />
          <Button
            variant=\"secondary\"
            onClick={() => setTopUpAmount(depositStatus.shortage_usdt)}
          >
            æœ€å°è¡¥å……
          </Button>
        </div>

        <div className=\"text-sm text-gray-600\">
          éœ€è¦é”å®šï¼š{topUpDust} DUST
        </div>
      </div>

      {/* å¿«æ·é‡‘é¢é€‰æ‹© */}
      <QuickAmountSelector
        options={[
          depositStatus.shortage_usdt,
          50,
          100,
          200,
        ]}
        selected={topUpAmount}
        onSelect={setTopUpAmount}
      />

      {/* è¡¥å……åçŠ¶æ€é¢„è§ˆ */}
      <AfterTopUpPreview
        current={depositStatus.available_usdt}
        topUp={topUpAmount}
        after={depositStatus.available_usdt + topUpAmount}
        minRequired={depositStatus.min_required_usdt}
      />

      {/* ç¡®è®¤è¡¥å…… */}
      <Button
        variant=\"primary\"
        size=\"lg\"
        fullWidth
        disabled={topUpAmount < depositStatus.shortage_usdt}
        onClick={handleTopUp}
        loading={topping}
      >
        ç¡®è®¤è¡¥å…… ${topUpAmount}
      </Button>
    </div>
  );
};
```

### 6.3 æ‹¥æœ‰è€…æ“ä½œç•Œé¢ï¼ˆæ— æŠ¼é‡‘ï¼‰

```typescript
// æ‹¥æœ‰è€…æ“ä½œé¡µé¢ï¼ˆæ— éœ€é¢å¤–æŠ¼é‡‘ï¼‰
const OwnerOperationPage: React.FC<{ deceasedId: string }> = ({ deceasedId }) => {
  const { depositStatus } = useDepositStatus(deceasedId);
  const [operation, setOperation] = useState<OperationData>();
  const canOperate = depositStatus.can_operate;

  return (
    <div className=\"max-w-md mx-auto p-4 space-y-6\">
      {/* æŠ¼é‡‘çŠ¶æ€æ¨ªå¹… */}
      <DepositStatusBanner status={depositStatus} deceasedId={deceasedId} />

      {/* æ“ä½œè¢«é”å®šæç¤º */}
      {!canOperate && (
        <OperationLockedAlert
          shortage={depositStatus.shortage_usdt}
          onTopUp={() => router.push(`/deceased/${deceasedId}/top-up`)}
        />
      )}

      {/* æ“ä½œè¡¨å•ï¼ˆåªæœ‰æŠ¼é‡‘å……è¶³æ—¶å¯ç”¨ï¼‰ */}
      <div className={!canOperate ? 'opacity-50 pointer-events-none' : ''}>
        <OperationTypeSelector
          value={operation?.type}
          onChange={(type) => setOperation(prev => ({ ...prev, type }))}
        />

        <ContentEditor
          operation={operation}
          onChange={setOperation}
        />

        {/* æ— éœ€æŠ¼é‡‘æç¤º */}
        <div className=\"p-4 bg-green-50 border border-green-200 rounded-lg\">
          <div className=\"flex items-center mb-2\">
            <CheckCircleIcon className=\"w-5 h-5 text-green-600 mr-2\" />
            <span className=\"font-medium text-green-800\">æ— éœ€é¢å¤–æŠ¼é‡‘</span>
          </div>
          <p className=\"text-sm text-green-700\">
            æ‚¨çš„è´¨æŠ¼æŠ¼é‡‘ï¼ˆ${depositStatus.available_usdt}ï¼‰å·²è¦†ç›–æœ¬æ¬¡æ“ä½œï¼Œ
            æ— éœ€æ”¯ä»˜é¢å¤–æŠ¼é‡‘å³å¯æ‰§è¡Œã€‚
          </p>
        </div>

        {/* æŠ•è¯‰é£é™©æç¤º */}
        <ComplaintRiskWarning
          availableDeposit={depositStatus.available_usdt}
        />

        {/* æ‰§è¡Œæ“ä½œæŒ‰é’® */}
        <ExecuteButton
          disabled={!canOperate || !isOperationValid(operation)}
          onClick={handleExecute}
          loading={executing}
        >
          æ‰§è¡Œæ“ä½œï¼ˆæ— éœ€æŠ¼é‡‘ï¼‰
        </ExecuteButton>
      </div>
    </div>
  );
};
```

---

## 7. é…ç½®å‚æ•°ä¸å®æ–½è®¡åˆ’

### 7.1 Runtimeé…ç½®

```rust
impl pallet_owner_deposit_governance::Config for Runtime {
    type RuntimeEvent = RuntimeEvent;
    type WeightInfo = pallet_owner_deposit_governance::weights::WeightInfo<Runtime>;

    // åŸºç¡€é…ç½®
    type Fungible = Balances;
    type RuntimeHoldReason = RuntimeHoldReason;

    // å®šä»·æœåŠ¡
    type PricingProvider = PricingPallet;
    type RateCacheDuration = ConstU32<600>; // 10åˆ†é’Ÿç¼“å­˜

    // æŠ¼é‡‘é…ç½®ï¼ˆUSDTï¼‰
    type BaseCreationDepositUsdt = ConstU32<100>; // 100 USDTåŸºç¡€æŠ¼é‡‘
    type MinimumDepositUsdt = ConstU32<50>; // 50 USDTæœ€ä½ä½™é¢
    type MinComplaintDepositUsdt = ConstU32<5>; // 5 USDTæœ€å°æŠ•è¯‰æŠ¼é‡‘

    // æ—¶é—´é…ç½®
    type OwnerOperationComplaintPeriod = ConstU32<432000>; // 30å¤©æŠ•è¯‰æœŸ

    // æƒé™é…ç½®
    type OwnershipVerifier = DeceasedOwnershipPallet;
    type ExpertCommitteeOrigin = EnsureRootOrThreeFourthsCouncil;

    // è°ƒåº¦å™¨
    type Scheduler = Scheduler;

    // å›½åº“è´¦æˆ·
    type TreasuryAccount = TreasuryAccount;
}
```

### 7.2 å®æ–½è®¡åˆ’ï¼ˆ6å‘¨ï¼‰

```
Phase 1: æ ¸å¿ƒæŠ¼é‡‘æœºåˆ¶ (2å‘¨)
â”œâ”€â”€ Week 1: æ°¸ä¹…è´¨æŠ¼ç³»ç»Ÿ
â”‚   â”œâ”€â”€ åˆ›å»ºæ—¶æŠ¼é‡‘é”å®š
â”‚   â”œâ”€â”€ æŠ¼é‡‘ä½™é¢ç®¡ç†
â”‚   â”œâ”€â”€ USDT/DUSTè½¬æ¢
â”‚   â””â”€â”€ æŠ¼é‡‘è®°å½•å­˜å‚¨
â””â”€â”€ Week 2: è¡¥å……å’Œé‡Šæ”¾æœºåˆ¶
    â”œâ”€â”€ æŠ¼é‡‘è¡¥å……æ¥å£
    â”œâ”€â”€ æ‹¥æœ‰æƒè½¬è®©
    â”œâ”€â”€ æŠ¼é‡‘é‡Šæ”¾é€»è¾‘
    â””â”€â”€ å•å…ƒæµ‹è¯•

Phase 2: æ“ä½œä¸æŠ•è¯‰æµç¨‹ (2å‘¨)
â”œâ”€â”€ Week 3: æ— æŠ¼é‡‘æ“ä½œç³»ç»Ÿ
â”‚   â”œâ”€â”€ æƒé™æ£€æŸ¥é€»è¾‘
â”‚   â”œâ”€â”€ æ“ä½œæ‰§è¡Œæ¥å£
â”‚   â”œâ”€â”€ æŠ¼é‡‘å……è¶³æ€§éªŒè¯
â”‚   â””â”€â”€ æ“ä½œè®°å½•ç®¡ç†
â””â”€â”€ Week 4: æŠ•è¯‰ä¸æ‰£æ¬¾æœºåˆ¶
    â”œâ”€â”€ æŠ•è¯‰æäº¤æ¥å£
    â”œâ”€â”€ ä¸“å®¶å®¡æ ¸æµç¨‹
    â”œâ”€â”€ è´¨æŠ¼æŠ¼é‡‘æ‰£é™¤
    â””â”€â”€ é›†æˆæµ‹è¯•

Phase 3: å‰ç«¯ä¸éƒ¨ç½² (2å‘¨)
â”œâ”€â”€ Week 5: å‰ç«¯ç•Œé¢
â”‚   â”œâ”€â”€ åˆ›å»ºæŠ¼é‡‘ç•Œé¢
â”‚   â”œâ”€â”€ æŠ¼é‡‘ç›‘æ§é¢æ¿
â”‚   â”œâ”€â”€ è¡¥å……æŠ¼é‡‘é¡µé¢
â”‚   â””â”€â”€ æ“ä½œç•Œé¢ï¼ˆæ— æŠ¼é‡‘ï¼‰
â””â”€â”€ Week 6: æµ‹è¯•ä¸éƒ¨ç½²
    â”œâ”€â”€ ç«¯åˆ°ç«¯æµ‹è¯•
    â”œâ”€â”€ æ€§èƒ½ä¼˜åŒ–
    â”œâ”€â”€ å®‰å…¨å®¡è®¡
    â””â”€â”€ æ–‡æ¡£å®Œå–„
```

---

## 8. æ€»ç»“ä¸ä¼˜åŠ¿

### 8.1 æ ¸å¿ƒä¼˜åŠ¿

| ä¼˜åŠ¿ç»´åº¦ | å…·ä½“è¡¨ç° | ç”¨æˆ·ä»·å€¼ |
|---------|---------|---------|
| **ç”¨æˆ·ä½“éªŒ** | ä¸€æ¬¡é”å®šï¼Œè‡ªç”±æ“ä½œ | âœ… é™ä½ä½¿ç”¨é—¨æ§› |
| **èµ„é‡‘æ•ˆç‡** | æŠ¼é‡‘æ°¸ä¹…è´¨æŠ¼ï¼Œè¦†ç›–æ‰€æœ‰æ“ä½œ | âœ… æ— éœ€é¢‘ç¹å‡†å¤‡æŠ¼é‡‘ |
| **é£é™©ç®¡ç†** | æŠ¼é‡‘æ± æ‰¿æ‹…è´£ä»»ï¼ŒæŠ•è¯‰è‡ªåŠ¨æ‰£æ¬¾ | âœ… è‡ªåŠ¨åŒ–é£æ§ |
| **æƒé™ç®¡ç†** | æŠ¼é‡‘ä¸è¶³è‡ªåŠ¨é”å®šæƒé™ | âœ… å¼ºåˆ¶åˆè§„ |
| **çµæ´»è½¬è®©** | è½¬è®©æ—¶æŠ¼é‡‘é‡Šæ”¾å’Œé”å®š | âœ… æµåŠ¨æ€§å¥½ |

### 8.2 ä¸ä¼ ç»Ÿæ¨¡å¼å¯¹æ¯”

| å¯¹æ¯”é¡¹ | ä¼ ç»Ÿæ¯æ¬¡æŠ¼é‡‘æ¨¡å¼ | ğŸ†• æ°¸ä¹…è´¨æŠ¼æ¨¡å¼ |
|-------|----------------|---------------|
| **æ“ä½œæˆæœ¬** | æ¯æ¬¡æ“ä½œéœ€æŠ¼é‡‘ | âœ… æ— æ“ä½œæŠ¼é‡‘ |
| **èµ„é‡‘å ç”¨** | ä¸´æ—¶å¤šæ¬¡é”å®š | âœ… ä¸€æ¬¡æ€§é”å®š |
| **ç”¨æˆ·ä½“éªŒ** | ç¹çå¤æ‚ | âœ… ç®€å•ä¾¿æ· |
| **é£é™©è¦†ç›–** | å•æ¬¡æ“ä½œ | âœ… å…¨å‘¨æœŸè¦†ç›– |
| **æŠ¼é‡‘ç®¡ç†** | å¤æ‚å¤šå˜ | âœ… æ¸…æ™°é€æ˜ |

### 8.3 å…³é”®åˆ›æ–°ç‚¹

1. **æ°¸ä¹…è´¨æŠ¼æœºåˆ¶**ï¼šåˆ›å»ºæ—¶ä¸€æ¬¡æ€§é”å®šï¼Œæ¶ˆé™¤æ“ä½œæ‘©æ“¦
2. **æŠ¼é‡‘æ± æ¨¡å¼**ï¼šè´¨æŠ¼æŠ¼é‡‘ä½œä¸ºè´£ä»»æ± ï¼Œè‡ªåŠ¨æ‰¿æ‹…ç½šæ¬¾
3. **è‡ªåŠ¨æƒé™æ§åˆ¶**ï¼šæŠ¼é‡‘ä¸è¶³è‡ªåŠ¨é”å®šï¼Œå¼ºåˆ¶è¡¥å……åæ¢å¤
4. **æ— æ„Ÿæ“ä½œä½“éªŒ**ï¼šæ—¥å¸¸æ“ä½œæ— éœ€å…³å¿ƒæŠ¼é‡‘ï¼Œé™ä½å¿ƒç†è´Ÿæ‹…

### 8.4 å®æ–½å»ºè®®

**åˆæœŸå‚æ•°è®¾ç½®**ï¼š
- åŸºç¡€æŠ¼é‡‘ï¼š100 USDT
- æœ€ä½ä½™é¢ï¼š50 USDT
- æœ€å°æŠ•è¯‰æŠ¼é‡‘ï¼š5 USDT
- æŠ•è¯‰æœŸï¼š30å¤©

**é£é™©æ§åˆ¶**ï¼š
- å®æ—¶ç›‘æ§æŠ¼é‡‘ä½™é¢
- è‡ªåŠ¨åŒ–æƒé™ç®¡ç†
- é€æ˜çš„æ‰£æ¬¾è®°å½•
- å®Œå–„çš„ç”³è¯‰æœºåˆ¶

**ç”¨æˆ·æ•™è‚²**ï¼š
- æ¸…æ™°è¯´æ˜æ°¸ä¹…è´¨æŠ¼æœºåˆ¶
- å¼ºè°ƒæŠ¼é‡‘ç”¨é€”å’Œé£é™©
- æä¾›æŠ¼é‡‘è®¡ç®—å™¨
- å»ºç«‹FAQå’Œæ”¯æŒæ¸ é“

---

**æ–‡æ¡£ç‰ˆæœ¬**: v2.0 (æ°¸ä¹…è´¨æŠ¼æ¨¡å¼)
**æœ€åæ›´æ–°**: 2025-01-15
**ä½œè€…**: Stardust å¼€å‘å›¢é˜Ÿ
**çŠ¶æ€**: å¾…å®¡æ ¸å®æ–½

**ç›¸å…³æ–‡æ¡£**:
- [é€è€…ä¿¡æ¯å…¬ä¼—æ²»ç†æœ€ä¼˜æ–¹æ¡ˆè®¾è®¡](./é€è€…ä¿¡æ¯å…¬ä¼—æ²»ç†æœ€ä¼˜æ–¹æ¡ˆè®¾è®¡.md)
- [pallet-pricing README](../pallets/pricing/README.md)
- [pallet-deceased README](../pallets/deceased/README.md)