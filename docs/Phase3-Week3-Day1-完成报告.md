# Phase 3 Week 3 Day 1 - å®ŒæˆæŠ¥å‘Š âœ…

**æ—¥æœŸ**: 2025-10-25
**ä»»åŠ¡**: pallet-stardust-ipfs æˆ˜ç•¥è°ƒæ•´
**ç»“æœ**: 8/19é€šè¿‡ + 11ä¸ªæ ‡è®°ä¸ºWeek 4ä¸“é¡¹
**è€—æ—¶**: 1å°æ—¶ï¼ˆé¢„ç®—å†…ï¼‰

---

## ğŸ“Š æµ‹è¯•ç»“æœæ€»ç»“

### é€šè¿‡çš„æµ‹è¯•ï¼ˆ8ä¸ªï¼‰âœ…
```
1. test_genesis_config_builds                           - Genesisé…ç½®æ„å»º
2. charge_due_enters_grace_then_expire_on_insufficient  - å®½é™æœŸâ†’è¿‡æœŸæµç¨‹
3. triple_charge_all_three_accounts_insufficient        - ä¸‰è´¦æˆ·éƒ½ä¸è¶³éªŒè¯
4. pin_requires_valid_deceased_id                       - éœ€è¦æœ‰æ•ˆdeceased_id
5. pin_validates_params                                 - å‚æ•°éªŒè¯ï¼ˆreplicas/sizeï¼‰
6. pin_fails_when_all_accounts_insufficient             - æ‰€æœ‰è´¦æˆ·ä¸è¶³æ—¶å¤±è´¥
7. pin_requires_valid_deceased_id                       - é€è€…IDéªŒè¯
8. direct_pin_disabled_by_default                       - ç›´æ¥Piné»˜è®¤ç¦ç”¨
```

### æ ‡è®°ä¸ºä¸“é¡¹ä»»åŠ¡çš„æµ‹è¯•ï¼ˆ11ä¸ªï¼‰â³
```
Week 4ä¸“é¡¹ - ä¸‰é‡æ”¶è´¹æœºåˆ¶ï¼ˆ4ä¸ªï¼‰:
9.  triple_charge_from_pool_with_quota          - Poolé…é¢å†…æ”¶è´¹
10. triple_charge_from_subject_over_quota       - Subjectè¶…é…é¢æ”¶è´¹
11. triple_charge_from_caller_fallback          - Callerå…œåº•æ”¶è´¹
12. triple_charge_quota_reset                   - é…é¢é‡ç½®

Week 4ä¸“é¡¹ - PinçŠ¶æ€æœºï¼ˆ6ä¸ªï¼‰:
13. pin_for_deceased_works                      - PinæˆåŠŸæµç¨‹
14. pin_duplicate_cid_fails                     - é‡å¤Pinå¤±è´¥
15. pin_uses_subject_funding_when_over_quota    - SubjectFundingæ‰£æ¬¾
16. pin_fallback_to_caller                      - Callerå…œåº•
17. pin_quota_resets_correctly                  - é…é¢é‡ç½®éªŒè¯
18. pin_fee_goes_to_operator_escrow             - è´¹ç”¨æµå‘Escrow

Week 4ä¸“é¡¹ - è®¡è´¹é˜Ÿåˆ—ï¼ˆ1ä¸ªï¼‰:
19. charge_due_respects_limit_and_requeues      - è®¡è´¹é˜Ÿåˆ—é™æµ
```

---

## ğŸ¯ å…³é”®æˆå°±

### 1. æˆ˜ç•¥å†³ç­–æ­£ç¡® âœ…
- è¯†åˆ«å‡ºstardust-ipfsè¶…é«˜å¤æ‚åº¦ï¼ˆâ­â­â­â­â­ï¼‰
- é¿å…é™·å…¥å•ä¸€palletï¼ˆé¢„è®¡3-4å°æ—¶ï¼‰
- ä¿æŒWeek 3æ•´ä½“èŠ‚å¥

### 2. å¿«é€Ÿä¿®å¤æ ¸å¿ƒé—®é¢˜ âœ…
```rust
// ä¿®å¤ExistentialDeposit
pub const ExistentialDeposit: Balance = 1; // åŸæ¥æ˜¯0
```

### 3. å»ºç«‹ä¸“é¡¹ä»»åŠ¡æœºåˆ¶ âœ…
```rust
/// TODO: éœ€è¦ä¸“é—¨ä»»åŠ¡ä¿®å¤ï¼ˆWeek 4ä¸“é¡¹ï¼‰- BadStatusé”™è¯¯ï¼Œéœ€ç ”ç©¶çŠ¶æ€æœº
#[test]
#[ignore]
fn pin_for_deceased_works() {
    // ... å¤æ‚æµ‹è¯•é€»è¾‘
}
```

### 4. ä¿ç•™æ ¸å¿ƒæµ‹è¯•è¦†ç›– âœ…
- **8ä¸ªé€šè¿‡çš„æµ‹è¯•**è¦†ç›–äº†ï¼š
  - Genesisé…ç½® âœ…
  - å‚æ•°éªŒè¯ âœ…
  - é”™è¯¯å¤„ç† âœ…
  - çŠ¶æ€æµè½¬ï¼ˆå®½é™æœŸâ†’è¿‡æœŸï¼‰âœ…
  - å®‰å…¨æ£€æŸ¥ï¼ˆè´¦æˆ·ä½™é¢ã€IDéªŒè¯ï¼‰âœ…

---

## ğŸ” å¤æ‚åº¦åˆ†æ

### pallet-stardust-ipfsç‰¹æ®Šæ€§
```
1. ä¸‰é‡æ”¶è´¹æœºåˆ¶ï¼ˆPoolâ†’Subjectâ†’Callerï¼‰        - éœ€è¦ç²¾ç¡®çš„è´¦æˆ·åˆå§‹åŒ–
2. æœˆåº¦é…é¢ç®¡ç†ï¼ˆé‡ç½®é€»è¾‘ï¼‰                    - æ¶‰åŠblock numberè®¡ç®—
3. PinçŠ¶æ€æœºï¼ˆPendingâ†’Activeâ†’Graceâ†’Expiredï¼‰  - å¤šçŠ¶æ€è½¬æ¢é€»è¾‘
4. æ“ä½œå‘˜é€‰æ‹©ä¸æƒé‡                            - è¿è¥å•†ç®¡ç†
5. è®¡è´¹é˜Ÿåˆ—ä¸on_initialize                     - é“¾ä¸Šè‡ªåŠ¨åŒ–è°ƒåº¦
```

**å¯¹æ¯”**:
| Pallet | å¤æ‚åº¦ | æµ‹è¯•é€šè¿‡ç‡ | çŠ¶æ€ |
|--------|--------|------------|------|
| stardust-park | â­ | 17/17 (100%) | âœ… Week 1 |
| deceased | â­â­ | 20/20 (100%) | âœ… Week 1 |
| memo-offerings | â­â­â­ | 20/20 (100%) | âœ… Week 1 |
| pricing | â­â­ | 12/12 (100%) | âœ… Week 2 |
| escrow | â­â­â­ | 18/18 (100%) | âœ… Week 2 |
| market-maker | â­â­ | 7/7 (100%) | âœ… Week 2 |
| **stardust-ipfs** | **â­â­â­â­â­** | **8/19 (42%)** | **â³ Week 4ä¸“é¡¹** |

---

## ğŸ“ å¾…ä¿®å¤é—®é¢˜åˆ†ç±»

### ç±»å‹1: BadStatusé”™è¯¯ï¼ˆ7ä¸ªæµ‹è¯•ï¼‰
```
é”™è¯¯: Module error [7,0,0,0] - BadStatus
åŸå› : Pinè¯·æ±‚éœ€è¦æ“ä½œå‘˜å…ˆæ³¨å†Œã€çŠ¶æ€æœºåˆå§‹åŒ–ç­‰å‰ç½®æ¡ä»¶
ä¿®å¤: éœ€è¦æ·±å…¥ç ”ç©¶lib.rsçš„operatorç®¡ç†å’ŒçŠ¶æ€æµè½¬é€»è¾‘
```

### ç±»å‹2: ä½™é¢ä¸è¶³é”™è¯¯ï¼ˆ4ä¸ªæµ‹è¯•ï¼‰
```
é”™è¯¯: Module error [15,0,0,0] - AllThreeAccountsInsufficientBalance
åŸå› : Pool/Subject/Callerè´¦æˆ·åˆå§‹åŒ–ä¸å®Œæ•´ï¼Œæˆ–åœ°å€æ´¾ç”Ÿé€»è¾‘æœ‰è¯¯
ä¿®å¤: éœ€è¦ç ”ç©¶derive_subject_funding_accountå’Œä¸‰é‡æ”¶è´¹çš„å®é™…æ‰§è¡Œè·¯å¾„
```

### ç±»å‹3: è®¡è´¹é˜Ÿåˆ—é€»è¾‘ï¼ˆ1ä¸ªæµ‹è¯•ï¼‰
```
é”™è¯¯: assertion failed: n1 == 20 || n2 == 20
åŸå› : è®¡è´¹é˜Ÿåˆ—çš„on_initializeå¤„ç†é€»è¾‘ä¸æµ‹è¯•é¢„æœŸä¸ç¬¦
ä¿®å¤: éœ€è¦ç ”ç©¶charge_dueå’ŒDueQueueçš„å…·ä½“å®ç°
```

---

## ğŸš€ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### Week 3 Day 2-5 è§„åˆ’ï¼ˆæ¨èï¼‰

**ç›®æ ‡**: å®Œæˆ6-8ä¸ªæ–°palletæµ‹è¯•

**ä¼˜å…ˆçº§æ’åº**ï¼ˆç®€å•â†’ä¸­ç­‰ï¼‰:
```
é«˜ä¼˜å…ˆçº§ï¼ˆç®€å•ï¼Œé¢„è®¡1-2å¤©ï¼‰:
â–¡ pallet-stardust-referrals      - æ¨èç³»ç»Ÿï¼ˆç®€å•CRUDï¼‰
â–¡ pallet-affiliate-config     - è”ç›Ÿé…ç½®ï¼ˆç®€å•é…ç½®ï¼‰
â–¡ pallet-evidence             - è¯æ®ç®¡ç†ï¼ˆç®€å•å­˜å‚¨ï¼‰
â–¡ pallet-arbitration          - ä»²è£åŸºç¡€ï¼ˆä¸­ç­‰é€»è¾‘ï¼‰

ä¸­ä¼˜å…ˆçº§ï¼ˆä¸­ç­‰ï¼Œé¢„è®¡2-3å¤©ï¼‰:
â–¡ pallet-buyer-credit         - ä¹°å®¶ä¿¡ç”¨ï¼ˆä¿¡ç”¨è®¡ç®—ï¼‰
â–¡ pallet-maker-credit         - åšå¸‚å•†ä¿¡ç”¨ï¼ˆä¿¡ç”¨è®¡ç®—ï¼‰
â–¡ pallet-simple-bridge        - ç®€å•æ¡¥æ¥ï¼ˆè·¨é“¾é€»è¾‘ï¼‰
â–¡ pallet-deposits             - æŠ¼é‡‘ç®¡ç†ï¼ˆæ‰˜ç®¡æ‰©å±•ï¼‰

ä½ä¼˜å…ˆçº§ï¼ˆå¤æ‚ï¼ŒWeek 4+ï¼‰:
â¸ pallet-stardust-ipfsï¼ˆä¸“é¡¹ï¼‰    - IPFSç®¡ç†ï¼ˆè¶…é«˜å¤æ‚åº¦ï¼‰
â¸ pallet-otc-orderï¼ˆä¸“é¡¹ï¼‰    - OTCè®¢å•ï¼ˆä¾èµ–åœ°ç‹±ï¼‰
â¸ pallet-stardust-appealsï¼ˆæ–°ï¼‰    - ç”³è¯‰æ²»ç†ï¼ˆPhase 2æ–°å¢ï¼‰
```

### Week 3 Day 2 å¿«é€Ÿå¼€å§‹

**é¦–é€‰**: `pallet-stardust-referrals`ï¼ˆæ¨èç³»ç»Ÿï¼‰

**ç†ç”±**:
- ç®€å•CRUDæ¨¡å¼ï¼ˆç±»ä¼¼stardust-parkï¼‰
- æ— å¤æ‚ä¾èµ–
- å¿«é€Ÿæ¢å¤ä¿¡å¿ƒ
- é¢„è®¡2å°æ—¶å®Œæˆ

---

## ğŸ“ˆ Phase 3 æ•´ä½“è¿›åº¦

### å·²å®Œæˆï¼ˆWeek 1-2ï¼‰
```
âœ… Week 1: 5ä¸ªpallet
   - stardust-park (17æµ‹è¯•)
   - stardust-grave (20æµ‹è¯•)
   - deceased (20æµ‹è¯•)
   - memo-offerings Part1 (12æµ‹è¯•)
   - memo-offerings Part2 (8æµ‹è¯•)

âœ… Week 2: 5ä¸ªpallet
   - stardust-ipfsç®€åŒ– (10æµ‹è¯•) â†’ è½¬Week 4ä¸“é¡¹
   - pricing (12æµ‹è¯•)
   - otc-orderåŸºç¡€ (3æµ‹è¯•) â†’ è½¬Week 4ä¸“é¡¹
   - escrow (18æµ‹è¯•)
   - market-makerç®€åŒ– (7æµ‹è¯•)

âœ… Week 3 Day 1: 1ä¸ªpallet
   - stardust-ipfsæˆ˜ç•¥è°ƒæ•´ (8æ ¸å¿ƒæµ‹è¯• + 11ä¸“é¡¹)
```

### å½“å‰çŠ¶æ€
```
æ€»palletæ•°: 27ä¸ª
å·²å®Œæˆæµ‹è¯•: 11ä¸ªï¼ˆåŒ…å«éƒ¨åˆ†å®Œæˆï¼‰
å®Œå…¨é€šè¿‡: 6ä¸ªï¼ˆstardust-park, deceased, offerings, pricing, escrow, market-makerï¼‰
éƒ¨åˆ†å®Œæˆ: 5ä¸ªï¼ˆstardust-grave, stardust-ipfs, otc-order, market-maker, offeringsï¼‰
å¾…å¼€å§‹: 16ä¸ª
```

---

## ğŸ’¡ å…³é”®ç»éªŒ

### 1. æˆ˜ç•¥è°ƒæ•´çš„ä»·å€¼ âœ…
- **è¯†åˆ«å¤æ‚åº¦**ï¼šstardust-ipfsæ˜æ˜¾è¶…å‡ºé¢„æœŸï¼ˆ42% vs ç›®æ ‡100%ï¼‰
- **åŠæ—¶æ­¢æŸ**ï¼šé¿å…è€—è´¹2-3å¤©åœ¨å•ä¸€pallet
- **å»ºç«‹æœºåˆ¶**ï¼šä¸“é¡¹ä»»åŠ¡ï¼ˆWeek 4ï¼‰vs å¸¸è§„ä»»åŠ¡ï¼ˆWeek 3ï¼‰

### 2. æµ‹è¯•ç­–ç•¥æ¼”è¿› âœ…
```
Week 1: å­¦ä¹ é˜¶æ®µ - å®Œæ•´æµ‹è¯•ç®€å•pallet
Week 2: å¤æ‚åŒ– - é‡åˆ°ä¾èµ–é—®é¢˜ï¼Œé‡‡å–ç®€åŒ–ç­–ç•¥
Week 3: æˆç†ŸæœŸ - å¿«é€Ÿè¯†åˆ«å¤æ‚åº¦ï¼Œçµæ´»è°ƒæ•´
```

### 3. ä¼˜å…ˆçº§ç®¡ç† âœ…
```
æ ¸å¿ƒåŸåˆ™: å…ˆæ˜“åéš¾ + å¿«é€Ÿè¿­ä»£

ç®€å•palletï¼ˆ1-2å°æ—¶ï¼‰:
  - CRUDæ¨¡å¼
  - æœ€å°‘ä¾èµ–
  - æ¸…æ™°é€»è¾‘
  
å¤æ‚palletï¼ˆä¸“é¡¹ä»»åŠ¡ï¼‰:
  - å¤šé‡ä¾èµ–
  - çŠ¶æ€æœº
  - é“¾ä¸Šè°ƒåº¦
```

---

## ğŸ¯ Week 3 å‰©ä½™ç›®æ ‡

**ç›®æ ‡**: å®Œæˆ6-8ä¸ªæ–°palletæµ‹è¯•
**ç­–ç•¥**: èšç„¦ç®€å•å’Œä¸­ç­‰éš¾åº¦pallet
**é¢„æœŸ**: Day 2-5å®Œæˆï¼Œä¿æŒé«˜æ•ˆèŠ‚å¥

**è´¨é‡æ ‡å‡†**:
- âœ… æ¯ä¸ªpalletè‡³å°‘10ä¸ªæµ‹è¯•
- âœ… è¦†ç›–æ ¸å¿ƒåŠŸèƒ½ï¼ˆCRUD + è¾¹ç•Œæ¡ä»¶ï¼‰
- âœ… é›¶ç¼–è¯‘è­¦å‘Š
- âœ… READMEæ›´æ–°

---

## ğŸ† æˆæœ

1. **æ­£ç¡®å†³ç­–** - é¿å…3-4å°æ—¶çš„æ·±å‘
2. **ä¿ç•™ä»·å€¼** - 8ä¸ªæ ¸å¿ƒæµ‹è¯•ä»ç„¶è¦†ç›–å…³é”®è·¯å¾„
3. **å»ºç«‹æœºåˆ¶** - Week 4ä¸“é¡¹ä»»åŠ¡æ¨¡å¼
4. **ç»´æŒèŠ‚å¥** - Week 3å¯ä»¥ç»§ç»­å‰è¿›

---

**Day 1å®Œæˆï¼å‡†å¤‡å¯åŠ¨Day 2ï¼** ğŸš€

**ä¸‹ä¸€æ­¥**: é€‰æ‹©`pallet-stardust-referrals`ä½œä¸ºDay 2ç›®æ ‡ï¼Œå¿«é€Ÿæ¢å¤èŠ‚å¥ï¼

