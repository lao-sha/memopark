# Stardust DApp 前端测试指南

## 🎯 目标

通过前端页面测试 DeepSeek AI 策略创建功能。

---

## 📋 准备工作

### ✅ 检查清单

- [ ] Stardust 节点正在运行 (`ws://127.0.0.1:9944`)
- [ ] DeepSeek API Key 已配置 (`sk-6b158668334e4512990806a3a800b845`)
- [ ] Node.js 已安装 (v14+)
- [ ] 浏览器已安装 (Chrome/Firefox 推荐)

---

## 🚀 运行步骤

### 第一步：确认节点运行

打开终端1，检查节点状态：

```bash
# 检查节点是否运行
ps aux | grep stardust-node

# 如果没有运行，启动节点
cd /home/xiaodong/文档/stardust
export DEEPSEEK_API_KEY="sk-6b158668334e4512990806a3a800b845"
./target/release/stardust-node --dev --tmp --rpc-external --rpc-port 9944 --rpc-cors=all
```

**预期输出**：
```
🤖 OCW started at block #XX
🤖 OCW执行于区块 #XX
💤 Idle (0 peers), best: #XX
```

---

### 第二步：启动前端开发服务器

打开终端2，启动前端：

```bash
cd /home/xiaodong/文档/stardust-dapp
npm start
```

**预期输出**：
```
Compiled successfully!

You can now view stardust-dapp in the browser.

  Local:            http://localhost:3000
  On Your Network:  http://192.168.x.x:3000
```

浏览器会自动打开 `http://localhost:3000`

---

### 第三步：使用前端测试

**当前状态**：
- ✅ 前端项目已创建
- ✅ 依赖已安装 (Polkadot.js API + Ant Design)
- ⚠️  测试页面需要开发

**下一步开发任务**：

1. **创建链连接组件** (优先级: 高)
   - 连接到 `ws://127.0.0.1:9944`
   - 显示连接状态
   - 显示当前区块高度

2. **创建账户管理组件** (优先级: 高)
   - 导入助记词功能
   - 显示账户地址和余额
   - 测试账户: `satoshi sure behave certain impulse ski slight track century kitchen clutch story`

3. **创建策略表单组件** (优先级: 高)
   - AI 模型选择: DeepSeek ✨
   - 策略参数配置
   - 风控限制设置
   - 提交交易

4. **创建策略列表组件** (优先级: 中)
   - 显示所有策略
   - 查看策略详情
   - 策略状态管理

5. **创建事件监听组件** (优先级: 中)
   - 监听 AISignalGenerated 事件
   - 监听 TradeExecuted 事件
   - 实时显示事件

---

## 🎨 快速原型设计

由于前端开发工作量较大，推荐以下方案：

### 方案 A：使用 Polkadot.js Apps UI（推荐）✨

**优点**：
- ✅ 无需开发，立即可用
- ✅ 功能完整，支持所有 pallet 调用
- ✅ 适合快速测试

**使用步骤**：
1. 打开: https://polkadot.js.org/apps/?rpc=ws://127.0.0.1:9944
2. 按照 `docs/DeepSeek-UI测试指南-简化版.md` 操作
3. 创建策略并测试

### 方案 B：开发自定义前端（当前方案）

**优点**：
- ✅ 自定义 UI/UX
- ✅ 更好的用户体验
- ✅ 可扩展性强

**缺点**：
- ⚠️  开发时间较长 (预计 2-3 天)
- ⚠️  需要前端开发经验

**当前进度**：
- ✅ 项目初始化完成
- ✅ 依赖安装完成
- ⏳ 组件开发中 (0%)

---

## 💡 临时测试方案

在自定义前端完成前，可以使用以下方式测试：

### 选项 1: Polkadot.js Apps UI
```
https://polkadot.js.org/apps/?rpc=ws://127.0.0.1:9944#/extrinsics
```

### 选项 2: JavaScript 测试脚本
```bash
cd /home/xiaodong/文档/stardust
node test-deepseek-strategy.js
```

### 选项 3: 终端直接调用（使用 polkadot-js-cli）
```bash
npm install -g @polkadot/api-cli
polkadot-js-api --ws ws://127.0.0.1:9944 query.aiStrategy.aIStrategies 0
```

---

## 📊 前端开发优先级

| 组件 | 优先级 | 预估时间 | 状态 |
|------|--------|----------|------|
| 链连接组件 | P0 | 1h | ⏳ 待开发 |
| 账户管理 | P0 | 1h | ⏳ 待开发 |
| 创建策略表单 | P1 | 3h | ⏳ 待开发 |
| 策略列表 | P1 | 2h | ⏳ 待开发 |
| 事件监听 | P2 | 2h | ⏳ 待开发 |
| 性能图表 | P3 | 3h | ⏳ 待开发 |

**总计**: 约 12 小时开发时间

---

## 🎯 建议

### 短期（今天）
使用 **Polkadot.js Apps UI** 进行功能测试，验证：
- ✅ DeepSeek 模型类型可选
- ✅ 策略创建成功
- ✅ 链上查询正常
- ✅ OCW 执行正常

### 中期（本周）
如果需要自定义前端，可以：
1. 先开发最小可用版本（MVP）
2. 只包含创建策略 + 查询策略功能
3. 后续迭代添加高级功能

### 长期（下周+）
完整的 Stardust DApp，包括：
- 完整的策略管理
- 实时数据看板
- 性能分析图表
- 移动端适配

---

## 📚 相关文档

| 文档 | 用途 |
|------|------|
| [DeepSeek UI测试指南](./DeepSeek-UI测试指南-简化版.md) | Polkadot.js Apps 测试 |
| [前端项目 README](../../stardust-dapp/README.md) | 前端项目说明 |
| [DeepSeek 集成方案](./DeepSeek-AI交易决策集成方案.md) | 技术架构 |

---

## ❓ 常见问题

### Q: 前端项目如何运行？
**A**: 
```bash
cd /home/xiaodong/文档/stardust-dapp
npm start
```
浏览器打开 http://localhost:3000

### Q: 前端能测试什么？
**A**: 当前项目只是基础框架，实际测试页面还需要开发。建议先用 Polkadot.js Apps UI。

### Q: 多久能完成前端开发？
**A**: 
- 最小可用版本: 4-6 小时
- 完整版本: 2-3 天

### Q: 是否必须开发前端？
**A**: 不是。Polkadot.js Apps UI 已经足够测试所有功能。自定义前端主要是为了更好的用户体验。

---

*前端测试指南 - 2025-11-04*

