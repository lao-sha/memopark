# ä½œå“æŠ•è¯‰æŠ¼é‡‘æœºåˆ¶åˆ†æ

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0  
> **æ›´æ–°æ—¥æœŸ**: 2025-11-13  
> **é—®é¢˜**: ä½œå“æŠ•è¯‰å’ŒæŠ•è¯‰æŠ¼é‡‘æœºåˆ¶è®¾è®¡  
> **ç›¸å…³æ–‡æ¡£**: [æŠ¼é‡‘å…¬ç¤ºæœŸæ²»ç†æœºåˆ¶æ–¹æ¡ˆ](./æŠ¼é‡‘å…¬ç¤ºæœŸæ²»ç†æœºåˆ¶æ–¹æ¡ˆ.md)

---

## ğŸ“‹ ç›®å½•

1. [ç°çŠ¶åˆ†æ](#ç°çŠ¶åˆ†æ)
2. [é—®é¢˜è¯†åˆ«](#é—®é¢˜è¯†åˆ«)
3. [è§£å†³æ–¹æ¡ˆè®¾è®¡](#è§£å†³æ–¹æ¡ˆè®¾è®¡)
4. [æŠ¼é‡‘æœºåˆ¶è®¾è®¡](#æŠ¼é‡‘æœºåˆ¶è®¾è®¡)
5. [æŠ€æœ¯å®ç°æ–¹æ¡ˆ](#æŠ€æœ¯å®ç°æ–¹æ¡ˆ)
6. [å®æ–½å»ºè®®](#å®æ–½å»ºè®®)

---

## 1. ç°çŠ¶åˆ†æ

### 1.1 ä½œå“ç³»ç»Ÿç°çŠ¶

#### 1.1.1 ä½œå“æ•°æ®ç»“æ„

**ä½ç½®**: `pallets/deceased/src/works.rs`

```rust
pub struct DeceasedWork<AccountId, BlockNumber> {
    pub work_id: u64,                    // ä½œå“å”¯ä¸€ID
    pub deceased_id: u64,                // æ‰€å±é€è€…ID
    pub work_type: WorkType,             // ä½œå“ç±»å‹ï¼ˆ13ç§ï¼‰
    pub title: BoundedVec<u8, 200>,      // ä½œå“æ ‡é¢˜
    pub description: BoundedVec<u8, 1000>, // ä½œå“æè¿°
    pub ipfs_cid: BoundedVec<u8, 64>,    // IPFSå­˜å‚¨åœ°å€
    pub file_size: u64,                  // æ–‡ä»¶å¤§å°
    pub privacy_level: PrivacyLevel,     // éšç§çº§åˆ«ï¼ˆ4çº§ï¼‰
    pub ai_training_enabled: bool,       // æ˜¯å¦æˆæƒAIè®­ç»ƒ
    pub verified: bool,                  // æ˜¯å¦å·²éªŒè¯
    // ... å…¶ä»–å­—æ®µ
}
```

**ä½œå“ç±»å‹**ï¼ˆ13ç§ï¼‰ï¼š
- æ–‡å­—ç±»ï¼šLiterature, AcademicPaper, Diary, Letter, SocialMedia, Code
- éŸ³é¢‘ç±»ï¼šVoiceDiary, Music, Podcast
- è§†é¢‘ç±»ï¼šVideoLog, Lecture, LifeClip
- å›¾åƒç±»ï¼šArtwork, Design
- ä¸“ä¸šæŠ€èƒ½ï¼šSkillDemo

#### 1.1.2 ä½œå“ç®¡ç†æ¥å£

**ä½ç½®**: `pallets/deceased/src/lib.rs`

| æ¥å£ | åŠŸèƒ½ | æƒé™ |
|------|------|------|
| `upload_work` | ä¸Šä¼ å•ä¸ªä½œå“ | é€è€…owner |
| `batch_upload_works` | æ‰¹é‡ä¸Šä¼ ä½œå“ï¼ˆæœ€å¤š50ä¸ªï¼‰ | é€è€…owner |
| `update_work` | æ›´æ–°ä½œå“å…ƒæ•°æ® | é€è€…owner |
| `delete_work` | åˆ é™¤ä½œå“ | é€è€…owner |
| `verify_work` | éªŒè¯ä½œå“çœŸå®æ€§ | æ²»ç†æƒé™ |

### 1.2 ç”³è¯‰ç³»ç»Ÿç°çŠ¶

#### 1.2.1 æ”¯æŒçš„åŸŸï¼ˆDomainï¼‰

**ä½ç½®**: `pallets/stardust-appeals/src/lib.rs`

| Domain | æè¿° | ç›®æ ‡å¯¹è±¡ |
|--------|------|---------|
| 1 | å¢“åœ° (Grave) | `grave_id` |
| 2 | é€è€…æ¡£æ¡ˆ (Deceased) | `deceased_id` |
| 3 | é€è€…æ–‡æœ¬ (Deceased Text) | `text_id` |
| 4 | é€è€…åª’ä½“ (Deceased Media) | `media_id` |
| 5 | ä¾›å¥‰å“ (Offerings) | `offering_id` |
| 6 | å›­åŒº (Park) | `park_id` |

**é—®é¢˜**ï¼š**æ²¡æœ‰ä¸“é—¨é’ˆå¯¹"ä½œå“"ï¼ˆworksï¼‰çš„åŸŸ**

#### 1.2.2 ç”³è¯‰æŠ¼é‡‘æœºåˆ¶

**ä½ç½®**: `pallets/stardust-appeals/src/lib.rs:1114-1123`

```rust
// åŠ¨æ€æŠ¼é‡‘è®¡ç®—
let deposit_amount = T::AppealDepositPolicy::calc_deposit(&who, domain, target, action)
    .unwrap_or_else(|| T::AppealDeposit::get());

// ä½¿ç”¨Fungible Holds APIé”å®šæŠ¼é‡‘
T::Fungible::hold(
    &T::RuntimeHoldReason::from(HoldReason::Appeal),
    &who,
    deposit_amount,
)?;
```

**æŠ¼é‡‘å¤„ç†**ï¼š
- âœ… æäº¤ç”³è¯‰æ—¶å†»ç»“æŠ¼é‡‘
- âœ… é©³å›ç”³è¯‰æ—¶æŒ‰æ¯”ä¾‹ç½šæ²¡ï¼ˆé»˜è®¤30%ï¼‰
- âœ… æ‰¹å‡†ç”³è¯‰åè¿›å…¥å…¬ç¤ºæœŸ
- âœ… å…¬ç¤ºæœŸåˆ°æœŸè‡ªåŠ¨æ‰§è¡Œ

---

## 2. é—®é¢˜è¯†åˆ«

### 2.1 æ ¸å¿ƒé—®é¢˜

#### é—®é¢˜1ï¼šä½œå“æŠ•è¯‰ç¼ºå°‘ç‹¬ç«‹åŸŸ

**ç°çŠ¶**ï¼š
- ä½œå“æœ‰ç‹¬ç«‹çš„ `work_id`ï¼ˆu64ï¼‰
- ä½œå“å±äºé€è€…ï¼ˆ`deceased_id`ï¼‰
- ç”³è¯‰ç³»ç»Ÿæ²¡æœ‰ä¸“é—¨çš„ä½œå“åŸŸï¼ˆDomain 7ï¼‰

**å½±å“**ï¼š
- âŒ æ— æ³•ç›´æ¥å¯¹ä½œå“è¿›è¡ŒæŠ•è¯‰
- âŒ åªèƒ½é€šè¿‡é€è€…åŸŸï¼ˆDomain 2ï¼‰é—´æ¥æŠ•è¯‰
- âŒ æ— æ³•åŒºåˆ†"é€è€…æ¡£æ¡ˆæŠ•è¯‰"å’Œ"ä½œå“æŠ•è¯‰"

#### é—®é¢˜2ï¼šä½œå“æŠ•è¯‰æŠ¼é‡‘æ ‡å‡†æœªå®šä¹‰

**ç°çŠ¶**ï¼š
- ç”³è¯‰ç³»ç»Ÿæœ‰åŠ¨æ€æŠ¼é‡‘ç­–ç•¥ï¼ˆ`AppealDepositPolicy`ï¼‰
- ä½†ä½œå“æŠ•è¯‰çš„æŠ¼é‡‘æ ‡å‡†æœªæ˜ç¡®

**å½±å“**ï¼š
- âŒ æŠ¼é‡‘æ ‡å‡†ä¸æ˜ç¡®
- âŒ æ— æ³•æ ¹æ®ä½œå“ç±»å‹è°ƒæ•´æŠ¼é‡‘
- âŒ æ— æ³•æ ¹æ®ä½œå“é‡è¦æ€§è°ƒæ•´æŠ¼é‡‘

#### é—®é¢˜3ï¼šä½œå“æŠ•è¯‰æµç¨‹æœªå®Œå–„

**ç°çŠ¶**ï¼š
- ç”³è¯‰ç³»ç»Ÿæœ‰å®Œæ•´çš„æµç¨‹ï¼ˆæäº¤â†’å®¡æ‰¹â†’å…¬ç¤ºâ†’æ‰§è¡Œï¼‰
- ä½†ä½œå“æŠ•è¯‰çš„ç‰¹æ®Šå¤„ç†é€»è¾‘æœªå®šä¹‰

**å½±å“**ï¼š
- âŒ ä½œå“æŠ•è¯‰åçš„å¤„ç†åŠ¨ä½œä¸æ˜ç¡®
- âŒ ä½œå“åˆ é™¤/éšè—/ä¿®æ”¹çš„æ²»ç†é€»è¾‘æœªå®šä¹‰
- âŒ ä½œå“æŠ•è¯‰ä¸é€è€…æŠ•è¯‰çš„å…³ç³»æœªç†æ¸…

### 2.2 ç›¸å…³éœ€æ±‚

æ ¹æ® [æŠ¼é‡‘å…¬ç¤ºæœŸæ²»ç†æœºåˆ¶æ–¹æ¡ˆ](./æŠ¼é‡‘å…¬ç¤ºæœŸæ²»ç†æœºåˆ¶æ–¹æ¡ˆ.md)ï¼Œéœ€è¦ï¼š

1. âœ… **æŠ•è¯‰æŠ¼é‡‘**ï¼š10-50 DUSTï¼ˆæ ¹æ®æŠ•è¯‰ç±»å‹ï¼‰
2. âœ… **å…¬ç¤ºæœŸ**ï¼š7å¤©ï¼ˆæŠ•è¯‰å…¬ç¤ºæœŸï¼‰
3. âœ… **è‡ªåŠ¨é€€å›**ï¼šå…¬ç¤ºæœŸæ— æŠ•è¯‰è‡ªåŠ¨é€€å›æŠ¼é‡‘
4. âœ… **æŠ•è¯‰å…³è”**ï¼šå…¬ç¤ºæœŸå†…æŠ•è¯‰å…³è”åˆ°æ“ä½œ

---

## 3. è§£å†³æ–¹æ¡ˆè®¾è®¡

### 3.1 æ–¹æ¡ˆ1ï¼šæ·»åŠ ä½œå“åŸŸï¼ˆæ¨èï¼‰

#### 3.1.1 è®¾è®¡æ€è·¯

**æ·»åŠ  Domain 7: é€è€…ä½œå“ (Deceased Work)**

| Domain | æè¿° | ç›®æ ‡å¯¹è±¡ | è¯´æ˜ |
|--------|------|---------|------|
| 7 | é€è€…ä½œå“ (Deceased Work) | `work_id` | æ–°å¢åŸŸ |

**ä¼˜åŠ¿**ï¼š
- âœ… æ˜ç¡®åŒºåˆ†ä½œå“æŠ•è¯‰å’Œé€è€…æŠ•è¯‰
- âœ… ç‹¬ç«‹çš„æŠ•è¯‰æµç¨‹å’Œå¤„ç†é€»è¾‘
- âœ… ä¾¿äºç»Ÿè®¡å’Œç®¡ç†ä½œå“æŠ•è¯‰
- âœ… æ”¯æŒä½œå“çº§åˆ«çš„æ²»ç†æ“ä½œ

#### 3.1.2 æŠ•è¯‰æ“ä½œç±»å‹ï¼ˆActionï¼‰

| Action | æ“ä½œ | è¯´æ˜ |
|--------|------|------|
| 1 | åˆ é™¤ä½œå“ | åˆ é™¤è¿è§„ä½œå“ |
| 2 | éšè—ä½œå“ | éšè—ä½œå“ï¼ˆä¸åˆ é™¤ï¼‰ |
| 3 | ä¿®æ”¹ä½œå“ | ä¿®æ”¹ä½œå“å†…å®¹/å…ƒæ•°æ® |
| 4 | è°ƒæ•´éšç§çº§åˆ« | è°ƒæ•´ä½œå“éšç§çº§åˆ« |
| 5 | ç¦ç”¨AIè®­ç»ƒ | ç¦ç”¨ä½œå“çš„AIè®­ç»ƒæˆæƒ |

#### 3.1.3 å®æ–½æ­¥éª¤

1. **æ‰©å±•ç”³è¯‰ç³»ç»Ÿ**ï¼š
   - åœ¨ `pallet-stardust-appeals` ä¸­æ·»åŠ  Domain 7
   - æ›´æ–°æ–‡æ¡£å’Œæ³¨é‡Š

2. **æ·»åŠ è·¯ç”±å¤„ç†**ï¼š
   - åœ¨ `execute_appeal` ä¸­æ·»åŠ  Domain 7 çš„å¤„ç†é€»è¾‘
   - è°ƒç”¨ `pallet-deceased` çš„æ²»ç†æ¥å£

3. **å®šä¹‰æŠ¼é‡‘æ ‡å‡†**ï¼š
   - æ ¹æ®ä½œå“ç±»å‹å’ŒæŠ•è¯‰ç±»å‹è®¡ç®—æŠ¼é‡‘
   - å®ç° `AppealDepositPolicy` çš„æ‰©å±•

---

### 3.2 æ–¹æ¡ˆ2ï¼šé€šè¿‡é€è€…åŸŸæŠ•è¯‰ï¼ˆä¸´æ—¶æ–¹æ¡ˆï¼‰

#### 3.2.1 è®¾è®¡æ€è·¯

**ä½¿ç”¨ Domain 2ï¼ˆé€è€…æ¡£æ¡ˆï¼‰è¿›è¡Œä½œå“æŠ•è¯‰**

**å‚æ•°è®¾è®¡**ï¼š
- `domain = 2`ï¼ˆé€è€…åŸŸï¼‰
- `target = deceased_id`ï¼ˆé€è€…IDï¼‰
- `action = 10 + work_id`ï¼ˆè‡ªå®šä¹‰actionç¼–ç ï¼‰

**ä¼˜åŠ¿**ï¼š
- âœ… æ— éœ€ä¿®æ”¹ç”³è¯‰ç³»ç»Ÿ
- âœ… å¿«é€Ÿå®æ–½
- âœ… åˆ©ç”¨ç°æœ‰æµç¨‹

**åŠ£åŠ¿**ï¼š
- âŒ æ— æ³•ç›´æ¥å®šä½ä½œå“
- âŒ æŠ•è¯‰ç»Ÿè®¡ä¸å‡†ç¡®
- âŒ å¤„ç†é€»è¾‘å¤æ‚

#### 3.2.2 å®æ–½æ­¥éª¤

1. **å®šä¹‰Actionç¼–ç è§„åˆ™**ï¼š
   - `action = 10 + work_id % 1000`ï¼ˆé™åˆ¶work_idèŒƒå›´ï¼‰
   - æˆ–ä½¿ç”¨ `reason_cid` å­˜å‚¨ `work_id`

2. **æ‰©å±•å¤„ç†é€»è¾‘**ï¼š
   - åœ¨ `execute_appeal` ä¸­è§£æ `action` æˆ– `reason_cid`
   - æå– `work_id` å¹¶è°ƒç”¨ä½œå“æ²»ç†æ¥å£

---

### 3.3 æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | ä¼˜åŠ¿ | åŠ£åŠ¿ | æ¨èåº¦ |
|------|------|------|--------|
| **æ–¹æ¡ˆ1ï¼šæ·»åŠ ä½œå“åŸŸ** | æ¸…æ™°ã€ç‹¬ç«‹ã€æ˜“ç»´æŠ¤ | éœ€è¦ä¿®æ”¹ç”³è¯‰ç³»ç»Ÿ | â­â­â­â­â­ |
| **æ–¹æ¡ˆ2ï¼šé€šè¿‡é€è€…åŸŸ** | å¿«é€Ÿã€æ— éœ€ä¿®æ”¹ | ä¸æ¸…æ™°ã€éš¾ç»´æŠ¤ | â­â­â­ |

**æ¨è**ï¼š**æ–¹æ¡ˆ1ï¼ˆæ·»åŠ ä½œå“åŸŸï¼‰**

---

## 4. æŠ¼é‡‘æœºåˆ¶è®¾è®¡

### 4.1 ä½œå“æŠ•è¯‰æŠ¼é‡‘æ ‡å‡†

#### 4.1.1 åŸºç¡€æŠ¼é‡‘

| æŠ•è¯‰ç±»å‹ | æŠ¼é‡‘æ ‡å‡† | è¯´æ˜ |
|---------|---------|------|
| **æ™®é€šæŠ•è¯‰** | 10 DUST | ä¸€èˆ¬è¿è§„å†…å®¹ |
| **ç´§æ€¥æŠ•è¯‰** | 50 DUST | ä¸¥é‡è¿æ³•å†…å®¹ï¼ˆå¿«é€Ÿé€šé“ï¼‰ |
| **æ‰¹é‡æŠ•è¯‰** | 20 DUST | åŒä¸€ä½œå“å¤šäººæŠ•è¯‰ |

#### 4.1.2 ä½œå“ç±»å‹è°ƒæ•´

| ä½œå“ç±»å‹ | è°ƒæ•´ç³»æ•° | è¯´æ˜ |
|---------|---------|------|
| **æ–‡å­—ç±»** | 1.0x | åŸºç¡€æŠ¼é‡‘ |
| **éŸ³é¢‘ç±»** | 1.2x | å†…å®¹å®¡æ ¸æˆæœ¬è¾ƒé«˜ |
| **è§†é¢‘ç±»** | 1.5x | å†…å®¹å®¡æ ¸æˆæœ¬æœ€é«˜ |
| **å›¾åƒç±»** | 1.1x | å†…å®¹å®¡æ ¸æˆæœ¬ä¸­ç­‰ |
| **ä»£ç ç±»** | 1.0x | åŸºç¡€æŠ¼é‡‘ |

#### 4.1.3 æŠ¼é‡‘è®¡ç®—å…¬å¼

```rust
fn calculate_work_complaint_deposit(
    complaint_type: ComplaintType,
    work_type: WorkType,
) -> BalanceOf<T> {
    // åŸºç¡€æŠ¼é‡‘
    let base = match complaint_type {
        ComplaintType::Normal => 10 * UNIT,
        ComplaintType::Emergency => 50 * UNIT,
        ComplaintType::Batch => 20 * UNIT,
    };
    
    // ä½œå“ç±»å‹è°ƒæ•´ç³»æ•°
    let multiplier = match work_type {
        WorkType::Literature { .. } | 
        WorkType::AcademicPaper { .. } | 
        WorkType::Diary | 
        WorkType::Letter { .. } |
        WorkType::Code { .. } => 100,  // 1.0x
        WorkType::VoiceDiary { .. } | 
        WorkType::Music { .. } | 
        WorkType::Podcast { .. } => 120,  // 1.2x
        WorkType::VideoLog { .. } | 
        WorkType::Lecture { .. } | 
        WorkType::LifeClip { .. } => 150,  // 1.5x
        WorkType::Artwork { .. } | 
        WorkType::Design { .. } => 110,  // 1.1x
        _ => 100,
    };
    
    // è®¡ç®—æœ€ç»ˆæŠ¼é‡‘
    base * multiplier / 100
}
```

### 4.2 æŠ¼é‡‘å¤„ç†æµç¨‹

#### 4.2.1 æŠ•è¯‰æäº¤

```
ç”¨æˆ·æäº¤ä½œå“æŠ•è¯‰
    â†“
è®¡ç®—æŠ¼é‡‘ï¼ˆåŸºç¡€æŠ¼é‡‘ Ã— ä½œå“ç±»å‹ç³»æ•°ï¼‰
    â†“
å†»ç»“æŠ¼é‡‘ï¼ˆHolds APIï¼‰
    â†“
åˆ›å»ºç”³è¯‰è®°å½•ï¼ˆdomain=7, target=work_idï¼‰
    â†“
è¿›å…¥å§”å‘˜ä¼šå®¡æ‰¹æµç¨‹
```

#### 4.2.2 æŠ•è¯‰å¤„ç†

**å…¬ç¤ºæœŸæ— æŠ•è¯‰**ï¼š
- âœ… è‡ªåŠ¨é€€å›æŠ¼é‡‘ï¼ˆ100%ï¼‰
- âœ… æŠ•è¯‰è®°å½•ä¿ç•™

**æŠ•è¯‰æ‰¹å‡†**ï¼š
- â¸ï¸ æŠ¼é‡‘å†»ç»“ï¼Œç­‰å¾…æ‰§è¡Œ
- âœ… æ‰§è¡Œæ“ä½œï¼ˆåˆ é™¤/éšè—/ä¿®æ”¹ç­‰ï¼‰
- âœ… æŠ¼é‡‘ä¸é€€ï¼ˆç”¨äºæ‰§è¡Œæˆæœ¬ï¼‰

**æŠ•è¯‰é©³å›**ï¼š
- âœ… é€€å›æŠ¼é‡‘ï¼ˆ70%ï¼Œ30%ç½šæ²¡ï¼‰
- âœ… æŠ•è¯‰è®°å½•æ ‡è®°ä¸ºé©³å›

### 4.3 æŠ¼é‡‘é€€å›æœºåˆ¶

#### 4.3.1 è‡ªåŠ¨é€€å›ï¼ˆå…¬ç¤ºæœŸæ— æŠ•è¯‰ï¼‰

**æ¡ä»¶**ï¼š
- å…¬ç¤ºæœŸå·²åˆ°æœŸï¼ˆ7å¤©ï¼‰
- å…¬ç¤ºæœŸå†…æ— å…¶ä»–æŠ•è¯‰
- ç”³è¯‰çŠ¶æ€ä¸º"å·²æ‰¹å‡†"

**å¤„ç†**ï¼š
- âœ… è‡ªåŠ¨é‡Šæ”¾æŠ¼é‡‘ï¼ˆ100%ï¼‰
- âœ… æ“ä½œç”Ÿæ•ˆï¼ˆæŠ•è¯‰è®°å½•ä¿ç•™ï¼‰

#### 4.3.2 å®¡æ ¸åé€€å›ï¼ˆæŠ•è¯‰ä¸æˆç«‹ï¼‰

**æ¡ä»¶**ï¼š
- æŠ•è¯‰å·²è¿›å…¥å®¡æ ¸æµç¨‹
- å§”å‘˜ä¼šå®¡æ ¸é©³å›æŠ•è¯‰

**å¤„ç†**ï¼š
- âœ… é‡Šæ”¾æŠ¼é‡‘ï¼ˆ70%ï¼Œ30%ç½šæ²¡ï¼‰
- âœ… æŠ•è¯‰è®°å½•æ ‡è®°ä¸ºé©³å›

---

## 5. æŠ€æœ¯å®ç°æ–¹æ¡ˆ

### 5.1 æ‰©å±•ç”³è¯‰ç³»ç»Ÿ

#### 5.1.1 æ·»åŠ ä½œå“åŸŸ

**ä½ç½®**: `pallets/stardust-appeals/src/lib.rs`

```rust
//! ## æ”¯æŒçš„åŸŸï¼ˆDomainï¼‰
//!
//! - Domain 1: å¢“åœ° (Grave)
//! - Domain 2: é€è€…æ¡£æ¡ˆ (Deceased)
//! - Domain 3: é€è€…æ–‡æœ¬ (Deceased Text)
//! - Domain 4: é€è€…åª’ä½“ (Deceased Media)
//! - Domain 5: ä¾›å¥‰å“ (Offerings)
//! - Domain 6: å›­åŒº (Park)
//! - Domain 7: é€è€…ä½œå“ (Deceased Work)  // æ–°å¢
```

#### 5.1.2 æ·»åŠ è·¯ç”±å¤„ç†

**ä½ç½®**: `pallets/stardust-appeals/src/lib.rs:execute_appeal`

```rust
fn execute_appeal(id: u64) -> DispatchResult {
    let a = Appeals::<T>::get(id).ok_or(Error::<T>::NotFound)?;
    
    match a.domain {
        1 => Grave::force_action(target, who.clone(), action),
        2 => Deceased::force_action(target, who.clone(), action),
        3 => DeceasedText::force_action(target, who.clone(), action),
        4 => DeceasedMedia::force_action(target, who.clone(), action),
        5 => Offerings::force_action(target, who.clone(), action),
        6 => Park::force_action(target, who.clone(), action),
        7 => Deceased::force_work_action(target, who.clone(), action),  // æ–°å¢
        _ => Err(Error::<T>::InvalidDomain)?,
    }
}
```

### 5.2 æ‰©å±•ä½œå“æ²»ç†æ¥å£

#### 5.2.1 æ·»åŠ æ²»ç†æ¥å£

**ä½ç½®**: `pallets/deceased/src/lib.rs`

```rust
/// å‡½æ•°çº§è¯¦ç»†ä¸­æ–‡æ³¨é‡Šï¼šæ²»ç†æ¥å£ - å¼ºåˆ¶åˆ é™¤ä½œå“
///
/// ## åŠŸèƒ½è¯´æ˜
/// - ç”±ç”³è¯‰ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨äºæ‰§è¡Œä½œå“æŠ•è¯‰
/// - ä»…æ²»ç†æƒé™å¯è°ƒç”¨
///
/// ## å‚æ•°
/// - `origin`: è°ƒç”¨è€…ï¼ˆå¿…é¡»æ˜¯æ²»ç†æƒé™ï¼‰
/// - `work_id`: ä½œå“ID
/// - `action`: æ“ä½œç±»å‹ï¼ˆ1=åˆ é™¤, 2=éšè—, 3=ä¿®æ”¹ç­‰ï¼‰
///
/// ## æƒé™æ£€æŸ¥
/// - å¿…é¡»æ˜¯æ²»ç†æƒé™ï¼ˆRootæˆ–å†…å®¹å§”å‘˜ä¼šï¼‰
#[pallet::call_index(25)]
#[pallet::weight(Weight::from_parts(50_000, 0))]
pub fn force_work_action(
    origin: OriginFor<T>,
    work_id: u64,
    action: u8,
) -> DispatchResult {
    T::GovernanceOrigin::ensure_origin(origin)?;
    
    let work = DeceasedWorks::<T>::get(work_id)
        .ok_or(Error::<T>::WorkNotFound)?;
    
    match action {
        1 => {
            // åˆ é™¤ä½œå“
            Self::do_delete_work(work_id)?;
        },
        2 => {
            // éšè—ä½œå“ï¼ˆæ ‡è®°ä¸ºéšè—ï¼Œä¸åˆ é™¤ï¼‰
            DeceasedWorks::<T>::mutate(work_id, |w| {
                if let Some(work) = w {
                    work.public_display = false;
                }
            });
        },
        3 => {
            // ä¿®æ”¹ä½œå“ï¼ˆéœ€è¦é¢å¤–å‚æ•°ï¼Œè¿™é‡Œä»…ç¤ºä¾‹ï¼‰
            // å®é™…å®ç°éœ€è¦ä»ç”³è¯‰è®°å½•ä¸­è·å–ä¿®æ”¹æ•°æ®
        },
        4 => {
            // è°ƒæ•´éšç§çº§åˆ«
            DeceasedWorks::<T>::mutate(work_id, |w| {
                if let Some(work) = w {
                    work.privacy_level = PrivacyLevel::Private;
                }
            });
        },
        5 => {
            // ç¦ç”¨AIè®­ç»ƒ
            DeceasedWorks::<T>::mutate(work_id, |w| {
                if let Some(work) = w {
                    work.ai_training_enabled = false;
                }
            });
        },
        _ => return Err(Error::<T>::InvalidAction)?,
    }
    
    Self::deposit_event(Event::WorkActionForced {
        work_id,
        action,
    });
    
    Ok(())
}
```

### 5.3 å®ç°æŠ¼é‡‘ç­–ç•¥

#### 5.3.1 æ‰©å±• AppealDepositPolicy

**ä½ç½®**: `runtime/src/configs/mod.rs`

```rust
impl AppealDepositPolicy for Runtime {
    fn calc_deposit(
        who: &AccountId,
        domain: u8,
        target: u64,
        action: u8,
    ) -> Option<Balance> {
        // ä½œå“åŸŸï¼ˆDomain 7ï¼‰çš„ç‰¹æ®Šå¤„ç†
        if domain == 7 {
            // æŸ¥è¯¢ä½œå“ä¿¡æ¯
            if let Some(work) = Deceased::deceased_works(target) {
                // æ ¹æ®ä½œå“ç±»å‹å’ŒæŠ•è¯‰ç±»å‹è®¡ç®—æŠ¼é‡‘
                return Some(calculate_work_complaint_deposit(
                    ComplaintType::Normal,  // é»˜è®¤æ™®é€šæŠ•è¯‰
                    work.work_type,
                ));
            }
        }
        
        // å…¶ä»–åŸŸä½¿ç”¨é»˜è®¤ç­–ç•¥
        None
    }
}
```

### 5.4 å‰ç«¯é›†æˆ

#### 5.4.1 ä½œå“æŠ•è¯‰ç•Œé¢

**ä½ç½®**: `stardust-dapp/src/features/deceased/works/`

```typescript
// WorkComplaintForm.tsx
const submitWorkComplaint = async (
  workId: number,
  complaintType: 'normal' | 'emergency' | 'batch',
  evidenceCid: string,
) => {
  // 1. æŸ¥è¯¢ä½œå“ä¿¡æ¯
  const work = await api.query.deceased.deceasedWorks(workId);
  
  // 2. è®¡ç®—æŠ¼é‡‘
  const deposit = calculateDeposit(complaintType, work.workType);
  
  // 3. æäº¤ç”³è¯‰
  await api.tx.stardustAppeals.submitAppeal(
    7,  // domain: ä½œå“åŸŸ
    workId,  // target: work_id
    1,  // action: åˆ é™¤ä½œå“
    evidenceCid,  // evidence_cid
    null,  // reason_cid
  ).signAndSend(account);
};
```

---

## 6. å®æ–½å»ºè®®

### 6.1 å®æ–½ä¼˜å…ˆçº§

#### Phase 1ï¼šåŸºç¡€åŠŸèƒ½ï¼ˆ1å‘¨ï¼‰

1. âœ… æ‰©å±•ç”³è¯‰ç³»ç»Ÿï¼Œæ·»åŠ  Domain 7
2. âœ… æ·»åŠ ä½œå“æ²»ç†æ¥å£ï¼ˆ`force_work_action`ï¼‰
3. âœ… å®ç°åŸºç¡€æŠ¼é‡‘è®¡ç®—ï¼ˆå›ºå®šæŠ¼é‡‘ï¼‰

**äº¤ä»˜ç‰©**ï¼š
- ä½œå“æŠ•è¯‰åŠŸèƒ½ï¼ˆåŸºç¡€ç‰ˆï¼‰
- æŠ¼é‡‘æœºåˆ¶ï¼ˆå›ºå®šæŠ¼é‡‘ï¼‰

#### Phase 2ï¼šæŠ¼é‡‘ä¼˜åŒ–ï¼ˆ3å¤©ï¼‰

1. âœ… å®ç°åŠ¨æ€æŠ¼é‡‘ç­–ç•¥ï¼ˆæ ¹æ®ä½œå“ç±»å‹ï¼‰
2. âœ… å®ç°æŠ¼é‡‘é€€å›æœºåˆ¶
3. âœ… å®Œå–„æŠ¼é‡‘å¤„ç†æµç¨‹

**äº¤ä»˜ç‰©**ï¼š
- åŠ¨æ€æŠ¼é‡‘è®¡ç®—
- è‡ªåŠ¨é€€å›æœºåˆ¶

#### Phase 3ï¼šå‰ç«¯é›†æˆï¼ˆ1å‘¨ï¼‰

1. âœ… ä½œå“æŠ•è¯‰ç•Œé¢
2. âœ… æŠ¼é‡‘æ˜¾ç¤ºå’Œè®¡ç®—
3. âœ… æŠ•è¯‰çŠ¶æ€æŸ¥è¯¢

**äº¤ä»˜ç‰©**ï¼š
- å‰ç«¯æŠ•è¯‰åŠŸèƒ½
- ç”¨æˆ·ä½“éªŒä¼˜åŒ–

### 6.2 æµ‹è¯•å»ºè®®

#### 6.2.1 å•å…ƒæµ‹è¯•

```rust
#[test]
fn test_work_complaint_deposit_calculation() {
    // æµ‹è¯•ä¸åŒä½œå“ç±»å‹çš„æŠ¼é‡‘è®¡ç®—
    let literature_work = WorkType::Literature { ... };
    let deposit = calculate_work_complaint_deposit(
        ComplaintType::Normal,
        literature_work,
    );
    assert_eq!(deposit, 10 * UNIT);
    
    let video_work = WorkType::VideoLog { ... };
    let deposit = calculate_work_complaint_deposit(
        ComplaintType::Normal,
        video_work,
    );
    assert_eq!(deposit, 15 * UNIT);  // 1.5x
}
```

#### 6.2.2 é›†æˆæµ‹è¯•

```rust
#[test]
fn test_work_complaint_flow() {
    // 1. ä¸Šä¼ ä½œå“
    let work_id = upload_work(...);
    
    // 2. æäº¤æŠ•è¯‰
    let appeal_id = submit_appeal(7, work_id, 1, ...);
    
    // 3. æ‰¹å‡†æŠ•è¯‰
    approve_appeal(appeal_id);
    
    // 4. ç­‰å¾…å…¬ç¤ºæœŸ
    run_to_block(notice_end);
    
    // 5. éªŒè¯ä½œå“å·²åˆ é™¤
    assert!(DeceasedWorks::get(work_id).is_none());
}
```

### 6.3 æ–‡æ¡£æ›´æ–°

#### 6.3.1 æ›´æ–°ç”³è¯‰ç³»ç»Ÿæ–‡æ¡£

**ä½ç½®**: `pallets/stardust-appeals/README.md`

- æ·»åŠ  Domain 7 çš„è¯´æ˜
- æ·»åŠ ä½œå“æŠ•è¯‰çš„ç¤ºä¾‹
- æ›´æ–°æŠ¼é‡‘æ ‡å‡†è¯´æ˜

#### 6.3.2 æ›´æ–°ä½œå“ç³»ç»Ÿæ–‡æ¡£

**ä½ç½®**: `pallets/deceased/README.md`

- æ·»åŠ æ²»ç†æ¥å£è¯´æ˜
- æ·»åŠ æŠ•è¯‰æµç¨‹è¯´æ˜
- æ›´æ–°ä½œå“ç®¡ç†æ–‡æ¡£

---

## 7. æ€»ç»“

### 7.1 æ ¸å¿ƒé—®é¢˜

1. âŒ **ä½œå“æŠ•è¯‰ç¼ºå°‘ç‹¬ç«‹åŸŸ**ï¼šéœ€è¦æ·»åŠ  Domain 7
2. âŒ **æŠ¼é‡‘æ ‡å‡†æœªå®šä¹‰**ï¼šéœ€è¦å®ç°åŠ¨æ€æŠ¼é‡‘ç­–ç•¥
3. âŒ **æŠ•è¯‰æµç¨‹æœªå®Œå–„**ï¼šéœ€è¦æ·»åŠ ä½œå“æ²»ç†æ¥å£

### 7.2 è§£å†³æ–¹æ¡ˆ

1. âœ… **æ·»åŠ ä½œå“åŸŸ**ï¼šDomain 7ï¼ˆé€è€…ä½œå“ï¼‰
2. âœ… **å®ç°æŠ¼é‡‘æœºåˆ¶**ï¼šåŸºç¡€æŠ¼é‡‘ + ä½œå“ç±»å‹è°ƒæ•´
3. âœ… **å®Œå–„æŠ•è¯‰æµç¨‹**ï¼šæäº¤â†’å®¡æ‰¹â†’å…¬ç¤ºâ†’æ‰§è¡Œ

### 7.3 æŠ¼é‡‘æ ‡å‡†

| æŠ•è¯‰ç±»å‹ | åŸºç¡€æŠ¼é‡‘ | ä½œå“ç±»å‹è°ƒæ•´ | æœ€ç»ˆæŠ¼é‡‘ |
|---------|---------|------------|---------|
| æ™®é€šæŠ•è¯‰ | 10 DUST | 1.0x - 1.5x | 10-15 DUST |
| ç´§æ€¥æŠ•è¯‰ | 50 DUST | 1.0x - 1.5x | 50-75 DUST |
| æ‰¹é‡æŠ•è¯‰ | 20 DUST | 1.0x - 1.5x | 20-30 DUST |

### 7.4 å®æ–½æ—¶é—´

- **Phase 1**ï¼šåŸºç¡€åŠŸèƒ½ï¼ˆ1å‘¨ï¼‰
- **Phase 2**ï¼šæŠ¼é‡‘ä¼˜åŒ–ï¼ˆ3å¤©ï¼‰
- **Phase 3**ï¼šå‰ç«¯é›†æˆï¼ˆ1å‘¨ï¼‰

**æ€»è®¡**ï¼š**2-3 å‘¨**

---

**æ–‡æ¡£ç»´æŠ¤**: Stardust å¼€å‘å›¢é˜Ÿ  
**æœ€åæ›´æ–°**: 2025-11-13  
**ç‰ˆæœ¬**: v1.0.0

