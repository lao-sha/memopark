# IPFSæœ¬åœ°å­˜å‚¨å†…å®¹è¯¦è§£ - Stardustè¿è¥è€…èŠ‚ç‚¹

## ğŸ¯ æ ¸å¿ƒé—®é¢˜

**è¿è¥è€…èŠ‚ç‚¹çš„IPFSæœ¬åœ°å­˜å‚¨çš„æ˜¯ä»€ä¹ˆæ•°æ®ï¼Ÿæ˜¯Stardustçš„æ‰€æœ‰æ•°æ®å—ï¼Ÿè¿˜æ˜¯å…¶ä»–åˆ«äººçš„æ•°æ®ï¼Ÿ**

---

## ğŸ“Š ç®€çŸ­ç­”æ¡ˆ

| é—®é¢˜ | ç­”æ¡ˆ |
|-----|------|
| **å­˜å‚¨ä»€ä¹ˆï¼Ÿ** | âœ… ä»…Stardusté“¾ä¸Šè¯·æ±‚çš„CID |
| **æ‰€æœ‰Stardustæ•°æ®ï¼Ÿ** | âŒ å¦ï¼Œä»…åˆ†é…ç»™è¯¥è¿è¥è€…çš„å‰¯æœ¬ |
| **å…¶ä»–äººçš„æ•°æ®ï¼Ÿ** | âŒ å¦ï¼Œé™¤éè¿è¥è€…ä¸»åŠ¨pin |
| **IPFSå…¨ç½‘æ•°æ®ï¼Ÿ** | âŒ å¦ï¼Œå®Œå…¨éš”ç¦» |

---

## ğŸ” è¯¦ç»†è§£é‡Š

### 1. IPFSçš„å·¥ä½œåŸç†

```
IPFSç½‘ç»œç»“æ„ï¼š

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         å…¨çƒIPFSå…¬å…±ç½‘ç»œï¼ˆæ•°äº¿èŠ‚ç‚¹ï¼‰          â”‚
â”‚  â”œâ”€ å…¬å…±æ–‡ä»¶                                 â”‚
â”‚  â”œâ”€ å…¶ä»–é¡¹ç›®çš„æ•°æ®                           â”‚
â”‚  â”œâ”€ éšæœºå…±äº«çš„å†…å®¹                           â”‚
â”‚  â””â”€ ...                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“ å¯é€‰è¿æ¥
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Stardustè¿è¥è€…èŠ‚ç‚¹ï¼ˆç‹¬ç«‹IPFSèŠ‚ç‚¹ï¼‰        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ä»…å­˜å‚¨Stardustçš„Pinå†…å®¹               â”‚  â”‚
â”‚  â”‚  â”œâ”€ è¢«åˆ†é…çš„deceasedå†…å®¹               â”‚  â”‚
â”‚  â”‚  â”œâ”€ è¢«åˆ†é…çš„offeringså†…å®¹             â”‚  â”‚
â”‚  â”‚  â”œâ”€ è¢«åˆ†é…çš„evidenceå†…å®¹              â”‚  â”‚
â”‚  â”‚  â””â”€ å…¶ä»–é“¾ä¸Šè¯·æ±‚çš„CID                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®ç†è§£**ï¼š
- âœ… è¿è¥è€…èŠ‚ç‚¹æ˜¯**ç‹¬ç«‹çš„IPFSèŠ‚ç‚¹**
- âœ… **å®Œå…¨æ§åˆ¶**å­˜å‚¨ä»€ä¹ˆå†…å®¹
- âœ… **ä»…pin** Stardusté“¾ä¸Šåˆ†é…çš„CID
- âŒ **ä¸ä¼šè‡ªåŠ¨**å­˜å‚¨IPFSå…¨ç½‘çš„éšæœºå†…å®¹

---

### 2. è¿è¥è€…èŠ‚ç‚¹å­˜å‚¨çš„å†…å®¹

#### A. ä»…Stardusté“¾ä¸Šè¯·æ±‚çš„CID

```rust
// é“¾ä¸Špinè¯·æ±‚æµç¨‹
ç”¨æˆ·è°ƒç”¨: request_pin_for_deceased(cid, replicas=3)
    â†“
é“¾ä¸Šé€‰æ‹©: é€‰æ‹©3ä¸ªè¿è¥è€…ï¼ˆOperator1, Operator2, Operator3ï¼‰
    â†“
è¿è¥è€…1: ipfs pin add <CID>  âœ… ä»…è¿™ä¸ªCID
è¿è¥è€…2: ipfs pin add <CID>  âœ… ä»…è¿™ä¸ªCID
è¿è¥è€…3: ipfs pin add <CID>  âœ… ä»…è¿™ä¸ªCID
    â†“
å…¶ä»–IPFSå†…å®¹: ä¸å­˜å‚¨ âŒ
```

**å­˜å‚¨å†…å®¹æ¸…å•**ï¼š

| å†…å®¹ç±»å‹ | æ˜¯å¦å­˜å‚¨ | è¯´æ˜ |
|---------|---------|------|
| **Stardusté“¾ä¸Šè¯·æ±‚çš„CID** | âœ… æ˜¯ | è¢«åˆ†é…ç»™è¯¥è¿è¥è€…çš„ |
| **å…¶ä»–Stardustçš„CID** | âŒ å¦ | æœªåˆ†é…ç»™è¯¥è¿è¥è€…çš„ |
| **IPFSå…¬å…±ç½‘ç»œå†…å®¹** | âŒ å¦ | å®Œå…¨éš”ç¦» |
| **å…¶ä»–é¡¹ç›®çš„æ•°æ®** | âŒ å¦ | é™¤éè¿è¥è€…ä¸»åŠ¨pin |
| **ä¸´æ—¶ç¼“å­˜** | âš ï¸ å¯èƒ½ | ä½†ä¼šè¢«GCæ¸…ç† |

---

#### B. å­˜å‚¨çš„æ•°æ®èŒƒå›´

**ç¤ºä¾‹åœºæ™¯**ï¼š

```
Stardustç½‘ç»œçŠ¶æ€ï¼š
- æ€»CIDæ•°é‡: 10,000ä¸ª
- æ¯ä¸ªCID: 1GB
- å‰¯æœ¬é…ç½®: 3å‰¯æœ¬

ç½‘ç»œä¸­è¿è¥è€…ï¼š
- è¿è¥è€…1ï¼ˆä½ ï¼‰
- è¿è¥è€…2
- è¿è¥è€…3
- è¿è¥è€…4
- è¿è¥è€…5

ä½ çš„èŠ‚ç‚¹å­˜å‚¨ï¼š
- è¢«åˆ†é…çš„CID: ~2,000ä¸ªï¼ˆ10,000 Ã— 3å‰¯æœ¬ / 5è¿è¥è€…ï¼‰
- å­˜å‚¨å¤§å°: ~2TBï¼ˆ2,000 Ã— 1GBï¼‰
- å æ¯”: 20%ï¼ˆ2,000 / 10,000ï¼‰

ä½ ä¸å­˜å‚¨çš„ï¼š
- å…¶ä»–è¿è¥è€…çš„CID: ~8,000ä¸ª âŒ
- IPFSå…¬å…±å†…å®¹: æ— é™ âŒ
- å…¶ä»–é¡¹ç›®æ•°æ®: æ— é™ âŒ
```

**ç»“è®º**ï¼š
- âœ… ä»…å­˜å‚¨20%çš„Stardustæ•°æ®ï¼ˆ3å‰¯æœ¬Ã·5è¿è¥è€…ï¼‰
- âŒ ä¸å­˜å‚¨å…¶ä»–80%ï¼ˆç”±å…¶ä»–è¿è¥è€…è´Ÿè´£ï¼‰
- âŒ ä¸å­˜å‚¨ä»»ä½•éStardustæ•°æ®

---

### 3. å­˜å‚¨ç›®å½•ç»“æ„

#### è¿è¥è€…èŠ‚ç‚¹IPFSå­˜å‚¨

```bash
~/.ipfs/
â”œâ”€â”€ blocks/                           # å®é™…æ–‡ä»¶å—å­˜å‚¨
â”‚   â”œâ”€â”€ 00/
â”‚   â”‚   â”œâ”€â”€ CID_00001.data           # Stardust deceasedç…§ç‰‡ âœ…
â”‚   â”‚   â”œâ”€â”€ CID_00002.data           # Stardust offeringsè§†é¢‘ âœ…
â”‚   â”‚   â””â”€â”€ CID_00003.data           # Stardust evidenceæ–‡ä»¶ âœ…
â”‚   â”œâ”€â”€ 01/
â”‚   â”‚   â”œâ”€â”€ CID_01001.data           # Stardust graveå°é¢ âœ…
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ datastore/                        # å…ƒæ•°æ®
â”‚   â”œâ”€â”€ 000001.sst                   # PinçŠ¶æ€ç´¢å¼•
â”‚   â””â”€â”€ MANIFEST                     # æ•°æ®åº“æ¸…å•
â”‚
â””â”€â”€ config                            # IPFSé…ç½®
    â””â”€â”€ ...

æ€»è®¡: çº¦2TBï¼ˆä»…Stardustè¢«åˆ†é…çš„CIDï¼‰
```

**ä¸ä¼šå‡ºç°**ï¼š
```bash
âŒ /blocks/.../random_public_file.data    # IPFSå…¬å…±æ–‡ä»¶
âŒ /blocks/.../other_project.data          # å…¶ä»–é¡¹ç›®æ•°æ®
âŒ /blocks/.../btc_blockchain.data         # æ¯”ç‰¹å¸æ•°æ®
âŒ /blocks/.../wikipedia.data              # ç»´åŸºç™¾ç§‘é•œåƒ
```

---

### 4. å¦‚ä½•ä¿è¯ä»…å­˜å‚¨Stardustæ•°æ®ï¼Ÿ

#### A. IPFS Clusteré…ç½®ï¼ˆæ¨èï¼‰â­

```yaml
# ipfs-clusteré…ç½®
# ä½¿ç”¨privateæ¨¡å¼ï¼Œä»…ä¸Stardusté›†ç¾¤é€šä¿¡

cluster:
  secret: "your-cluster-secret-key"  # ç§æœ‰é›†ç¾¤å¯†é’¥
  peername: "stardust-operator1"
  
  # ä»…è¿æ¥åˆ°Stardusté›†ç¾¤çš„å…¶ä»–è¿è¥è€…
  bootstrap:
    - /ip4/operator2.stardust.com/tcp/9096/p2p/QmXxx...
    - /ip4/operator3.stardust.com/tcp/9096/p2p/QmYyy...
    
  # ä¸è¿æ¥åˆ°å…¬å…±IPFSç½‘ç»œ
  ipfs_connector:
    ipfshttp:
      node_multiaddress: "/ip4/127.0.0.1/tcp/5001"  # æœ¬åœ°IPFS
      connect_swarms_delay: "0s"
      ipfs_request_timeout: "5m"
      pin_timeout: "24h"
```

**æ•ˆæœ**ï¼š
- âœ… ä»…ä¸Stardusté›†ç¾¤é€šä¿¡
- âœ… ä»…æ¥æ”¶Stardustçš„pinè¯·æ±‚
- âŒ ä¸è¿æ¥å…¬å…±IPFSç½‘ç»œ
- âŒ ä¸æ¥æ”¶å…¬å…±IPFSå†…å®¹

---

#### B. IPFSèŠ‚ç‚¹é…ç½®ï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰

```json
// ~/.ipfs/config

{
  "Addresses": {
    "Swarm": [
      "/ip4/0.0.0.0/tcp/4001"  // ä»…å†…éƒ¨é€šä¿¡
    ],
    "API": "/ip4/127.0.0.1/tcp/5001",  // ä»…æœ¬åœ°è®¿é—®
    "Gateway": ""  // ç¦ç”¨å…¬å…±ç½‘å…³
  },
  
  "Bootstrap": [],  // ä¸è¿æ¥å…¬å…±å¼•å¯¼èŠ‚ç‚¹ â­
  
  "Discovery": {
    "MDNS": {
      "Enabled": false  // ç¦ç”¨å±€åŸŸç½‘å‘ç°
    }
  },
  
  "Swarm": {
    "DisableNatPortMap": true,  // ç¦ç”¨NATç©¿é€
    "ConnMgr": {
      "Type": "basic",
      "LowWater": 100,
      "HighWater": 200,
      "GracePeriod": "20s"
    }
  },
  
  "Routing": {
    "Type": "dht"  // ä½¿ç”¨DHTè·¯ç”±
  },
  
  "Reprovider": {
    "Interval": "0",  // ç¦ç”¨è‡ªåŠ¨é‡æ–°æä¾› â­
    "Strategy": "pinned"
  }
}
```

**å…³é”®é…ç½®**ï¼š
- âœ… `Bootstrap: []` - ä¸è¿æ¥å…¬å…±IPFSç½‘ç»œ
- âœ… `Reprovider.Interval: 0` - ä¸å‘å…¬ç½‘å¹¿æ’­
- âœ… `Gateway: ""` - ç¦ç”¨å…¬å…±è®¿é—®

---

#### C. é˜²ç«å¢™è§„åˆ™

```bash
# ä»…å…è®¸ä¸Stardusté›†ç¾¤é€šä¿¡

# å…è®¸ä¸å…¶ä»–è¿è¥è€…é€šä¿¡
iptables -A INPUT -p tcp --dport 4001 -s operator2_ip -j ACCEPT
iptables -A INPUT -p tcp --dport 4001 -s operator3_ip -j ACCEPT

# å…è®¸IPFS Clusteré€šä¿¡
iptables -A INPUT -p tcp --dport 9096 -s operator2_ip -j ACCEPT
iptables -A INPUT -p tcp --dport 9096 -s operator3_ip -j ACCEPT

# æ‹’ç»å…¶ä»–æ‰€æœ‰IPFSè¿æ¥
iptables -A INPUT -p tcp --dport 4001 -j DROP
iptables -A INPUT -p tcp --dport 9096 -j DROP
```

---

### 5. ä¸´æ—¶ç¼“å­˜ vs Pinå†…å®¹

#### IPFSçš„ä¸¤ç§å­˜å‚¨æ–¹å¼

```
1. Pinå†…å®¹ï¼ˆæ°¸ä¹…ä¿æŠ¤ï¼‰:
   - æ‰‹åŠ¨pin: ipfs pin add <CID>
   - Cluster pin: cluster-ctl pin add <CID>
   - ä¸ä¼šè¢«GCåˆ é™¤ âœ…
   - å ç”¨æ°¸ä¹…å­˜å‚¨ç©ºé—´

2. ç¼“å­˜å†…å®¹ï¼ˆä¸´æ—¶å­˜å‚¨ï¼‰:
   - è‡ªåŠ¨è·å–: è®¿é—®å…¶ä»–èŠ‚ç‚¹çš„CIDæ—¶
   - å¯èƒ½è¢«GCåˆ é™¤ âš ï¸
   - å ç”¨ä¸´æ—¶ç¼“å­˜ç©ºé—´
```

**è¿è¥è€…èŠ‚ç‚¹çš„å­˜å‚¨**ï¼š

| å†…å®¹ç±»å‹ | è·å–æ–¹å¼ | æ˜¯å¦Pin | æ˜¯å¦æ°¸ä¹… |
|---------|---------|---------|---------|
| **Starduståˆ†é…çš„CID** | Cluster pin | âœ… æ˜¯ | âœ… æ°¸ä¹… |
| **å…¶ä»–Stardust CID** | å¯èƒ½ç¼“å­˜ | âŒ å¦ | âŒ ä¸´æ—¶ |
| **å…¬å…±IPFSå†…å®¹** | ä¸è·å– | âŒ å¦ | âŒ æ—  |

**GCæ¸…ç†ç­–ç•¥**ï¼š

```bash
# IPFSå®šæœŸè¿è¡ŒGC
ipfs repo gc

# æ¸…ç†è§„åˆ™ï¼š
# âœ… Pinå†…å®¹: æ°¸ä¸åˆ é™¤
# âŒ æœªpinå†…å®¹: åˆ é™¤ï¼ˆå¦‚æœå­˜å‚¨>90%ï¼‰

# ç»“æœï¼š
# - Starduståˆ†é…çš„CID: ä¿ç•™ï¼ˆå·²pinï¼‰
# - ä¸´æ—¶ç¼“å­˜: åˆ é™¤ï¼ˆæœªpinï¼‰
```

---

### 6. å®é™…å­˜å‚¨æ¡ˆä¾‹

#### æ¡ˆä¾‹Aï¼š5ä¸ªè¿è¥è€…ï¼Œ10,000ä¸ªCID

```
ç½‘ç»œé…ç½®ï¼š
- æ€»CID: 10,000ä¸ª
- å‰¯æœ¬æ•°: 3å‰¯æœ¬
- è¿è¥è€…: 5ä¸ªï¼ˆOperator1-5ï¼‰

è¿è¥è€…1çš„å­˜å‚¨ï¼ˆä½ ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Stardust IPFSå­˜å‚¨                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  CID_0001.data (1GB) âœ… è¢«åˆ†é…       â”‚
â”‚  CID_0005.data (1GB) âœ… è¢«åˆ†é…       â”‚
â”‚  CID_0009.data (1GB) âœ… è¢«åˆ†é…       â”‚
â”‚  ...ï¼ˆçº¦2,000ä¸ªCIDï¼‰                 â”‚
â”‚  CID_9997.data (1GB) âœ… è¢«åˆ†é…       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ€»è®¡: 2TB                           â”‚
â”‚  å Stardustæ€»æ•°æ®: 20%ï¼ˆ6TBä¸­çš„2TBï¼‰ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¸å­˜å‚¨çš„å†…å®¹ï¼š
âŒ CID_0002.data â†’ ç”±Operator2å­˜å‚¨
âŒ CID_0003.data â†’ ç”±Operator3å­˜å‚¨
âŒ IPFSå…¬å…±å†…å®¹ â†’ ä¸è¿æ¥å…¬å…±ç½‘ç»œ
âŒ å…¶ä»–é¡¹ç›®æ•°æ® â†’ ä¸æ¥æ”¶
```

---

#### æ¡ˆä¾‹Bï¼šå­˜å‚¨å¢é•¿é¢„æµ‹

```
åˆå§‹çŠ¶æ€ï¼ˆç¬¬1ä¸ªæœˆï¼‰ï¼š
- Pinçš„CID: 100ä¸ª
- å­˜å‚¨å¤§å°: 100GB
- ç±»å‹: 100% Stardustæ•°æ®

6ä¸ªæœˆåï¼š
- Pinçš„CID: 1,200ä¸ª
- å­˜å‚¨å¤§å°: 1.2TB
- ç±»å‹: 100% Stardustæ•°æ® â­

2å¹´åï¼š
- Pinçš„CID: 5,000ä¸ª
- å­˜å‚¨å¤§å°: 5TB
- ç±»å‹: 100% Stardustæ•°æ® â­
- ä¸´æ—¶ç¼“å­˜: <50GBï¼ˆå…¶ä»–Stardust CIDçš„ä¸´æ—¶è®¿é—®ï¼‰

ç»“è®ºï¼š
âœ… 99%+ æ˜¯Stardustæ•°æ®
âœ… <1% æ˜¯ä¸´æ—¶ç¼“å­˜ï¼ˆä¹Ÿæ˜¯Stardustæ•°æ®ï¼‰
âŒ 0% æ˜¯å…¬å…±IPFSå†…å®¹
```

---

## ğŸ“Š æ•°æ®æ¥æºå¯¹æ¯”

### è¿è¥è€…èŠ‚ç‚¹ vs å…¬å…±IPFSèŠ‚ç‚¹

| ç»´åº¦ | Stardustè¿è¥è€…èŠ‚ç‚¹ | å…¬å…±IPFSèŠ‚ç‚¹ |
|-----|-------------------|-------------|
| **è¿æ¥ç½‘ç»œ** | ä»…Stardusté›†ç¾¤ | å…¨çƒIPFSç½‘ç»œ |
| **å­˜å‚¨å†…å®¹** | ä»…Stardust CID | ä»»æ„IPFSå†…å®¹ |
| **æ•°æ®æ¥æº** | 100% Stardust | å…¨ç½‘éšæœº |
| **å­˜å‚¨æ§åˆ¶** | å®Œå…¨å¯æ§ | ä¸å¯æ§ |
| **éšç§æ€§** | é«˜ï¼ˆç§æœ‰é›†ç¾¤ï¼‰ | ä½ï¼ˆå…¬å¼€å…±äº«ï¼‰ |
| **å¸¦å®½æ¶ˆè€—** | å¯é¢„æµ‹ | ä¸å¯é¢„æµ‹ |

---

## âœ… æ€»ç»“

### Q1: IPFSæœ¬åœ°å­˜å‚¨çš„æ˜¯ä»€ä¹ˆæ•°æ®ï¼Ÿ

**ç­”æ¡ˆï¼šâœ… ä»…Stardusté“¾ä¸Šè¯·æ±‚çš„CID**

```
å­˜å‚¨å†…å®¹ï¼š
â”œâ”€ Deceasedç…§ç‰‡/è§†é¢‘ï¼ˆè¢«åˆ†é…çš„ï¼‰
â”œâ”€ Offeringsä¾›å¥‰å“ï¼ˆè¢«åˆ†é…çš„ï¼‰
â”œâ”€ Evidenceè¯æ®æ–‡ä»¶ï¼ˆè¢«åˆ†é…çš„ï¼‰
â”œâ”€ Graveå¢“ä½å°é¢ï¼ˆè¢«åˆ†é…çš„ï¼‰
â””â”€ å…¶ä»–Stardust CIDï¼ˆè¢«åˆ†é…çš„ï¼‰

ä¸å­˜å‚¨ï¼š
âŒ å…¶ä»–è¿è¥è€…è´Ÿè´£çš„Stardust CID
âŒ IPFSå…¬å…±ç½‘ç»œçš„å†…å®¹
âŒ å…¶ä»–é¡¹ç›®çš„æ•°æ®
âŒ éšæœºå…±äº«çš„æ–‡ä»¶
```

---

### Q2: æ˜¯Stardustçš„æ‰€æœ‰æ•°æ®å—ï¼Ÿ

**ç­”æ¡ˆï¼šâŒ å¦ï¼Œä»…åˆ†é…ç»™è¯¥è¿è¥è€…çš„å‰¯æœ¬**

```
å‡è®¾ï¼š
- Stardustæ€»æ•°æ®: 10TBï¼ˆ10,000ä¸ªCIDï¼‰
- å‰¯æœ¬é…ç½®: 3å‰¯æœ¬
- è¿è¥è€…æ•°é‡: 5ä¸ª

ä½ çš„èŠ‚ç‚¹å­˜å‚¨ï¼š
- çº¦2TBï¼ˆ20%çš„Stardustæ•°æ®ï¼‰
- ä»…ä½ è´Ÿè´£çš„å‰¯æœ¬

å…¶ä»–è¿è¥è€…ï¼š
- å…¶ä»–80%çš„æ•°æ®
```

---

### Q3: è¿˜æ˜¯å…¶ä»–åˆ«äººçš„æ•°æ®ï¼Ÿ

**ç­”æ¡ˆï¼šâŒ å¦ï¼Œä¸å­˜å‚¨å…¶ä»–äººï¼ˆéStardustï¼‰çš„æ•°æ®**

```
éš”ç¦»æœºåˆ¶ï¼š
âœ… ä½¿ç”¨IPFS Clusterç§æœ‰é›†ç¾¤
âœ… Bootstrap: [] ä¸è¿æ¥å…¬å…±ç½‘ç»œ
âœ… é˜²ç«å¢™ä»…å…è®¸Stardusté›†ç¾¤é€šä¿¡
âœ… ä»…pin Stardusté“¾ä¸Šåˆ†é…çš„CID

ç»“æœï¼š
âœ… 100% Stardustæ•°æ®
âŒ 0% å…¬å…±IPFSæ•°æ®
âŒ 0% å…¶ä»–é¡¹ç›®æ•°æ®
```

---

## ğŸ”§ æ¨èé…ç½®

### ä¸¥æ ¼æ¨¡å¼ï¼ˆæ¨èï¼‰â­

```yaml
# IPFS Clusteré…ç½®
cluster:
  secret: "stardust-cluster-secret"
  bootstrap: [stardust-operators-only]

# IPFSèŠ‚ç‚¹é…ç½®
{
  "Bootstrap": [],  # ä¸è¿æ¥å…¬å…±ç½‘ç»œ
  "Reprovider": {"Interval": "0"}  # ä¸å¹¿æ’­
}

# é˜²ç«å¢™
iptables -A INPUT -p tcp --dport 4001 -s <stardust_operators> -j ACCEPT
iptables -A INPUT -p tcp --dport 4001 -j DROP

ç»“æœ:
âœ… ä»…Stardustæ•°æ®
âœ… å®Œå…¨éš”ç¦»å…¬å…±IPFSç½‘ç»œ
âœ… å­˜å‚¨å¯æ§ã€å¯é¢„æµ‹
```

---

## ğŸ“ˆ å­˜å‚¨ç›‘æ§

### ç›‘æ§è„šæœ¬

```bash
#!/bin/bash
# monitor-ipfs-storage.sh

# æ£€æŸ¥pinçš„CIDæ•°é‡
pinned_count=$(ipfs pin ls --type=recursive | wc -l)
echo "Pinned CIDs: $pinned_count"

# æ£€æŸ¥å­˜å‚¨å¤§å°
storage_size=$(du -sh ~/.ipfs/blocks/ | cut -f1)
echo "Storage Size: $storage_size"

# æ£€æŸ¥æ˜¯å¦æœ‰éStardustå†…å®¹
# ï¼ˆé€šè¿‡æ£€æŸ¥CIDæ˜¯å¦åœ¨é“¾ä¸Šï¼‰
# TODO: å®ç°é“¾ä¸ŠéªŒè¯é€»è¾‘

# æ£€æŸ¥GCçŠ¶æ€
ipfs repo stat
```

---

**æœ€ç»ˆç­”æ¡ˆï¼šè¿è¥è€…èŠ‚ç‚¹ä»…å­˜å‚¨Stardusté“¾ä¸Šåˆ†é…ç»™å®ƒçš„CIDï¼ˆçº¦å æ€»æ•°æ®çš„20%ï¼‰ï¼Œä¸å­˜å‚¨å…¶ä»–Stardustæ•°æ®ï¼Œä¹Ÿä¸å­˜å‚¨ä»»ä½•å…¬å…±IPFSç½‘ç»œçš„å†…å®¹ã€‚é€šè¿‡IPFS Clusterç§æœ‰é›†ç¾¤é…ç½®ï¼Œå¯ä»¥å®Œå…¨éš”ç¦»å…¬å…±ç½‘ç»œï¼Œç¡®ä¿100%å­˜å‚¨Stardustæ•°æ®ã€‚** ğŸš€

