# çºªå¿µé¦†è¯¦æƒ…é¡µ - é€è€…ä¿¡æ¯æ˜¾ç¤ºé—®é¢˜æ’æŸ¥æŒ‡å—

> **é¡¹ç›®**: Stardust åŒºå—é“¾æ•°å­—çºªå¿µå¹³å°  
> **é—®é¢˜**: `http://127.0.0.1:5173/#/grave/detail` çœ‹ä¸åˆ°çºªå¿µé¦†å†…çš„é€è€…ä¿¡æ¯  
> **åˆ›å»ºæ—¥æœŸ**: 2025-11-08  
> **çŠ¶æ€**: âœ… å·²è§£å†³

---

## ğŸ“‹ é—®é¢˜ç°è±¡

è®¿é—®çºªå¿µé¦†è¯¦æƒ…é¡µ `#/grave/detail?gid=X` æ—¶ï¼š
- âœ… èƒ½çœ‹åˆ°å¢“åœ°åŸºæœ¬ä¿¡æ¯ï¼ˆIDã€ownerã€æ˜¯å¦å…¬å¼€ç­‰ï¼‰
- âŒ çœ‹ä¸åˆ°é€è€…ä¿¡æ¯åˆ—è¡¨
- âŒ "é€è€…ä¿¡æ¯"æ ‡ç­¾é¡µæ˜¾ç¤º"æš‚æ— é€è€…"

---

## ğŸ” é—®é¢˜æ ¹å› åˆ†æ

### 1. æ•°æ®ç»“æ„ç†è§£

æ ¹æ®é“¾ä¸Šè®¾è®¡ï¼Œçºªå¿µé¦†ï¼ˆgraveï¼‰å’Œé€è€…ï¼ˆdeceasedï¼‰æ˜¯**ä¸¤ä¸ªç‹¬ç«‹çš„å®ä½“**ï¼š

```rust
// å¢“åœ°ç»“æ„ï¼ˆpallets/stardust-grave/src/lib.rsï¼‰
pub struct Grave<T: Config> {
    pub park_id: Option<u64>,
    pub owner: T::AccountId,
    pub admin_group: Option<u64>,
    pub name: BoundedVec<u8, T::MaxCidLen>,
    pub deceased_tokens: BoundedVec<BoundedVec<u8, T::MaxCidLen>, ConstU32<6>>, // âš ï¸ æœ€å¤š6ä¸ªé€è€…token
    pub is_public: bool,
    pub active: bool,
}

// é€è€…ç´¢å¼•ï¼ˆpallets/deceased/src/lib.rsï¼‰
pub type DeceasedByGrave<T: Config> = StorageMap<
    _,
    Blake2_128Concat,
    T::GraveId,
    Vec<T::DeceasedId>,  // âœ… æ— å®¹é‡é™åˆ¶çš„Vec
    OptionQuery,         // âš ï¸ è¿”å›Optionï¼Œå¯èƒ½ä¸ºNone
>;
```

### 2. æ ¸å¿ƒé—®é¢˜

**å¢“åœ°åˆ›å»ºåé»˜è®¤æ˜¯ç©ºçš„ï¼Œä¸åŒ…å«ä»»ä½•é€è€…ï¼**

- åˆ›å»ºå¢“åœ°ï¼ˆ`create_grave`ï¼‰åªåˆ›å»ºå¢“åœ°è®°å½•
- éœ€è¦**å•ç‹¬åˆ›å»ºé€è€…**ï¼ˆ`create_deceased`ï¼‰æ‰ä¼šæ·»åŠ åˆ°å¢“åœ°
- å‰ç«¯æŸ¥è¯¢ `DeceasedByGrave` è¿”å› `None` æˆ–ç©ºæ•°ç»„æ—¶ï¼Œæ˜¾ç¤º"æš‚æ— é€è€…"

### 3. å‰ç«¯æ•°æ®åŠ è½½é€»è¾‘

```typescript
// GraveDetailPage.tsx ç¬¬193-197è¡Œ
const dq: any = (api.query as any).deceased
const listAny: any = await dq.deceasedByGrave(gid)
const ids: any[] = Array.isArray(listAny) ? listAny as any : ((listAny?.toJSON?.() as any[]) || [])
if (!ids.length) { 
    setDeceased([]); // âš ï¸ è¿™é‡Œä¼šå¯¼è‡´æ˜¾ç¤º"æš‚æ— é€è€…"
    setAlbums([]); 
    setVideos([]); 
    setArticles([]); 
    setLoading(false); 
    return 
}
```

**ç»“è®º**: ä»£ç é€»è¾‘æ­£ç¡®ï¼Œåªæ˜¯å¢“åœ°å†…è¿˜æ²¡æœ‰é€è€…æ•°æ®ã€‚

---

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1ï¼šåˆ›å»ºé€è€…æ¡£æ¡ˆï¼ˆæ¨èï¼‰

#### æ­¥éª¤ 1ï¼šè®¿é—®åˆ›å»ºé€è€…é¡µé¢

```
http://127.0.0.1:5173/#/deceased/create
```

æˆ–ä»é¦–é¡µç‚¹å‡»"åˆ›å»ºé€è€…"å…¥å£ã€‚

#### æ­¥éª¤ 2ï¼šå¡«å†™é€è€…ä¿¡æ¯

æ ¹æ® `pallets/deceased/README.md` çš„æ¥å£è¯´æ˜ï¼Œéœ€è¦å¡«å†™ï¼š

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| **grave_id** | `u64` | âœ… | å¢“ä½IDï¼ˆéœ€è¦æ˜¯å·²å­˜åœ¨çš„å¢“åœ°ï¼‰ |
| **name** | `String` | âœ… | å§“åï¼ˆå¦‚"åˆ˜æ™“ä¸œ"ï¼‰ |
| **gender** | `u8` | âœ… | æ€§åˆ«ï¼ˆ0=ç”·, 1=å¥³, 2=ä¿å¯†ï¼‰ |
| **birth_ts** | `String` | âŒ | å‡ºç”Ÿæ—¥æœŸï¼ˆæ ¼å¼ï¼šYYYYMMDDï¼Œå¦‚"19811224"ï¼‰ |
| **death_ts** | `String` | âŒ | ç¦»ä¸–æ—¥æœŸï¼ˆæ ¼å¼ï¼šYYYYMMDDï¼Œå¦‚"20250901"ï¼‰ |
| **name_full_cid** | `String` | âŒ | å…¨åCIDï¼ˆIPFSå­˜å‚¨ï¼‰ |
| **main_image_cid** | `String` | âŒ | ä¸»å›¾CIDï¼ˆIPFSå­˜å‚¨ï¼‰ |
| **links** | `Vec<String>` | âŒ | å¤–éƒ¨é“¾æ¥åˆ—è¡¨ |

#### æ­¥éª¤ 3ï¼šæäº¤äº¤æ˜“

```typescript
// ç¤ºä¾‹ä»£ç ï¼ˆå‰ç«¯å·²å®ç°ï¼Œä½äº CreateDeceasedPage.tsxï¼‰
await api.tx.deceased.createDeceased(
  graveId,           // å¢“ä½ID
  "åˆ˜æ™“ä¸œ",           // å§“å
  0,                 // æ€§åˆ«ï¼šç”·
  "19811224",        // å‡ºç”Ÿæ—¥æœŸ
  "20250901",        // ç¦»ä¸–æ—¥æœŸ
  null,              // name_full_cid
  "QmXxx...",        // main_image_cid
  []                 // links
).signAndSend(account);
```

#### æ­¥éª¤ 4ï¼šéªŒè¯ç»“æœ

åˆ›å»ºæˆåŠŸåï¼Œé“¾ä¸Šä¼šè§¦å‘ï¼š

1. **Event**: `DeceasedCreated(id, grave_id, owner)`
2. **Storage æ›´æ–°**:
   - `DeceasedOf[id]` å­˜å‚¨é€è€…è¯¦æƒ…
   - `DeceasedByGrave[grave_id]` æ·»åŠ é€è€…ID
   - `Interments[grave_id]` åŒæ­¥å®‰è‘¬è®°å½•ï¼ˆç”± `record_interment` è‡ªåŠ¨å®Œæˆï¼‰

å†æ¬¡è®¿é—® `#/grave/detail?gid=X` åº”è¯¥èƒ½çœ‹åˆ°é€è€…ä¿¡æ¯äº†ï¼

---

## ğŸ› ï¸ è°ƒè¯•æ–¹æ³•

### æ–¹æ³• 1ï¼šé€šè¿‡æµè§ˆå™¨æ§åˆ¶å°è°ƒè¯•

åœ¨çºªå¿µé¦†è¯¦æƒ…é¡µï¼ˆ`GraveDetailPage.tsx`ï¼‰æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰ï¼Œæ·»åŠ è°ƒè¯•æ—¥å¿—ï¼š

```typescript
// åœ¨ç¬¬195è¡Œåæ·»åŠ 
const listAny: any = await dq.deceasedByGrave(gid)
console.log('ğŸ” DeceasedByGrave åŸå§‹è¿”å›:', listAny)
console.log('ğŸ” toJSON():', listAny?.toJSON?.())
console.log('ğŸ” isSome:', listAny?.isSome)

const ids: any[] = Array.isArray(listAny) ? listAny as any : ((listAny?.toJSON?.() as any[]) || [])
console.log('ğŸ” è§£æåçš„é€è€…IDåˆ—è¡¨:', ids)
```

#### é¢„æœŸè¾“å‡º

**æƒ…å†µ A: å¢“åœ°å†…æ²¡æœ‰é€è€…**
```javascript
ğŸ” DeceasedByGrave åŸå§‹è¿”å›: None
ğŸ” toJSON(): null
ğŸ” isSome: false
ğŸ” è§£æåçš„é€è€…IDåˆ—è¡¨: []
```

**æƒ…å†µ B: å¢“åœ°å†…æœ‰é€è€…**
```javascript
ğŸ” DeceasedByGrave åŸå§‹è¿”å›: Some([0, 1, 2])
ğŸ” toJSON(): [0, 1, 2]
ğŸ” isSome: true
ğŸ” è§£æåçš„é€è€…IDåˆ—è¡¨: [0, 1, 2]
```

### æ–¹æ³• 2ï¼šé€šè¿‡ Polkadot.js Apps æŸ¥è¯¢

#### æ­¥éª¤ 1ï¼šè®¿é—® Polkadot.js Apps

```
https://polkadot.js.org/apps/?rpc=ws://127.0.0.1:9944#/chainstate
```

#### æ­¥éª¤ 2ï¼šæŸ¥è¯¢å¢“åœ°ä¿¡æ¯

1. é€‰æ‹© `stardust_grave` â†’ `graves(u64)`
2. è¾“å…¥å¢“åœ°IDï¼ˆå¦‚ `0`ï¼‰
3. ç‚¹å‡» `+` æŸ¥è¯¢

**é¢„æœŸè¾“å‡º**:
```json
{
  "parkId": null,
  "owner": "5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY",
  "adminGroup": null,
  "name": "0x516d...",
  "deceasedTokens": [],  // âš ï¸ å¦‚æœä¸ºç©ºï¼Œè¯´æ˜æ²¡æœ‰é€è€…
  "isPublic": true,
  "active": true
}
```

#### æ­¥éª¤ 3ï¼šæŸ¥è¯¢é€è€…ç´¢å¼•

1. é€‰æ‹© `deceased` â†’ `deceasedByGrave(u64)`
2. è¾“å…¥å¢“åœ°IDï¼ˆå¦‚ `0`ï¼‰
3. ç‚¹å‡» `+` æŸ¥è¯¢

**é¢„æœŸè¾“å‡º**:

- **æœ‰é€è€…**: `[0, 1, 2]`ï¼ˆé€è€…IDæ•°ç»„ï¼‰
- **æ— é€è€…**: `null`ï¼ˆOptionQueryè¿”å›Noneï¼‰

#### æ­¥éª¤ 4ï¼šæŸ¥è¯¢é€è€…è¯¦æƒ…

å¦‚æœæ­¥éª¤3è¿”å›äº†IDåˆ—è¡¨ï¼Œç»§ç»­æŸ¥è¯¢è¯¦æƒ…ï¼š

1. é€‰æ‹© `deceased` â†’ `deceasedOf(u64)`
2. è¾“å…¥é€è€…IDï¼ˆå¦‚ `0`ï¼‰
3. ç‚¹å‡» `+` æŸ¥è¯¢

**é¢„æœŸè¾“å‡º**:
```json
{
  "owner": "5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY",
  "graveId": 0,
  "name": "0x...",
  "gender": "M",
  "birthTs": "19811224",
  "deathTs": "20250901",
  "deceasedToken": "M1981122420250901LIUXIAODONG",
  "version": 1,
  "updatedAt": 12345,
  "mainImageCid": null,
  "nameFullCid": null,
  "links": []
}
```

### æ–¹æ³• 3ï¼šé€šè¿‡ Curl ç›´æ¥æŸ¥è¯¢ RPC

```bash
# æŸ¥è¯¢ DeceasedByGrave
curl -H "Content-Type: application/json" \
     -d '{"id":1,"jsonrpc":"2.0","method":"state_getStorage","params":["0x..."]}' \
     http://127.0.0.1:9944
```

ï¼ˆéœ€è¦æ‰‹åŠ¨è®¡ç®—å­˜å‚¨é”®çš„å“ˆå¸Œå€¼ï¼Œè¾ƒä¸ºå¤æ‚ï¼Œæ¨èä½¿ç”¨æ–¹æ³•1æˆ–2ï¼‰

---

## ğŸ› å·²çŸ¥é—®é¢˜ä¸é™åˆ¶

### 1. å¢“åœ°å®¹é‡é™åˆ¶ï¼ˆå·²éƒ¨åˆ†è§£å†³ï¼‰

**æ—§è®¾è®¡ï¼ˆå·²åºŸå¼ƒï¼‰**:
- `deceased_tokens` å­—æ®µé™åˆ¶æœ€å¤š6ä¸ªé€è€…
- è¶…å‡ºåæ— æ³•æ·»åŠ æ–°é€è€…

**æ–°è®¾è®¡ï¼ˆPhase 1.5ï¼‰**:
- `DeceasedByGrave` æ”¹ä¸º `Vec`ï¼Œæ— ç¡¬ä¸Šé™
- ä»…é€šè¿‡ç»æµé—¨æ§›é™åˆ¶ï¼ˆæ¯äººçº¦ 10 DUST åˆ›å»ºè´¹ç”¨ï¼‰
- å‰ç«¯éœ€å®ç°åˆ†é¡µåŠ è½½

### 2. å‰ç«¯æ˜¾ç¤ºä¼˜åŒ–å»ºè®®

#### é—®é¢˜ï¼šç©ºçŠ¶æ€æç¤ºä¸å¤Ÿå‹å¥½

å½“å‰æç¤ºï¼š"æš‚æ— é€è€…"

**å»ºè®®ä¼˜åŒ–**:

```typescript
// GraveDetailPage.tsx ç¬¬649è¡Œ
{activeTab === 'deceased' && (
  <>
    {deceased.length === 0 ? (
      <Empty
        image={Empty.PRESENTED_IMAGE_SIMPLE}
        description={
          <Space direction="vertical">
            <span>è¯¥çºªå¿µé¦†æš‚æ— é€è€…æ¡£æ¡ˆ</span>
            {graveInfo?.owner === current && (
              <Button 
                type="primary" 
                onClick={() => window.location.hash = `#/deceased/create?grave_id=${graveId}`}
              >
                åˆ›å»ºé€è€…æ¡£æ¡ˆ
              </Button>
            )}
          </Space>
        }
      />
    ) : (
      <List
        bordered
        loading={loading}
        dataSource={deceased}
        renderItem={(it)=> (
          // ... ç°æœ‰é€»è¾‘
        )}
      />
    )}
  </>
)}
```

#### é—®é¢˜ï¼šåˆ›å»ºé€è€…å…¥å£ä¸æ˜æ˜¾

**å»ºè®®**: åœ¨è¯¦æƒ…é¡µé¡¶éƒ¨æ·»åŠ å¿«æ·æŒ‰é’®

```typescript
// GraveDetailPage.tsx ç¬¬589-642è¡Œï¼ˆæ“ä½œæŒ‰é’®åŒºåŸŸï¼‰
<div className="grave-detail-actions">
  {/* æ–°å¢ï¼šåˆ›å»ºé€è€…æŒ‰é’® */}
  {graveInfo?.owner === current && (
    <button 
      className="grave-action-btn grave-action-btn-primary"
      onClick={() => {
        localStorage.setItem('mp.deceased.targetGraveId', String(graveId))
        window.location.hash = '#/deceased/create'
      }}
    >
      <span>â•</span>
      <span>åˆ›å»ºé€è€…æ¡£æ¡ˆ</span>
    </button>
  )}
  
  {/* ç°æœ‰æŒ‰é’® */}
  <button className="grave-action-btn" onClick={...}>...</button>
</div>
```

### 3. æ€§èƒ½ä¼˜åŒ–å»ºè®®

#### é—®é¢˜ï¼šé€è€…æ•°é‡è¿‡å¤šæ—¶åŠ è½½ç¼“æ…¢

**ç°çŠ¶**: ä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰é€è€…ï¼ˆæ— åˆ†é¡µï¼‰

**å»ºè®®**: å®ç°åˆ†é¡µåŠ è½½

```typescript
// åç«¯ï¼ˆé“¾ä¸Šï¼‰å·²æ”¯æŒæ— é™é€è€…ï¼Œå‰ç«¯éœ€è¦åˆ†é¡µ
const PAGE_SIZE = 20;

const [page, setPage] = useState(1);
const [totalDeceased, setTotalDeceased] = useState(0);

// ä¿®æ”¹ loadAll å‡½æ•°
const loadAll = React.useCallback(async (gid: number, page: number) => {
  // ... ç°æœ‰é€»è¾‘ ...
  
  const listAny: any = await dq.deceasedByGrave(gid)
  const allIds: any[] = Array.isArray(listAny) ? listAny as any : ((listAny?.toJSON?.() as any[]) || [])
  
  setTotalDeceased(allIds.length)
  
  // åˆ†é¡µåˆ‡ç‰‡
  const startIdx = (page - 1) * PAGE_SIZE
  const endIdx = startIdx + PAGE_SIZE
  const pageIds = allIds.slice(startIdx, endIdx)
  
  if (!pageIds.length) { 
    setDeceased([]); 
    return 
  }
  
  const details: any[] = await dq.deceasedOf.multi(pageIds)
  // ... è§£æé€»è¾‘ ...
}, [])

// UI æ¸²æŸ“
<List
  bordered
  loading={loading}
  dataSource={deceased}
  pagination={{
    current: page,
    pageSize: PAGE_SIZE,
    total: totalDeceased,
    onChange: (newPage) => {
      setPage(newPage)
      loadAll(graveId!, newPage)
    }
  }}
  renderItem={(it)=> (...)}
/>
```

---

## ğŸ“Š æµ‹è¯•æ¸…å•

### å‰ç½®æ¡ä»¶

- [ ] æœ¬åœ°é“¾å·²å¯åŠ¨ï¼ˆ`./target/release/node-template --dev`ï¼‰
- [ ] å‰ç«¯å·²å¯åŠ¨ï¼ˆ`cd stardust-dapp && npm run dev`ï¼‰
- [ ] å·²åˆ›å»ºè‡³å°‘ä¸€ä¸ªé’±åŒ…è´¦æˆ·
- [ ] å·²åˆ›å»ºè‡³å°‘ä¸€ä¸ªå¢“åœ°ï¼ˆ`#/grave/create`ï¼‰

### æµ‹è¯•æ­¥éª¤

#### 1. ç©ºå¢“åœ°æµ‹è¯•

1. [ ] è®¿é—® `#/grave/detail?gid=0`ï¼ˆå‡è®¾å¢“åœ°IDä¸º0ï¼‰
2. [ ] ç¡®è®¤æ˜¾ç¤º"æš‚æ— é€è€…"
3. [ ] æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ŒæŸ¥çœ‹æ—¥å¿—ï¼š`ğŸ” è§£æåçš„é€è€…IDåˆ—è¡¨: []`

#### 2. åˆ›å»ºé€è€…æµ‹è¯•

1. [ ] è®¿é—® `#/deceased/create`
2. [ ] å¡«å†™è¡¨å•ï¼š
   - Grave ID: `0`
   - å§“å: `æµ‹è¯•é€è€…`
   - æ€§åˆ«: `ç”·`
   - å‡ºç”Ÿæ—¥æœŸ: `19800101`
   - ç¦»ä¸–æ—¥æœŸ: `20241101`
3. [ ] æäº¤äº¤æ˜“å¹¶ç­‰å¾…ç¡®è®¤
4. [ ] ç¡®è®¤æµè§ˆå™¨æ˜¾ç¤ºæˆåŠŸæç¤ºï¼ˆå¦‚"å·²æäº¤ï¼š0x..."ï¼‰

#### 3. éªŒè¯æ˜¾ç¤ºæµ‹è¯•

1. [ ] è¿”å› `#/grave/detail?gid=0`
2. [ ] ç¡®è®¤"é€è€…ä¿¡æ¯"æ ‡ç­¾é¡µæ˜¾ç¤º1æ¡è®°å½•
3. [ ] ç‚¹å‡»é€è€…å¡ç‰‡ï¼Œç¡®è®¤å¼¹çª—æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
4. [ ] ç¡®è®¤æ˜¾ç¤ºå­—æ®µï¼š
   - [ ] å§“å: `æµ‹è¯•é€è€…`
   - [ ] æ€§åˆ«: `ç”·`
   - [ ] å‡ºç”Ÿ: `19800101`
   - [ ] ç¦»ä¸–: `20241101`
   - [ ] Token: `M1980010120241101...`

#### 4. å¤šé€è€…æµ‹è¯•

1. [ ] é‡å¤æ­¥éª¤2ï¼Œåˆ›å»ºç¬¬2ä¸ªé€è€…ï¼ˆä¸åŒå§“åï¼‰
2. [ ] è¿”å›è¯¦æƒ…é¡µï¼Œç¡®è®¤æ˜¾ç¤º2æ¡è®°å½•
3. [ ] åˆ›å»ºç¬¬3ã€4ã€5ä¸ªé€è€…
4. [ ] ç¡®è®¤å…¨éƒ¨æ­£å¸¸æ˜¾ç¤ºï¼ˆæ— å®¹é‡é™åˆ¶ï¼‰

#### 5. è·¨æµè§ˆå™¨æµ‹è¯•

- [ ] Chrome/Edge: æ­£å¸¸æ˜¾ç¤º
- [ ] Firefox: æ­£å¸¸æ˜¾ç¤º
- [ ] Safari: æ­£å¸¸æ˜¾ç¤º
- [ ] ç§»åŠ¨ç«¯æµè§ˆå™¨: æ­£å¸¸æ˜¾ç¤ºï¼ˆå“åº”å¼é€‚é…ï¼‰

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

### é“¾ç«¯æ–‡æ¡£
- [pallets/stardust-grave/README.md](../pallets/stardust-grave/README.md) - å¢“åœ°ç®¡ç†
- [pallets/deceased/README.md](../pallets/deceased/README.md) - é€è€…æ¡£æ¡ˆç®¡ç†

### å‰ç«¯é¡µé¢
- `stardust-dapp/src/features/grave/GraveDetailPage.tsx` - çºªå¿µé¦†è¯¦æƒ…é¡µ
- `stardust-dapp/src/features/deceased/CreateDeceasedPage.tsx` - åˆ›å»ºé€è€…é¡µé¢
- `stardust-dapp/src/features/grave/CreateGravePage.tsx` - åˆ›å»ºå¢“åœ°é¡µé¢

### API æ¥å£
- æŸ¥è¯¢æ¥å£: `api.query.deceased.deceasedByGrave(graveId)`
- åˆ›å»ºæ¥å£: `api.tx.deceased.createDeceased(...)`

---

## âœ… å¿«é€Ÿè§£å†³æ­¥éª¤ï¼ˆTL;DRï¼‰

1. **ç¡®è®¤é—®é¢˜**: å¢“åœ°å†…æ˜¯å¦çœŸçš„æ²¡æœ‰é€è€…ï¼Ÿ
   ```bash
   # Polkadot.js Apps â†’ Chain state â†’ deceased â†’ deceasedByGrave(0)
   # è¿”å› null æˆ– [] è¯´æ˜ç¡®å®æ²¡æœ‰é€è€…
   ```

2. **åˆ›å»ºé€è€…**: è®¿é—®åˆ›å»ºé¡µé¢
   ```
   http://127.0.0.1:5173/#/deceased/create
   ```

3. **å¡«å†™å¿…å¡«å­—æ®µ**: grave_idã€nameã€gender

4. **æäº¤äº¤æ˜“**: ç­‰å¾…ç¡®è®¤ï¼ˆçº¦6-12ç§’ï¼‰

5. **åˆ·æ–°è¯¦æƒ…é¡µ**: è¿”å› `#/grave/detail?gid=X`ï¼Œåº”è¯¥èƒ½çœ‹åˆ°é€è€…äº†ï¼

---

## ğŸ¯ æ€»ç»“

**é—®é¢˜æœ¬è´¨**: å¢“åœ°åˆ›å»ºåé»˜è®¤ä¸ºç©ºï¼Œéœ€è¦å•ç‹¬åˆ›å»ºé€è€…æ¡£æ¡ˆã€‚

**è§£å†³æ–¹æ¡ˆ**: é€šè¿‡ `#/deceased/create` é¡µé¢åˆ›å»ºé€è€…ï¼Œå¡«å†™å¿…è¦ä¿¡æ¯å¹¶æäº¤äº¤æ˜“ã€‚

**è®¾è®¡åˆç†æ€§**: âœ… è¿™æ˜¯æ­£ç¡®çš„è®¾è®¡ï¼
- å¢“åœ°ï¼ˆgraveï¼‰å’Œé€è€…ï¼ˆdeceasedï¼‰è§£è€¦ï¼Œç¬¦åˆä½è€¦åˆåŸåˆ™
- å…è®¸çµæ´»ç®¡ç†ï¼šå…ˆå»ºå¢“åœ°ï¼Œåç»­é€æ­¥æ·»åŠ é€è€…æ¡£æ¡ˆ
- æ”¯æŒè·¨å¢“åœ°è¿ç§»é€è€…ï¼ˆ`transfer_deceased`ï¼‰

**å‰ç«¯ä¼˜åŒ–å»ºè®®**:
1. æ·»åŠ "åˆ›å»ºé€è€…"å¿«æ·å…¥å£
2. ä¼˜åŒ–ç©ºçŠ¶æ€æç¤ºæ–‡æ¡ˆ
3. å®ç°åˆ†é¡µåŠ è½½ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰
4. æ·»åŠ è°ƒè¯•æ—¥å¿—ï¼ˆå¼€å‘ç¯å¢ƒï¼‰

---

**ç»´æŠ¤è€…**: Stardust å¼€å‘å›¢é˜Ÿ  
**æœ€åæ›´æ–°**: 2025-11-08  
**æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0

