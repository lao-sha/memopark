# 社区治理指南

## 🏛 治理框架

Stardust 采用链上治理模式，所有重要决策都通过社区投票决定。

### 治理层级

1. **DUST 持有者** - 基础投票权
2. **理事会成员** - 提案筛选和快速响应
3. **技术委员会** - 紧急修复和技术决策

## 📋 提案类型

### 1. 桥接管理提案

**ProposalType::SetBridgeAccount**
- 设置或更新桥接多签账户
- 需要: 66.67% 赞成 + 30% 投票率
- 时间锁: 48 小时

**ProposalType::EmergencyPause**
- 紧急暂停桥接功能
- 需要: 50% 赞成 + 10% 投票率（快速通道）
- 时间锁: 无（立即生效）

**ProposalType::ResumeBridge**
- 恢复桥接功能
- 需要: 66.67% 赞成 + 30% 投票率
- 时间锁: 24 小时

**ProposalType::AdjustLimits**
- 调整桥接金额限制
- 需要: 51% 赞成 + 20% 投票率
- 时间锁: 24 小时

**ProposalType::WithdrawFunds**
- 从桥接账户提取资金（紧急情况）
- 需要: 75% 赞成 + 40% 投票率
- 时间锁: 72 小时

### 2. AI 交易策略提案

**参数调整**:
- OCW 更新频率
- NAV 计算方法
- 风险参数

**策略变更**:
- 启用/禁用特定策略
- 添加新的交易信号源
- 调整资金分配

### 3. 经济参数提案

**代币经济**:
- 通胀率调整
- 手续费比例
- 质押奖励

**流动性激励**:
- 流动性挖矿参数
- 奖励分配比例
- 激励期限

## 🗳 投票流程

### 第一步：创建提案

#### 通过 Polkadot.js Apps

1. 访问 https://polkadot.js.org/apps/
2. 连接到 Stardust 网络
3. 导航到 "Governance" → "Proposals"
4. 点击 "Submit Proposal"

#### 参数填写

```javascript
// 示例：暂停桥接提案
api.tx.dustBridge.createProposal(
  ProposalType::EmergencyPause,
  "QmXxx...", // IPFS CID (提案详情)
  [] // 参数（如果需要）
).signAndSend(account);
```

#### 提案描述（IPFS）

创建提案详情 JSON:

```json
{
  "title": "紧急暂停桥接 - 发现潜在安全问题",
  "description": "由于发现潜在的安全漏洞，建议立即暂停桥接功能，直到问题修复。",
  "rationale": "安全第一，保护用户资金。",
  "impact": "桥接功能将暂时不可用，预计修复时间 24-48 小时。",
  "proposer": "5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY",
  "created_at": "2025-11-05T10:00:00Z"
}
```

上传到 IPFS:

```bash
ipfs add proposal.json
# 返回: QmXxx...
```

#### 质押押金

创建提案需要质押一定量的 DUST（默认 10,000 DUST）。

### 第二步：社区讨论

**讨论渠道**:
1. Discord #governance 频道
2. 论坛（forum.stardust.network）
3. GitHub Discussions

**讨论期**: 通常 3-7 天

**讨论要点**:
- 提案的必要性
- 潜在影响分析
- 替代方案
- 实施细节

### 第三步：投票

#### 投票选项

- **Aye (赞成)**: 支持提案
- **Nay (反对)**: 反对提案
- **Abstain (弃权)**: 不表态

#### 投票权重

投票权重 = 持有的 DUST 数量

#### 通过 Polkadot.js 投票

```javascript
api.tx.dustBridge.vote(
  proposalId,      // 提案 ID
  VoteOption::Aye  // 投票选项
).signAndSend(account);
```

#### 投票期

默认投票期：**7 天**（可通过治理调整）

### 第四步：执行提案

#### 自动执行

投票通过后，任何人都可以触发执行：

```javascript
api.tx.dustBridge.executeProposal(proposalId).signAndSend(account);
```

#### 执行条件

1. 投票期已结束
2. 达到最小投票率（如 30%）
3. 达到批准阈值（如 66.67%）
4. 时间锁期满（如果有）

#### 执行结果

- ✅ **Executed**: 提案已执行
- ❌ **Rejected**: 提案被拒绝（未达到阈值）
- ⏰ **Pending**: 等待时间锁到期

## 👥 理事会机制

### 理事会组成

- 成员数量: 5-9 人
- 选举方式: DUST 持有者投票
- 任期: 6 个月（可连任）

### 理事会职责

1. **提案筛选**: 过滤明显不合理的提案
2. **快速响应**: 紧急情况下快速决策
3. **社区协调**: 组织讨论和征集意见
4. **执行监督**: 监督提案执行情况

### 理事会投票

对于某些类型的提案，理事会可以：
- 加速投票流程
- 使用较低的通过阈值
- 跳过时间锁（紧急情况）

```javascript
// 理事会批准提案
api.tx.collective.propose(
  threshold,  // 需要的理事会成员数
  proposal,   // 要批准的提案
  lengthBound // 提案数据长度上限
).signAndSend(councilMember);
```

## 📊 治理参数

### 当前参数（可通过治理调整）

| 参数 | 值 | 说明 |
|---|---|---|
| 提案押金 | 10,000 DUST | 创建提案所需 |
| 投票期 | 7 天 | 投票持续时间 |
| 批准阈值 | 66.67% | 赞成票比例 |
| 最小投票率 | 30% | 参与投票的最小比例 |
| 时间锁期 | 48 小时 | 提案通过后等待时间 |

### 特殊提案的参数

| 提案类型 | 批准阈值 | 最小投票率 | 时间锁 |
|---|---|---|---|
| 紧急暂停 | 50% | 10% | 无 |
| 恢复桥接 | 66.67% | 30% | 24h |
| 提取资金 | 75% | 40% | 72h |
| 参数调整 | 51% | 20% | 24h |

## 🔍 透明度和审计

### 链上记录

所有治理活动都记录在链上：
- 提案创建
- 投票记录
- 执行结果
- 审计日志

### 查询工具

```javascript
// 查询所有提案
const proposals = await api.query.dustBridge.proposals.entries();

// 查询特定提案
const proposal = await api.query.dustBridge.proposals(proposalId);

// 查询投票记录
const votes = await api.query.dustBridge.votes.entries(proposalId);

// 查询审计日志
const auditLogs = await api.query.dustBridge.auditRecords.entries();
```

### 数据可视化

治理仪表板应显示：
- 活跃提案列表
- 投票统计（实时）
- 历史提案归档
- 投票参与率趋势
- 治理代币分布

## 📢 治理通信

### 官方渠道

1. **Discord** - 实时讨论
   - #announcements: 重要公告
   - #governance: 治理讨论
   - #proposals: 提案讨论

2. **论坛** - 深度讨论
   - 提案预讨论
   - 技术分析
   - 社区反馈

3. **Twitter** - 公告和更新
   - 新提案通知
   - 投票提醒
   - 执行结果

4. **Newsletter** - 定期总结
   - 每周治理摘要
   - 即将到期的投票
   - 已执行的提案

### 提案模板

```markdown
## 提案标题
[紧急/常规] [类别] 简短描述

## 摘要
一句话概括提案内容

## 背景
为什么需要这个提案？当前存在什么问题？

## 提案内容
具体要做什么？技术细节？

## 影响分析
- 正面影响
- 负面影响
- 风险评估

## 替代方案
还有其他解决方法吗？为什么选择这个方案？

## 实施计划
如果通过，将如何执行？时间表？

## 预算（如适用）
需要多少资金？用于什么？

## 附加资源
- 相关链接
- 技术文档
- 参考资料
```

## 🎯 治理最佳实践

### 对于提案者

1. **充分准备**: 提供详细的提案说明
2. **社区讨论**: 在正式提案前征求意见
3. **技术审查**: 确保技术方案可行
4. **影响评估**: 全面分析潜在影响
5. **及时回应**: 积极回答社区疑问

### 对于投票者

1. **了解提案**: 仔细阅读提案详情
2. **参与讨论**: 在讨论期提出问题
3. **理性投票**: 基于事实和逻辑投票
4. **积极参与**: 不要浪费投票权

### 对于社区

1. **保持活跃**: 关注治理动态
2. **建设性讨论**: 尊重不同意见
3. **监督执行**: 确保提案按计划执行
4. **持续改进**: 反思和优化治理流程

## ✅ 治理检查清单

### 创建提案前
- [ ] 在社区讨论区发起预讨论
- [ ] 收集社区反馈
- [ ] 准备详细的提案文档
- [ ] 上传提案到 IPFS
- [ ] 准备提案押金

### 投票期间
- [ ] 在所有渠道公告提案
- [ ] 回答社区疑问
- [ ] 提供必要的技术说明
- [ ] 定期发布投票进度

### 提案通过后
- [ ] 等待时间锁到期
- [ ] 执行提案
- [ ] 验证执行结果
- [ ] 发布执行报告
- [ ] 归档提案记录

## 📚 参考资源

- [Polkadot 治理指南](https://wiki.polkadot.network/docs/learn-governance)
- [Kusama 治理案例](https://kusama.network/governance)
- [OpenGov 最佳实践](https://wiki.polkadot.network/docs/learn-opengov)

---

**重要提醒**: 治理是Stardust 的核心。每一票都很重要，请积极参与！

