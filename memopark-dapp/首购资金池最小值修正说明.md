# é¦–è´­èµ„é‡‘æ± æœ€å°å€¼ä¿®æ­£è¯´æ˜

## é—®é¢˜æè¿°

ç”¨æˆ·åœ¨æäº¤åšå¸‚å•†ç”³è¯·æ—¶é‡åˆ°é”™è¯¯ï¼š
```
marketMaker.InsufficientFirstPurchasePool: ğŸ†• é¦–è´­èµ„é‡‘æ± é‡‘é¢ä¸è¶³
```

## é—®é¢˜åŸå› 

å‰ç«¯è¡¨å•éªŒè¯çš„æœ€å°å€¼ä¸é“¾ç«¯é…ç½®ä¸ä¸€è‡´ï¼š

| é…ç½®é¡¹ | åŸå‰ç«¯å€¼ | é“¾ç«¯å®é™…å€¼ | å·®å¼‚ |
|--------|---------|-----------|------|
| é¦–è´­èµ„é‡‘æ± æœ€å°å€¼ | 10,000 MEMO | 10,000,000 MEMO | **ç›¸å·® 1000 å€** |

### é“¾ç«¯é…ç½®
```rust
// runtime/src/configs/mod.rs
pub const MarketMakerMinFirstPurchasePool: Balance = 10_000_000_000_000_000_000; // 10000 UNIT

// MEMO ä½¿ç”¨ 12 ä½å°æ•°ï¼š1 MEMO = 1,000,000,000,000
// 10_000_000_000_000_000_000 / 1_000_000_000_000 = 10,000,000 MEMO
```

## ä¿®å¤å†…å®¹

### 1. å‰ç«¯è¡¨å•éªŒè¯ âœ…

**æ–‡ä»¶**: `memopark-dapp/src/features/otc/CreateMarketMakerPage.tsx`

**ä¿®æ”¹é¡¹**:
- âœ… è¡¨å•è§„åˆ™æœ€å°å€¼ï¼š`10000` â†’ `10000000`
- âœ… InputNumber æœ€å°å€¼ï¼š`10000` â†’ `10000000`
- âœ… æ­¥è¿›å€¼ï¼š`1000` â†’ `100000`
- âœ… å ä½ç¬¦ï¼š`"ä¾‹å¦‚ï¼š10000.00"` â†’ `"ä¾‹å¦‚ï¼š10000000.00ï¼ˆä¸€åƒä¸‡ï¼‰"`
- âœ… é¢å¤–è¯´æ˜ï¼šçªå‡ºæ˜¾ç¤ºæœ€å°å€¼ä¸ºä¸€åƒä¸‡ MEMO

### 2. å‰ç«¯éªŒè¯é€»è¾‘ âœ…

**æ–‡ä»¶**: `memopark-dapp/src/features/otc/CreateMarketMakerPage.tsx`

**ä¿®æ”¹**:
```typescript
// åŸä»£ç 
if (!(pool > 0)) throw new Error('é¦–è´­èµ„é‡‘æ± å¿…é¡»å¤§äº 0')

// ä¿®æ”¹å
if (!(pool >= 10000000)) throw new Error('é¦–è´­èµ„é‡‘æ± å¿…é¡»å¤§äºç­‰äº 10,000,000 MEMOï¼ˆä¸€åƒä¸‡ï¼‰')
```

### 3. æç¤ºè¯´æ˜æ›´æ–° âœ…

**æ–‡ä»¶**: `memopark-dapp/src/features/otc/CreateMarketMakerPage.tsx`

**ä¿®æ”¹**:
```tsx
<Alert type="info" showIcon message="Epay é…ç½®è¯´æ˜" 
  description={
    <>
      <p>â€¢ Epay ç”¨äºå¤„ç†æ³•å¸å……å€¼å¹¶è‡ªåŠ¨è½¬æ¢ä¸º MEMO</p>
      <p>â€¢ <strong>é¦–è´­èµ„é‡‘æ± æœ€ä½è¦æ±‚ 10,000,000 MEMOï¼ˆä¸€åƒä¸‡ï¼‰</strong></p>
      <p>â€¢ é¦–è´­èµ„é‡‘æ± ç”¨äºä¸ºæ–°ç”¨æˆ·æä¾›é¦–æ¬¡è´­ä¹°ä¼˜æƒ </p>
      ...
    </>
  }
/>
```

### 4. æ–‡æ¡£æ›´æ–° âœ…

**æ›´æ–°æ–‡ä»¶**:
- âœ… `/docs/åšå¸‚å•†epayé…ç½®æ›´æ–°è¯´æ˜.md`
- âœ… `/memopark-dapp/åšå¸‚å•†epayé…ç½®å¿«é€Ÿä½¿ç”¨æŒ‡å—.md`

**ä¿®æ”¹å†…å®¹**:
- æ‰€æœ‰æ¶‰åŠæœ€å°å€¼çš„åœ°æ–¹ç»Ÿä¸€æ”¹ä¸º `10,000,000 MEMOï¼ˆä¸€åƒä¸‡ï¼‰`
- ç¤ºä¾‹é‡‘é¢æ”¹ä¸º `10000000.00`
- å¼ºè°ƒæœ€å°å€¼è¦æ±‚

## ä¿®å¤åæ•ˆæœ

### è¡¨å•éªŒè¯
```
è¾“å…¥å€¼ < 10,000,000 MEMO â†’ æ˜¾ç¤ºé”™è¯¯ï¼šé¦–è´­èµ„é‡‘æ± æœ€å°‘ 10,000,000 MEMOï¼ˆä¸€åƒä¸‡ï¼‰
è¾“å…¥å€¼ >= 10,000,000 MEMO â†’ éªŒè¯é€šè¿‡ âœ…
```

### ç”¨æˆ·ä½“éªŒæ”¹å–„
1. **æ¸…æ™°çš„æœ€å°å€¼æç¤º**: è¡¨å•æ ‡ç­¾å’Œå ä½ç¬¦æ˜ç¡®æ ‡æ³¨"ä¸€åƒä¸‡"
2. **å‹å¥½çš„æ­¥è¿›å€¼**: æ”¹ä¸º 100,000ï¼Œæ–¹ä¾¿ç”¨æˆ·å¿«é€Ÿè°ƒæ•´
3. **è¯¦ç»†çš„é”™è¯¯æç¤º**: éªŒè¯å¤±è´¥æ—¶æ˜¾ç¤ºå…·ä½“çš„æœ€å°å€¼è¦æ±‚
4. **æ–‡æ¡£åŒæ­¥æ›´æ–°**: ç¡®ä¿ç”¨æˆ·æŒ‡å—ä¸å®é™…å®ç°ä¸€è‡´

## éªŒè¯æ­¥éª¤

1. **è®¿é—®ç”³è¯·é¡µé¢**:
   ```
   http://127.0.0.1:5173/#/otc/mm-apply
   ```

2. **å®Œæˆæ­¥éª¤1è´¨æŠ¼**

3. **åœ¨æ­¥éª¤2å¡«å†™èµ„æ–™**:
   - å¡«å†™ CIDã€è´¹ç‡ã€æœ€å°ä¸‹å•é¢
   - å¡«å†™ epay é…ç½®ï¼ˆç½‘å…³ã€ç«¯å£ã€PIDã€å¯†é’¥ï¼‰
   - **é¦–è´­èµ„é‡‘æ± è¾“å…¥ 10,000,000 æˆ–æ›´å¤§çš„å€¼**

4. **æäº¤éªŒè¯**:
   - å‰ç«¯éªŒè¯é€šè¿‡ âœ…
   - é“¾ç«¯éªŒè¯é€šè¿‡ âœ…
   - æäº¤æˆåŠŸ âœ…

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆè¦æ±‚è¿™ä¹ˆé«˜çš„æœ€å°å€¼ï¼Ÿ
A: é¦–è´­èµ„é‡‘æ± ç”¨äºä¸ºæ–°ç”¨æˆ·æä¾›é¦–æ¬¡è´­ä¹°æœåŠ¡ï¼Œéœ€è¦ç¡®ä¿æœ‰è¶³å¤Ÿçš„èµ„é‡‘æ”¯æŒå¤§é‡æ–°ç”¨æˆ·ã€‚10,000,000 MEMO å¯ä»¥æ”¯æŒï¼š
- æŒ‰æ¯æ¬¡ 100 MEMO è®¡ç®—ï¼Œå¯æ”¯æŒ 100,000 æ¬¡é¦–è´­
- ç¡®ä¿åšå¸‚å•†æœ‰è¶³å¤Ÿçš„æœåŠ¡èƒ½åŠ›
- ä¿è¯ç”¨æˆ·æƒç›Šå’ŒæœåŠ¡è´¨é‡

### Q: å¦‚æœæˆ‘çš„èµ„é‡‘ä¸å¤Ÿæ€ä¹ˆåŠï¼Ÿ
A: 
1. å¯ä»¥å…ˆä¸ç”³è¯·åšå¸‚å•†ï¼Œç§¯ç´¯æ›´å¤šèµ„é‡‘
2. ä¸å…¶ä»–æŠ•èµ„è€…åˆä½œï¼Œå…±åŒæä¾›èµ„é‡‘æ± 
3. è”ç³»é¡¹ç›®æ–¹äº†è§£æ˜¯å¦æœ‰å…¶ä»–åˆä½œæ–¹å¼

### Q: å……å€¼åçš„èµ„é‡‘å¯ä»¥æå–å—ï¼Ÿ
A: ä¸å¯ä»¥ã€‚å……å€¼åçš„èµ„é‡‘ç”± pallet è‡ªåŠ¨ç®¡ç†ï¼Œç”¨äºé¦–è´­æœåŠ¡ï¼Œç¡®ä¿ç”¨æˆ·æƒç›Šã€‚è¿™æ˜¯ä¿æŠ¤ç”¨æˆ·çš„é‡è¦æœºåˆ¶ã€‚

## æŠ€æœ¯ç»†èŠ‚

### é“¾ç«¯å¸¸é‡
```rust
// runtime/src/configs/mod.rs
pub const MarketMakerMinFirstPurchasePool: Balance = 10_000_000_000_000_000_000;
// 10000 UNIT = 10,000,000 MEMO (MEMO ä½¿ç”¨ 12 ä½å°æ•°)
```

### éªŒè¯é€»è¾‘
```rust
// pallets/market-maker/src/lib.rs
ensure!(
    first_purchase_pool >= T::MinFirstPurchasePool::get(),
    Error::<T>::InsufficientFirstPurchasePool
);
```

### å‰ç«¯æ ¼å¼åŒ–
```typescript
function formatMemoAmount(amount: number): string {
  const decimals = 12
  const raw = BigInt(Math.floor(amount * Math.pow(10, decimals)))
  return raw.toString()
}

// ç¤ºä¾‹ï¼š
// 10000000 MEMO â†’ "10000000000000000000" (é“¾ä¸Šæ ¼å¼)
```

## åç»­å»ºè®®

1. **é“¾ç«¯é…ç½®å¯è°ƒ**: è€ƒè™‘å°† `MinFirstPurchasePool` è®¾ä¸ºå¯æ²»ç†å‚æ•°ï¼Œå…è®¸é€šè¿‡ææ¡ˆè°ƒæ•´
2. **åˆ†çº§åšå¸‚å•†**: è€ƒè™‘å¼•å…¥ä¸åŒçº§åˆ«çš„åšå¸‚å•†ï¼Œå¯¹åº”ä¸åŒçš„èµ„é‡‘æ± è¦æ±‚
3. **èµ„é‡‘æ± ç®¡ç†**: æ·»åŠ èµ„é‡‘æ± ä½¿ç”¨æƒ…å†µçš„ç›‘æ§å’Œç»Ÿè®¡åŠŸèƒ½
4. **ç”¨æˆ·æç¤º**: åœ¨ç”³è¯·é¡µé¢æ·»åŠ èµ„é‡‘æ± è¦æ±‚çš„è¯¦ç»†è¯´æ˜å’Œè®¡ç®—å™¨

## ä¿®å¤æ—¶é—´

- **å‘ç°æ—¶é—´**: 2025-10-14
- **ä¿®å¤æ—¶é—´**: 2025-10-14
- **éªŒè¯é€šè¿‡**: 2025-10-14 âœ…

## ç›¸å…³æ–‡ä»¶

- é“¾ç«¯é…ç½®: `runtime/src/configs/mod.rs`
- é“¾ç«¯éªŒè¯: `pallets/market-maker/src/lib.rs`
- å‰ç«¯è¡¨å•: `memopark-dapp/src/features/otc/CreateMarketMakerPage.tsx`
- ä½¿ç”¨æ–‡æ¡£: `docs/åšå¸‚å•†epayé…ç½®æ›´æ–°è¯´æ˜.md`
- å¿«é€ŸæŒ‡å—: `memopark-dapp/åšå¸‚å•†epayé…ç½®å¿«é€Ÿä½¿ç”¨æŒ‡å—.md`

---

**ä¿®å¤äººå‘˜**: AI Assistant  
**å®¡æ ¸çŠ¶æ€**: âœ… å·²ä¿®å¤å¹¶éªŒè¯  
**æ›´æ–°æ—¥æœŸ**: 2025-10-14

