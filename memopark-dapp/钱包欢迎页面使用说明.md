# 钱包欢迎页面使用说明

## 快速访问

### 1. 启动开发服务器

```bash
cd /home/xiaodong/文档/memopark/memopark-dapp
npm run dev
```

服务器将运行在: **http://localhost:5173**

### 2. 访问欢迎页面

打开浏览器访问上述地址，首次访问将自动显示欢迎页面。

## 页面功能说明

### 欢迎页面元素

```
┌─────────────────────────────────────┐
│     丰富的链上支持                     │
│  Memopark 支持 Substrate 及主流区块链 │
│     高效安全快速便捷                   │
│                                     │
│         [动画代币图标展示]             │
│                                     │
│    ┌───────────────────────┐        │
│    │   🔵 创建钱包          │        │
│    └───────────────────────┘        │
│                                     │
│    ┌───────────────────────┐        │
│    │   🔄 恢复钱包          │        │
│    └───────────────────────┘        │
│                                     │
│     用户协议 | 隐私政策              │
└─────────────────────────────────────┘
```

### 操作流程

#### 新用户创建钱包

1. **点击"创建钱包"按钮**
   - 紫色渐变按钮，带加号图标
   
2. **进入创建钱包页面**
   - 点击"生成助记词"按钮
   - 系统自动生成 12 词助记词
   - 显示派生的钱包地址
   
3. **设置密码**
   - 输入至少 8 位密码
   - 密码用于本地加密助记词
   
4. **确认并创建**
   - 勾选用户协议
   - 点击"创建"按钮
   - **重要**: 备份助记词！
   
5. **跳转到登录页面**
   - 输入刚才设置的密码
   - 点击"登录"按钮
   
6. **进入主页**
   - 开始使用 Memopark DAPP

#### 老用户恢复钱包

1. **点击"恢复钱包"按钮**
   - 白色按钮，带刷新图标
   
2. **进入登录页面**
   - 滚动到"使用助记词 + 口令登录"区域
   
3. **输入助记词**
   - 粘贴或输入 12/24 词助记词
   - 系统会自动验证格式
   
4. **设置本地加密口令**
   - 输入至少 8 位口令
   - 再次输入确认口令
   
5. **点击"用助记词登录"**
   - 系统导入钱包到本地 keystore
   - 自动设置为当前账户
   
6. **进入主页**
   - 钱包恢复成功

#### 已有会话的用户

- **直接进入主页**
  - 系统检测到已有会话
  - 自动跳过欢迎页面
  - 直接显示主页内容

- **退出登录**
  - 在主页点击退出登录
  - 返回欢迎页面

## 设计特点

### 视觉效果

- **渐变背景**: 淡蓝色到白色的垂直渐变
- **动画效果**: 代币图标上下浮动动画
- **圆角设计**: 现代化的圆角按钮（12px）
- **阴影效果**: 增强视觉层次感

### 配色方案

| 元素 | 颜色 | 说明 |
|------|------|------|
| 主按钮 | 紫色渐变 (#667eea - #764ba2) | 创建钱包 |
| 次按钮 | 白色 + 灰色边框 | 恢复钱包 |
| 标题 | 蓝色 (#1890ff) | 主标题文字 |
| 中心图标 | 红色渐变 | 钱包主图标 |
| Bitcoin | 橙色渐变 | 代币图标 |
| MEMO | 紫色渐变 | 代币图标 |
| Polkadot | 粉色渐变 | 代币图标 |
| Ethereum | 蓝色渐变 | 代币图标 |

### 响应式设计

- **移动端优先**: 最大宽度 640px
- **居中显示**: 自动水平居中
- **全屏高度**: 最小高度 100vh
- **灵活布局**: Flex 垂直居中

## 多账户管理

### 本地账户列表

登录页面会显示所有本地保存的账户：

- **账户切换**: 点击账户按钮切换当前账户
- **账户重命名**: 点击"重命名"设置别名
- **账户备份**: 点击"备份"导出 JSON
- **账户删除**: 点击"删除"移除本地 keystore

### 导入导出

- **导出 JSON**: 备份钱包 keystore
- **导入 JSON**: 恢复之前备份的钱包
- **多账户支持**: 可同时管理多个钱包

## 安全提示

### ⚠️ 重要安全事项

1. **备份助记词**
   - 创建钱包后立即备份助记词
   - 助记词是恢复钱包的唯一凭证
   - 妥善保管，不要泄露给他人

2. **设置强密码**
   - 至少 8 位字符
   - 建议包含大小写字母、数字和符号
   - 不要使用生日、电话等易猜密码

3. **定期备份**
   - 使用"导出 JSON"功能定期备份
   - 将备份文件保存在安全位置
   - 多处备份，避免单点丢失

4. **验证地址**
   - 转账前仔细核对接收地址
   - 先小额测试，再大额转账
   - 注意区分测试网和主网

## 技术实现

### 组件结构

```
AuthEntryPage (认证入口)
├── WalletWelcomePage (欢迎页)
│   ├── onCreateWallet → 跳转创建页
│   └── onRestoreWallet → 跳转登录页
├── CreateWalletPage (创建钱包)
│   └── onCreated → 跳转登录页
└── LoginPage (登录/恢复)
    └── onSuccess → 跳转主页
```

### 状态管理

- **active**: 当前激活的页面 key
- **sessionManager**: 会话管理（检测已有会话）
- **localStorage**: 本地 keystore 存储

### 页面切换

- **welcome** → **create** → **login** → **home**
- **welcome** → **login** → **home**
- 已有会话 → **home**

## 故障排查

### 问题：页面空白

**解决方案**:
```bash
# 清除缓存
rm -rf node_modules/.vite
npm run dev
```

### 问题：按钮点击无响应

**检查**:
- 浏览器控制台是否有错误
- 确认 React 组件正常加载
- 检查 onClick 事件绑定

### 问题：助记词生成失败

**检查**:
- 确认 @polkadot/util-crypto 已安装
- 检查浏览器是否支持 WebCrypto API
- 查看控制台错误信息

## 开发调试

### 查看当前页面

```javascript
// 在浏览器控制台输入
console.log(window.location.hash)
```

### 手动切换页面

```javascript
// 触发页面切换事件
window.dispatchEvent(new CustomEvent('mp.nav', { 
  detail: { tab: 'welcome' } 
}))
```

### 清除会话

```javascript
// 清除本地会话
localStorage.removeItem('mp.session')
location.reload()
```

## 相关文件

### 源代码

- `src/features/auth/WalletWelcomePage.tsx` - 欢迎页面组件
- `src/features/auth/AuthEntryPage.tsx` - 认证入口页面
- `src/features/auth/CreateWalletPage.tsx` - 创建钱包页面
- `src/features/auth/LoginPage.tsx` - 登录/恢复页面

### 文档

- `docs/钱包欢迎页面实现说明.md` - 实现详细说明
- `钱包欢迎页面使用说明.md` - 本文档（用户指南）

## 总结

欢迎页面提供了简洁、美观、易用的钱包入口体验，符合现代移动 DAPP 的设计标准。用户可以方便地创建新钱包或恢复已有钱包，开始使用 Memopark 区块链应用。

