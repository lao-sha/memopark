# 创建纪念馆页面设计说明

> **设计参考**: 云上思念（https://m.yssn.cn）  
> **设计时间**: 2024-01-15  
> **页面路由**: `#/grave/create`

---

## 📋 设计目标

1. **简洁优雅** - 参考云上思念的简洁设计风格
2. **清晰引导** - 明确的步骤指示和操作说明
3. **用户友好** - 完善的提示信息和错误处理
4. **视觉统一** - 使用 Stardust 主题色系
5. **响应式布局** - 适配移动端、平板端、桌面端

---

## 🎨 页面结构

### 1. 顶部导航栏

**功能：**
- ✅ 返回按钮（带悬停效果）
- ✅ 页面标题居中显示
- ✅ 粘性定位，滚动时保持可见

**样式特点：**
- 渐变背景：`linear-gradient(135deg, #FFFFFF 0%, #FEFAF5 100%)`
- 阴影效果：`0 2px 12px rgba(47, 79, 79, 0.08)`
- 底部边框：深金色装饰线

### 2. 进度指示器

**功能：**
- ✅ 显示创建流程的当前步骤
- ✅ 三个步骤：填写信息 → 提交上链 → 创建完成

**样式特点：**
- 卡片化设计，带圆角和阴影
- 进行中步骤使用深金色渐变
- 完成步骤使用墨绿色渐变
- 悬停时有轻微动画效果

### 3. 提示信息区域

**包含两个 Alert 卡片：**

**信息提示（蓝色系）：**
- 名称为公开数据
- 使用真实姓名
- 提交后无法修改

**费用说明（红色系）：**
- 一次性创建费用
- 链上交易费说明
- 突出显示费用金额

**样式特点：**
- 渐变背景
- 圆角设计（12px）
- 悬停上浮效果

### 4. 创建表单

**表单字段：**

1. **园区ID（可选）**
   - 输入框类型：数字
   - 提示：留空表示暂不隶属园区
   - 额外说明：后续可在管理页面设置

2. **逝者姓名（必填）**
   - 输入框类型：文本
   - 必填标记（红色星号）
   - 长度限制：根据链上常量
   - 字节数提示
   - 占位符：请输入逝者姓名（如：张三）

**提交按钮：**
- 大尺寸（48px 高）
- 圆角设计（24px）
- 深金色渐变背景
- 悬停时渐变反转和上浮
- 禁用状态变灰

**快捷链接：**
- 直接创建逝者档案
- 文字链接样式
- 悬停变色

### 5. 使用说明卡片

**创建流程说明：**
1. 填写基本信息
2. 确认并提交
3. 获得纪念馆ID
4. 完善信息

**样式特点：**
- 步骤编号：圆形，深金色渐变
- 步骤内容：标题 + 描述
- 悬停时整体右移
- 背景色微调

**注意事项列表：**
- 自定义列表样式
- 深金色圆点标记
- 清晰的文字说明

### 6. 密码确认弹窗

**功能：**
- 输入钱包密码
- 确认创建
- 加载状态显示

**样式特点：**
- 圆角设计
- 标题居中
- 深金色确认按钮
- 密码输入框带焦点效果

---

## 🎨 视觉设计特点

### 色彩方案

1. **主色调**
   - 深金色：`#B8860B`
   - 墨绿色：`#2F4F4F`
   - 朱红色：`#DC143C`
   - 米白色：`#F5F5DC`

2. **渐变效果**
   - 卡片背景：`linear-gradient(135deg, #FFFFFF 0%, #FEFAF5 100%)`
   - 按钮背景：`linear-gradient(135deg, #B8860B 0%, #D4AF37 100%)`
   - 步骤图标：`linear-gradient(135deg, #2F4F4F 0%, #5F9EA0 100%)`

3. **阴影层次**
   - 浅阴影：`0 2px 12px rgba(47, 79, 79, 0.08)`
   - 中阴影：`0 4px 16px rgba(47, 79, 79, 0.1)`
   - 深阴影：`0 6px 20px rgba(47, 79, 79, 0.12)`

### 交互效果

1. **悬停效果**
   - 卡片：上浮 + 阴影加深
   - 按钮：渐变反转 + 上浮
   - 步骤：右移 + 背景变深

2. **过渡动画**
   - 使用 `cubic-bezier(0.4, 0, 0.2, 1)` 缓动
   - 时长：0.3s - 0.6s
   - 错峰进入动画

3. **焦点状态**
   - 输入框焦点：深金色边框 + 光晕
   - 按钮按下：消除位移

---

## 📱 响应式设计

### 桌面端（> 768px）
- 最大宽度：800px
- 内边距：32px 24px
- 表单内边距：32px
- 按钮高度：48px

### 平板端（≤ 768px）
- 内边距：24px 16px
- 标题字号：18px
- 表单内边距：24px 20px

### 移动端（≤ 576px）
- 内边距：20px 12px
- 标题字号：17px
- 表单内边距：16px
- 按钮高度：44px
- 字号适当缩小

---

## 🔧 技术实现

### 核心功能

1. **表单验证**
   - 姓名必填
   - 字节长度校验
   - 园区ID可选

2. **链上交互**
   - 动态解析 pallet 名称
   - UTF-8 编码转换
   - 密码确认弹窗

3. **错误处理**
   - 钱包未找到：引导创建
   - 密码错误：提示重试
   - 网络错误：友好提示

4. **交互优化**
   - 本地密码弹窗
   - 加载状态显示
   - 成功后自动跳转

### 动画效果

1. **页面进入**
   - fadeInUp 动画
   - 时长：0.5s

2. **元素进入**
   - 错峰动画
   - 延迟：0.1s - 0.5s

3. **交互反馈**
   - 悬停：transform + shadow
   - 点击：active 状态

---

## 📝 用户体验优化

### 信息提示

1. **温馨提示**
   - 名称公开性说明
   - 真实姓名建议
   - 不可修改警告

2. **费用说明**
   - 创建费用金额
   - 交易费用提示
   - 余额要求说明

### 引导流程

1. **步骤可视化**
   - 进度条显示
   - 当前步骤高亮
   - 完成步骤标记

2. **操作指引**
   - 清晰的表单标签
   - 详细的额外说明
   - 占位符示例

### 错误处理

1. **前端验证**
   - 必填字段提示
   - 长度限制检查
   - 格式规范提示

2. **后端错误**
   - 钱包未找到
   - 密码错误
   - 网络异常
   - 余额不足

---

## ✅ 设计亮点

1. **视觉一致性**
   - 统一的主题色系
   - 协调的渐变效果
   - 连贯的设计语言

2. **交互流畅**
   - 流畅的过渡动画
   - 及时的反馈提示
   - 清晰的状态变化

3. **信息完整**
   - 详细的使用说明
   - 完善的提示信息
   - 清晰的流程指引

4. **用户友好**
   - 本地密码弹窗
   - 自动跳转管理页
   - 友好的错误提示

---

## 🔄 后续优化建议

1. **功能增强**
   - [ ] 添加园区选择下拉框
   - [ ] 支持上传逝者照片
   - [ ] 添加生辰忌日选择
   - [ ] 支持批量创建

2. **体验优化**
   - [ ] 添加表单进度保存
   - [ ] 支持草稿功能
   - [ ] 优化错误提示文案
   - [ ] 添加创建成功动画

3. **性能优化**
   - [ ] 表单字段懒加载
   - [ ] 优化动画性能
   - [ ] 减少重绘次数

---

## 📄 文件说明

**组件文件：** `src/features/grave/CreateGravePage.tsx`  
**样式文件：** `src/features/grave/CreateGravePage.css`  
**路由配置：** `#/grave/create`

---

**设计完成时间**: 2024-01-15  
**设计人员**: AI Assistant  
**参考来源**: 云上思念（https://m.yssn.cn）

