# Stardust 首页使用指南

## 快速开始

### 访问首页

1. **登录后访问**
   - 登录成功后会自动跳转到新版首页
   - 或者手动访问 `#/home`

2. **直接访问**
   - 在浏览器地址栏输入：`https://your-domain.com/#/home`
   - 点击底部导航栏的"首页"图标

3. **查看旧版首页**
   - 访问 `#/home-old` 可查看旧版首页
   - 在设置中可以切换默认首页

## 页面功能详解

### 1. Hero 横幅区域

**轮播图展示**
- 自动播放，每 5 秒切换一次
- 点击轮播图可跳转到对应的纪念馆或逝者页面
- 支持跳转类型：
  - 纪念馆详情（domain=1）
  - 逝者详情（domain=2）
  - 分类浏览（domain=3）
  - 外部链接

**默认欢迎界面**（无轮播图时显示）
- 展示平台标语和介绍
- 快速操作按钮：
  - "创建纪念馆"：跳转到创建页面
  - "探索更多"：浏览所有纪念馆

### 2. 统计数据卡片

展示平台核心数据：

| 指标 | 说明 | 图标 |
|------|------|------|
| 纪念馆总数 | 平台创建的纪念馆数量 | 📍 |
| 供奉次数 | 用户供奉的总次数 | 🎁 |
| 活跃用户 | 近期活跃的用户数 | 👤 |
| 珍贵记忆 | 记录的记忆条目数 | ❤️ |

**特点**：
- 实时更新（从链上获取）
- 悬停卡片会上浮
- 响应式布局（移动端 2 列，桌面端 4 列）

### 3. 快捷操作

四个核心功能快速入口：

#### 创建纪念馆 🏛️
- **功能**：为逝者创建永久的数字纪念馆
- **路由**：`#/grave/create`
- **权限**：需要登录

#### 我要供奉 🎁
- **功能**：为逝者献上虚拟供品（鲜花、蜡烛等）
- **路由**：`#/offerings/timeline`
- **权限**：公开访问

#### 探索纪念馆 🔍
- **功能**：浏览所有公开的纪念馆和逝者信息
- **路由**：`#/deceased/list`
- **权限**：公开访问

#### 我的纪念馆 💼
- **功能**：管理自己创建的纪念馆
- **路由**：`#/grave/my`
- **权限**：需要登录

**交互效果**：
- 悬停卡片会上浮 8px
- 图标圆圈使用渐变色
- 点击后平滑跳转

### 4. 平台特色

展示 Stardust 的四大核心优势：

#### 🔥 永久存储
- **技术**：基于 IPFS 去中心化存储
- **优势**：数据分布式存储，永不丢失

#### 🏆 区块链认证
- **技术**：Substrate 区块链
- **优势**：所有内容经过链上验证，真实可靠

#### 👥 亲友共建
- **功能**：多人协作完善逝者信息
- **优势**：汇聚亲友记忆，更完整的生平故事

#### ❤️ 虚拟供奉
- **功能**：在线供奉虚拟物品
- **优势**：随时随地表达哀思，无地域限制

### 5. 探索与发现

#### 热门纪念馆 🔥
- 展示最受欢迎的纪念馆
- 按访问量、供奉次数排序
- 点击卡片查看详情

#### 最近供奉记录 ⏰
- 实时展示供奉活动
- 显示供奉者、供品、时间
- 追踪社区互动

**布局**：
- 桌面端：左右分栏
- 移动端：上下堆叠

### 6. 底部信息

#### 关于我们
- 平台简介
- 使命与愿景

#### 快速链接
- 创建纪念馆
- 浏览纪念馆
- 供奉记录

#### 技术支持
- 区块链认证标签
- IPFS 存储标签
- 去中心化标签

#### 连接状态
- 区块链连接状态
- 当前钱包地址（简化显示）

## 响应式设计

### 移动端（< 576px）

- Hero 高度：240px
- 标题字体：28px
- 统计卡片：2 列布局
- 快捷操作：2 列布局
- 特色功能：1 列布局

### 平板端（576px - 768px）

- Hero 高度：280px
- 标题字体：32px
- 统计卡片：4 列布局
- 快捷操作：2 列布局
- 特色功能：2 列布局

### 桌面端（> 768px）

- Hero 高度：400px
- 标题字体：48px
- 统计卡片：4 列布局
- 快捷操作：4 列布局
- 特色功能：4 列布局

## 键盘快捷键

| 按键 | 功能 |
|------|------|
| `Tab` | 在可操作元素间切换 |
| `Enter` | 激活当前焦点元素 |
| `Esc` | 关闭弹窗或返回 |
| `↑` `↓` | 在列表中导航 |

## 无障碍支持

- **屏幕阅读器**：所有交互元素都有合适的 ARIA 标签
- **键盘导航**：支持完整的键盘操作
- **颜色对比度**：文字与背景对比度 ≥ 4.5:1
- **触摸区域**：移动端按钮最小 44x44px

## 性能优化

### 图片优化
- 轮播图建议尺寸：1200x400px
- 格式：WebP（支持回退到 JPG）
- 压缩：质量 80-85

### 加载策略
- 懒加载非首屏内容
- 预加载关键资源
- 代码分割（按路由）

### 缓存策略
- 统计数据缓存 5 分钟
- 轮播图缓存 1 小时
- 静态资源永久缓存

## 常见问题

### 轮播图不显示？

**可能原因**：
1. 链上未配置轮播图数据
2. 轮播图不在有效时间窗口内
3. IPFS 图片加载失败

**解决方案**：
1. 联系管理员配置轮播图
2. 检查 `start_block` 和 `end_block` 设置
3. 更换 IPFS 网关

### 统计数据不更新？

**可能原因**：
1. 区块链连接断开
2. 数据获取权限不足
3. 浏览器缓存问题

**解决方案**：
1. 检查区块链连接状态
2. 刷新页面重新加载
3. 清除浏览器缓存

### 快捷操作无法点击？

**可能原因**：
1. 需要登录权限
2. 页面加载未完成
3. JavaScript 错误

**解决方案**：
1. 先登录或创建钱包
2. 等待页面完全加载
3. 查看浏览器控制台错误

### 移动端样式错乱？

**可能原因**：
1. 视口设置不正确
2. CSS 未加载完成
3. 浏览器兼容性问题

**解决方案**：
1. 检查 `<meta name="viewport">` 设置
2. 强制刷新页面
3. 更新浏览器到最新版本

## 开发者信息

### 文件位置
```
stardust-dapp/src/features/home/
├── ModernHomePage.tsx      # 主组件
├── ModernHomePage.css      # 样式文件
└── HomePage.tsx            # 旧版首页
```

### 关键函数

#### loadCarousel()
加载并过滤轮播图数据
```typescript
const loadCarousel = async () => {
  // 从链上读取 carousel 数据
  // 过滤时间窗口
  // 更新状态
}
```

#### loadStats()
加载统计数据
```typescript
const loadStats = async () => {
  // 从链上读取统计数据
  // 更新状态
}
```

### 自定义配置

#### 修改快捷操作
编辑 `quickActions` 数组：
```typescript
const quickActions = [
  {
    key: 'custom',
    icon: <CustomIcon />,
    label: '自定义功能',
    description: '描述文字',
    color: '#FF6B6B',
    route: '#/custom',
    gradient: 'linear-gradient(...)'
  },
  // ...
]
```

#### 修改特色功能
编辑 `features` 数组：
```typescript
const features = [
  {
    icon: <CustomIcon />,
    title: '自定义特色',
    description: '描述文字'
  },
  // ...
]
```

## 反馈与支持

如有问题或建议，请通过以下方式联系我们：

- **GitHub Issues**：提交 Bug 报告或功能建议
- **社区论坛**：与其他用户交流
- **技术支持**：联系开发团队

---

**文档版本**: 1.0.0  
**最后更新**: 2025-11-06  
**维护者**: Stardust 开发团队

