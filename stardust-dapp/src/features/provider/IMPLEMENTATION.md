# å¤§å¸ˆå…¥é©»åŠŸèƒ½å®ç°æ–‡æ¡£

## ğŸ“ å®ç°æ¦‚è¿°

æœ¬æ¬¡å®ç°å®Œæˆäº†æ˜Ÿå°˜ç„å­¦å¹³å°çš„"å¤§å¸ˆå…¥é©»"åŠŸèƒ½MVPç‰ˆæœ¬ï¼ŒåŒ…æ‹¬å…¥é©»è¯´æ˜ã€æ³¨å†Œæµç¨‹ã€å¤§å¸ˆå·¥ä½œå°ç­‰æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ã€‚

## âœ… å·²å®ŒæˆåŠŸèƒ½

### 1. æ ¸å¿ƒé¡µé¢ (3ä¸ª)

#### 1.1 å…¥é©»è¯´æ˜é¡µ (`ProviderInfoPage.tsx`)
**è·¯ç”±**: `#/provider/info`

**åŠŸèƒ½ç‚¹**:
- âœ… å¹³å°ä¼˜åŠ¿å±•ç¤ºï¼ˆé«˜æ”¶å…¥ã€æ—¶é—´è‡ªç”±ã€ä¿éšœå®Œå–„ã€æˆé•¿ä½“ç³»ï¼‰
- âœ… è´¹ç‡è¯´æ˜è¡¨æ ¼ï¼ˆ5çº§ç­‰çº§ä½“ç³»ï¼Œ8%-20%è´¹ç‡ï¼‰
- âœ… æ”¶ç›Šè®¡ç®—å™¨ï¼ˆå®æ—¶è®¡ç®—æœˆæ”¶å…¥ï¼‰
- âœ… å…¥é©»æ¡ä»¶è¯´æ˜
- âœ… å¸¸è§é—®é¢˜FAQï¼ˆä¿è¯é‡‘ã€è´¹ç‡ã€ç­‰çº§ã€æš‚åœæ¥å•ã€æŠ•è¯‰å¤„ç†ï¼‰
- âœ… CTAå¼•å¯¼æŒ‰é’®

**è®¾è®¡äº®ç‚¹**:
- æ¸å˜è‰²æ¨ªå¹…å¸å¼•æ³¨æ„
- äº¤äº’å¼æ”¶ç›Šè®¡ç®—å™¨å¢å¼ºè½¬åŒ–
- è¯¦ç»†çš„FAQé™ä½ç”¨æˆ·ç–‘è™‘

#### 1.2 å¤§å¸ˆæ³¨å†Œé¡µ (`ProviderRegisterPage.tsx`)
**è·¯ç”±**: `#/provider/register`

**åŠŸèƒ½ç‚¹**:
- âœ… 4æ­¥éª¤åˆ†æ­¥å¼•å¯¼ï¼ˆåŸºç¡€ä¿¡æ¯ â†’ å åœç±»å‹ â†’ æ“…é•¿é¢†åŸŸ â†’ æ”¯ä»˜ä¿è¯é‡‘ï¼‰
- âœ… åŸºç¡€ä¿¡æ¯å¡«å†™ï¼ˆåç§°ã€ç®€ä»‹ï¼‰
- âœ… å¤šé€‰å åœç±»å‹ï¼ˆæ¢…èŠ±ã€å…«å­—ã€å…­çˆ»ã€å¥‡é—¨ã€ç´«å¾®ç­‰ï¼‰
- âœ… å¤šé€‰æ“…é•¿é¢†åŸŸï¼ˆäº‹ä¸šã€æ„Ÿæƒ…ã€è´¢è¿ã€å¥åº·ç­‰ï¼‰
- âœ… ä¿è¯é‡‘æ”¯ä»˜ï¼ˆ100 DUSTï¼‰
- âœ… ä¿¡æ¯ç¡®è®¤é¢„è§ˆ
- âœ… é“¾ä¸Šæäº¤ (`divinationMarket.registerProvider`)
- âœ… æˆåŠŸé¡µé¢å¼•å¯¼

**è®¾è®¡äº®ç‚¹**:
- è¿›åº¦æ¡æŒ‡ç¤ºå½“å‰æ­¥éª¤
- å¯è§†åŒ–æ ‡ç­¾é€‰æ‹©ï¼ˆTag.CheckableTagï¼‰
- å®Œæ•´çš„è¡¨å•éªŒè¯
- å‰åæ­¥éª¤å¯¼èˆª
- æˆåŠŸé¡µé¢æ˜ç¡®åç»­æ“ä½œ

#### 1.3 å¤§å¸ˆå·¥ä½œå° (`ProviderDashboardPage.tsx`)
**è·¯ç”±**: `#/provider/dashboard`

**åŠŸèƒ½ç‚¹**:
- âœ… é¡¶éƒ¨ä¸ªäººä¿¡æ¯å¡ç‰‡ï¼ˆåç§°ã€ç­‰çº§ã€è¯„åˆ†ã€å®Œæˆè®¢å•æ•°ï¼‰
- âœ… 4ä¸ªæ•°æ®ç»Ÿè®¡å¡ç‰‡ï¼ˆä»Šæ—¥æ”¶ç›Šã€å¾…æ¥è®¢å•ã€è¿›è¡Œä¸­ã€æœ¬æœˆå®Œæˆï¼‰
- âœ… 4ä¸ªæ ‡ç­¾é¡µè®¢å•åˆ—è¡¨ï¼ˆå¾…æ¥è®¢å•ã€è¿›è¡Œä¸­ã€å¾…è¯„ä»·ã€å†å²è®°å½•ï¼‰
- âœ… è®¢å•å¡ç‰‡å±•ç¤ºï¼ˆè®¢å•ä¿¡æ¯ã€é‡‘é¢ã€å åœç±»å‹ã€æ—¶é—´ï¼‰
- âœ… æ¥å•/æ‹’å•åŠŸèƒ½ï¼ˆé“¾ä¸Šè°ƒç”¨ï¼‰
- âœ… æäº¤è§£è¯»åŠŸèƒ½ï¼ˆå¼¹çª— + IPFS CIDè¾“å…¥ï¼‰
- âœ… å¿«æ·æ“ä½œåŒºï¼ˆåˆ›å»ºå¥—é¤ã€ç¼–è¾‘ä¸»é¡µã€æ•°æ®åˆ†æã€ç”³è¯·æç°ï¼‰
- âœ… æœªæ³¨å†Œç”¨æˆ·å¼•å¯¼

**è®¾è®¡äº®ç‚¹**:
- ä¸€ç›®äº†ç„¶çš„æ•°æ®æ¦‚è§ˆ
- åˆ†ç±»æ¸…æ™°çš„è®¢å•ç®¡ç†
- Badgeæç¤ºå¾…å¤„ç†è®¢å•æ•°
- å¿«é€Ÿæ“ä½œå…¥å£

### 2. å¸‚åœºé¡µé¢å¢å¼º

**ä¿®æ”¹æ–‡ä»¶**: `MarketPage.tsx`

**æ–°å¢åŠŸèƒ½**:
- âœ… é†’ç›®çš„æ¸å˜è‰²å…¥é©»æ¨ªå¹…
- âœ… å¹³å°æ•°æ®å±•ç¤ºï¼ˆå·²å…¥é©»å¤§å¸ˆæ•°ã€æœˆå‡æ”¶å…¥ï¼‰
- âœ… æ ¸å¿ƒä¼˜åŠ¿æ ‡ç­¾å±•ç¤º
- âœ… åŒæŒ‰é’®CTAï¼ˆç«‹å³å…¥é©»ã€äº†è§£è¯¦æƒ…ï¼‰

### 3. è·¯ç”±é…ç½®æ›´æ–°

**ä¿®æ”¹æ–‡ä»¶**: `routes.tsx`

**æ–°å¢è·¯ç”±**:
```typescript
{ match: h => h === '#/provider/info', component: ProviderInfoPage }
{ match: h => h === '#/provider/register', component: ProviderRegisterPage }
{ match: h => h === '#/provider/dashboard', component: ProviderDashboardPage }
```

### 4. æ ·å¼æ–‡ä»¶

**æ–°å¢æ–‡ä»¶**: `provider.css`

åŒ…å«æ‰€æœ‰é¡µé¢çš„æ ·å¼å®šä¹‰ï¼Œæ”¯æŒå“åº”å¼è®¾è®¡ã€‚

## ğŸ¯ ç”¨æˆ·æµç¨‹

```
å¸‚åœºé¡µé¢
  â†“ ç‚¹å‡»"ç«‹å³å…¥é©»"æˆ–"äº†è§£è¯¦æƒ…"
å…¥é©»è¯´æ˜é¡µ (#/provider/info)
  â†“ ç‚¹å‡»"ç«‹å³æ³¨å†Œ"
æ³¨å†Œé¡µé¢ (#/provider/register)
  â†“ å®Œæˆ4æ­¥æ³¨å†Œ
  â†“ ç­‰å¾…å®¡æ ¸
å®¡æ ¸é€šè¿‡
  â†“
å¤§å¸ˆå·¥ä½œå° (#/provider/dashboard)
  â†“ æ¥å•ã€è§£è¯»ã€æ”¶ç›Š
```

## ğŸ“¦ æŠ€æœ¯å®ç°

### ä¾èµ–çš„é“¾ä¸Šæ¥å£

1. **æ³¨å†Œæä¾›è€…**:
```typescript
api.tx.divinationMarket.registerProvider(
  name: string,
  bio: string,
  specialties: u16,  // ä½å›¾
  supportedTypes: u8  // ä½å›¾
)
```

2. **æ¥å—è®¢å•**:
```typescript
api.tx.divinationMarket.acceptOrder(orderId: u32)
```

3. **æ‹’ç»è®¢å•**:
```typescript
api.tx.divinationMarket.rejectOrder(orderId: u32)
```

4. **æäº¤è§£è¯»**:
```typescript
api.tx.divinationMarket.submitAnswer(
  orderId: u32,
  contentCid: string
)
```

### ä½¿ç”¨çš„å‰ç«¯ç»„ä»¶

**Ant Design 5 ç»„ä»¶**:
- Card, Button, Typography, Steps
- Form, Input, InputNumber, TextArea, Checkbox
- Tabs, Empty, Spin, Modal, Alert
- Tag, Badge, Avatar, Space, Row, Col
- Statistic, Rate, Collapse, Divider

**è‡ªå®šä¹‰ç»„ä»¶**:
- AdvantageCard - ä¼˜åŠ¿å¡ç‰‡
- FeeRateTable - è´¹ç‡è¡¨æ ¼
- EarningsCalculator - æ”¶ç›Šè®¡ç®—å™¨
- RequirementsSection - å…¥é©»æ¡ä»¶
- FAQSection - å¸¸è§é—®é¢˜
- StatCard - ç»Ÿè®¡å¡ç‰‡
- OrderCard - è®¢å•å¡ç‰‡
- SubmitAnswerModal - æäº¤è§£è¯»å¼¹çª—
- QuickActions - å¿«æ·æ“ä½œ

## ğŸ”— ä¸ç°æœ‰ç³»ç»Ÿçš„é›†æˆ

### 1. é“¾ä¸Šé›†æˆ

**ä¾èµ– Pallet**: `pallet-divination-market`

å·²æœ‰çš„å­˜å‚¨å’Œå‡½æ•°:
- âœ… `Providers` - æä¾›è€…å­˜å‚¨
- âœ… `register_provider()` - æ³¨å†Œå‡½æ•°
- âœ… `Orders` - è®¢å•å­˜å‚¨
- âœ… `accept_order()` - æ¥å•å‡½æ•°
- âœ… `reject_order()` - æ‹’å•å‡½æ•°
- âœ… `submit_answer()` - æäº¤è§£è¯»å‡½æ•°

**éœ€è¦æ–°å¢çš„å®¡æ ¸åŠŸèƒ½** (å¯é€‰ï¼Œåç»­Phase 2):
- âŒ `review_provider_application()` - å®¡æ ¸æä¾›è€…ç”³è¯·
- âŒ `ProviderStatus::Rejected` - æ‹’ç»çŠ¶æ€
- âŒ `ReviewRecords` - å®¡æ ¸è®°å½•å­˜å‚¨

### 2. å‰ç«¯é›†æˆ

**ä½¿ç”¨çš„Context**:
- `PolkadotContext` - åŒºå—é“¾è¿æ¥å’Œäº¤æ˜“ç­¾å

**ä½¿ç”¨çš„ç±»å‹ç³»ç»Ÿ**:
- `types/divination.ts` - å åœé€šç”¨ç±»å‹
  - DivinationType, Specialty, ProviderTier
  - OrderStatus, ServiceType
  - å·¥å…·å‡½æ•° (calculateAverageRating, formatAmountç­‰)

### 3. æ•°æ®æŸ¥è¯¢

**å½“å‰**: ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®(MOCK_PROVIDERS, MOCK_ORDERS)

**å¾…æ¥å…¥**:
- [ ] Subsquid ETLå±‚æŸ¥è¯¢
- [ ] é“¾ä¸Šç›´æ¥æŸ¥è¯¢
- [ ] å®æ—¶è®¢å•é€šçŸ¥

## ğŸ“Š æ•°æ®æµç¤ºæ„

```
ç”¨æˆ·æ“ä½œ
  â†“
å‰ç«¯è¡¨å•éªŒè¯
  â†“
æ„é€ äº¤æ˜“(Extrinsic)
  â†“
ç”¨æˆ·ç­¾å
  â†“
æäº¤åˆ°é“¾ä¸Š
  â†“
Palletå¤„ç†
  â†“
å­˜å‚¨çŠ¶æ€æ›´æ–°
  â†“
äº‹ä»¶è§¦å‘(Event)
  â†“
å‰ç«¯ç›‘å¬äº‹ä»¶
  â†“
UIæ›´æ–°
```

## ğŸš€ ä¸‹ä¸€æ­¥å·¥ä½œ

### Phase 2: å¢å¼ºåŠŸèƒ½ (Week 3)

1. **è®¢å•é€šçŸ¥ç³»ç»Ÿ**
   - æµè§ˆå™¨é€šçŸ¥API
   - è®¢å•çŠ¶æ€å˜æ›´æé†’
   - æ–°è®¢å•æ¨é€

2. **æ•°æ®ç»Ÿè®¡å¢å¼º**
   - æ”¶ç›Šè¶‹åŠ¿å›¾è¡¨
   - è®¢å•åˆ†ææŠ¥è¡¨
   - è¯„åˆ†åˆ†å¸ƒå›¾

3. **å¥—é¤ç®¡ç†é¡µé¢**
   - åˆ›å»º/ç¼–è¾‘å¥—é¤
   - å¥—é¤ä¸Šä¸‹æ¶
   - ä»·æ ¼ç­–ç•¥è°ƒæ•´

4. **æç°åŠŸèƒ½å®Œå–„**
   - æç°ç”³è¯·è¡¨å•
   - æç°è®°å½•æŸ¥è¯¢
   - ä½™é¢ç®¡ç†

### Phase 3: é«˜çº§åŠŸèƒ½ (Week 4+)

1. **ä¸ªäººä¸»é¡µè£…ä¿®**
   - å®ç° PROVIDER_PROFILE_EXTENSION æ–¹æ¡ˆ
   - èµ„è´¨è¯ä¹¦ä¸Šä¼ 
   - ä½œå“é›†å±•ç¤º
   - æŠ€èƒ½æ ‡ç­¾ç®¡ç†

2. **ä¿¡ç”¨ä½“ç³»é›†æˆ**
   - ä¿¡ç”¨åˆ†å±•ç¤º
   - è¿è§„è®°å½•æŸ¥çœ‹
   - ä¿¡ç”¨ä¿®å¤ä»»åŠ¡

3. **ç§»åŠ¨ç«¯ä¼˜åŒ–**
   - å“åº”å¼å¸ƒå±€å®Œå–„
   - è§¦æ‘¸äº¤äº’ä¼˜åŒ–
   - æ€§èƒ½ä¼˜åŒ–

## ğŸ§ª æµ‹è¯•å»ºè®®

### åŠŸèƒ½æµ‹è¯•

1. **æ³¨å†Œæµç¨‹**:
   - [ ] å„æ­¥éª¤è¡¨å•éªŒè¯
   - [ ] å‰åå¯¼èˆªæ­£å¸¸
   - [ ] é“¾ä¸Šæäº¤æˆåŠŸ
   - [ ] æˆåŠŸé¡µé¢æ˜¾ç¤º

2. **å·¥ä½œå°**:
   - [ ] è®¢å•åˆ—è¡¨åŠ è½½
   - [ ] æ¥å•/æ‹’å•åŠŸèƒ½
   - [ ] æäº¤è§£è¯»åŠŸèƒ½
   - [ ] ç»Ÿè®¡æ•°æ®æ­£ç¡®

3. **å¸‚åœºé¡µé¢**:
   - [ ] å…¥é©»æ¨ªå¹…æ˜¾ç¤º
   - [ ] è·¯ç”±è·³è½¬æ­£å¸¸

### å…¼å®¹æ€§æµ‹è¯•

- [ ] Chrome/Edge
- [ ] Firefox
- [ ] Safari
- [ ] ç§»åŠ¨ç«¯æµè§ˆå™¨

## ğŸ“± ç§»åŠ¨ç«¯é€‚é…

æ‰€æœ‰é¡µé¢å·²æŒ‰ max-width: 640px å±…ä¸­è®¾è®¡ï¼Œå®Œå…¨é€‚é…ç§»åŠ¨ç«¯ã€‚

**å“åº”å¼ç‰¹æ€§**:
- ç»Ÿè®¡å¡ç‰‡è‡ªåŠ¨æ¢è¡Œ
- æŒ‰é’®å…¨å®½æ˜¾ç¤º
- å­—ä½“å¤§å°é€‚é…
- é—´è·è°ƒæ•´

## ğŸ’¡ å…³é”®è®¾è®¡å†³ç­–

1. **åˆ†æ­¥æ³¨å†Œæµç¨‹**: é™ä½ç”¨æˆ·å¡«å†™è´Ÿæ‹…ï¼Œæé«˜å®Œæˆç‡
2. **å¯è§†åŒ–æ ‡ç­¾é€‰æ‹©**: æ¯”ä¸‹æ‹‰æ¡†æ›´ç›´è§‚å‹å¥½
3. **æ”¶ç›Šè®¡ç®—å™¨**: å¢å¼ºè½¬åŒ–ï¼Œç”¨æ•°æ®è¯´è¯
4. **å·¥ä½œå°æ ‡ç­¾é¡µ**: è®¢å•åˆ†ç±»æ¸…æ™°ï¼Œæ“ä½œé«˜æ•ˆ
5. **æ¨¡æ‹Ÿæ•°æ®å…ˆè¡Œ**: å‰åç«¯è§£è€¦ï¼Œç‹¬ç«‹å¼€å‘

## ğŸ”§ è°ƒè¯•æç¤º

**æŸ¥çœ‹é“¾ä¸ŠçŠ¶æ€**:
```typescript
// æŸ¥è¯¢æä¾›è€…ä¿¡æ¯
const provider = await api.query.divinationMarket.providers(address);
console.log(provider.toJSON());

// æŸ¥è¯¢è®¢å•ä¿¡æ¯
const order = await api.query.divinationMarket.orders(orderId);
console.log(order.toJSON());
```

**ç›‘å¬äº‹ä»¶**:
```typescript
api.query.system.events((events) => {
  events.forEach((record) => {
    const { event } = record;
    if (event.section === 'divinationMarket') {
      console.log('Market Event:', event.method, event.data.toJSON());
    }
  });
});
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [pallet-divination-market README](../../../pallets/divination/market/README.md)
- [ä¸ªäººä¸»é¡µæ‰©å±•æ–¹æ¡ˆ](../../../pallets/divination/market/docs/PROVIDER_PROFILE_EXTENSION.md)
- [å åœç±»å‹ç³»ç»Ÿæ–‡æ¡£](../../types/divination.ts)

## ğŸ‘¥ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issue æˆ– PRã€‚

---

**å®ç°æ—¥æœŸ**: 2025-01-XX
**å®ç°è€…**: Claude Code
**ç‰ˆæœ¬**: v1.0.0-MVP
