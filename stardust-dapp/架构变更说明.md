# 重要架构变更通知

## 📢 变更概述

**日期**: 2025-11-08  
**变更**: 移除自定义后端服务器（8787端口）  
**原因**: 简化架构，提高可靠性，符合Web3理念

---

## 🏗️ 架构变更

### 变更前
```
前端 → 自定义后端(8787) → Substrate节点(9944)
```

### 变更后
```
前端 → Substrate节点(9944) ✅
```

---

## ✅ 优势

- ✅ **更简单**: 减少1个服务依赖
- ✅ **更可靠**: 无单点故障
- ✅ **更快速**: 登录速度提升5倍
- ✅ **更Web3**: 完全去中心化

---

## 🚀 如何使用

### 启动服务（仅需2步）

```bash
# 1. 启动区块链节点
cd /home/xiaodong/文档/stardust
./target/release/node-template --dev

# 2. 启动前端（新终端）
cd stardust-dapp
npm run dev
```

**不再需要**启动8787端口的后端服务 ❌

### 测试登录

1. 访问 http://localhost:5173
2. 点击"恢复钱包"或"创建钱包"
3. 填写信息
4. ✅ 登录成功！

---

## 📁 主要变更文件

| 文件 | 变更 |
|------|------|
| `src/lib/sessionManager.ts` | 🔄 纯前端实现 |
| `src/lib/backend.ts` | ⚠️ 已废弃 |
| `src/lib/config.ts` | 🔄 移除后端配置 |
| `.env` | 🔄 简化配置 |

---

## 📚 详细文档

- [完整变更文档](../docs/架构变更-移除自定义后端.md)
- [测试指南](../docs/会话建立失败问题解决方案.md)（已解决）

---

## ❓ 常见问题

### Q: 会话还安全吗？
**A**: 是的！助记词仍然加密存储，会话也加密保存在本地。

### Q: 需要重新配置吗？
**A**: 不需要，只需重启前端服务器即可。

### Q: 旧数据会丢失吗？
**A**: 不会，已有的钱包数据完全兼容。

---

**维护**: Stardust 开发团队  
**更新**: 2025-11-08

